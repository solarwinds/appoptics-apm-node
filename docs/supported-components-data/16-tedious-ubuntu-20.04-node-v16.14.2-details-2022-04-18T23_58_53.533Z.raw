npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.1.5',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.

added 2 packages, removed 73 packages, changed 3 packages, and audited 861 packages in 10s

88 packages are looking for funding
  run `npm fund` for details

2 high severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-18T23:59:04.833Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:04.833Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:04.833Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:04.833Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:04.900Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:05.199Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:05.216Z solarwinds-apm:patching patched https 
2022-04-18T23:59:05.216Z solarwinds-apm:patching patched http 
2022-04-18T23:59:05.280Z solarwinds-apm:patching patched tedious 0.1.5
2022-04-18T23:59:05.283Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 0.1.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 0.1.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.1.5
       "before each" hook for "should support parameters with a database name":
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emit (node:events:526:28)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.2.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 2 packages, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

2 high severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-18T23:59:13.599Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:13.599Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:13.599Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:13.599Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:13.655Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:13.781Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:13.798Z solarwinds-apm:patching patched https 
2022-04-18T23:59:13.798Z solarwinds-apm:patching patched http 
2022-04-18T23:59:13.864Z solarwinds-apm:patching patched tedious 0.2.1
2022-04-18T23:59:13.867Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 0.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 0.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.2.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.2.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

2 high severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-18T23:59:21.806Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:21.806Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:21.807Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:21.807Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:21.882Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:22.047Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:22.065Z solarwinds-apm:patching patched https 
2022-04-18T23:59:22.065Z solarwinds-apm:patching patched http 
2022-04-18T23:59:22.133Z solarwinds-apm:patching patched tedious 0.2.2
2022-04-18T23:59:22.137Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 0.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 0.2.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.2.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.2.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.2.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 0.2.2
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.2.3',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

removed 1 package, changed 2 packages, and audited 860 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:59:30.619Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:30.619Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:30.619Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:30.620Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:30.678Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:30.802Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:30.818Z solarwinds-apm:patching patched https 
2022-04-18T23:59:30.819Z solarwinds-apm:patching patched http 
2022-04-18T23:59:30.881Z solarwinds-apm:patching patched tedious 0.2.3
2022-04-18T23:59:30.884Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 0.2.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 0.2.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.2.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.2.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.2.3
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.2.4',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 2 packages, and audited 860 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:59:39.335Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:39.335Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:39.336Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:39.336Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:39.396Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:39.519Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:39.535Z solarwinds-apm:patching patched https 
2022-04-18T23:59:39.536Z solarwinds-apm:patching patched http 
2022-04-18T23:59:39.570Z solarwinds-apm:patching patched tedious 0.2.4
2022-04-18T23:59:39.574Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 0.2.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 0.2.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.2.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.2.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.2.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 0.2.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 0.2.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 0.2.4
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 0.2.4
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.3.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 860 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:59:49.005Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:49.005Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:49.005Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:49.005Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:49.067Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:49.247Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:49.282Z solarwinds-apm:patching patched https 
2022-04-18T23:59:49.283Z solarwinds-apm:patching patched http 
2022-04-18T23:59:49.322Z solarwinds-apm:patching patched tedious 0.3.0
2022-04-18T23:59:49.326Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 0.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 0.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.3.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.3.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.3.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 0.3.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.0.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 860 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:59:57.451Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:57.451Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:57.451Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:57.452Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:57.519Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:57.665Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:57.681Z solarwinds-apm:patching patched https 
2022-04-18T23:59:57.681Z solarwinds-apm:patching patched http 
2022-04-18T23:59:57.716Z solarwinds-apm:patching patched tedious 1.0.0
2022-04-18T23:59:57.719Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.0.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.0.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.0.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.0.0
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.1.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

added 1 package, changed 1 package, and audited 861 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:08.935Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:08.938Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:08.939Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:08.939Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:09.034Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:09.180Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:09.219Z solarwinds-apm:patching patched https 
2022-04-19T00:00:09.219Z solarwinds-apm:patching patched http 
2022-04-19T00:00:09.270Z solarwinds-apm:patching patched tedious 1.1.0
2022-04-19T00:00:09.274Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.1.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.2.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:16.861Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:16.862Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:16.862Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:16.862Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:16.918Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:17.035Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:17.050Z solarwinds-apm:patching patched https 
2022-04-19T00:00:17.050Z solarwinds-apm:patching patched http 
2022-04-19T00:00:17.083Z solarwinds-apm:patching patched tedious 1.2.0
2022-04-19T00:00:17.087Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.2.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.2.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.2.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:25.789Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:25.790Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:25.790Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:25.790Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:25.845Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:25.972Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:25.988Z solarwinds-apm:patching patched https 
2022-04-19T00:00:25.989Z solarwinds-apm:patching patched http 
2022-04-19T00:00:26.026Z solarwinds-apm:patching patched tedious 1.2.1
2022-04-19T00:00:26.030Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.2.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.2.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.2.1
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.2.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:35.354Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:35.355Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:35.355Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:35.355Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:35.415Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:35.545Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:35.562Z solarwinds-apm:patching patched https 
2022-04-19T00:00:35.562Z solarwinds-apm:patching patched http 
2022-04-19T00:00:35.601Z solarwinds-apm:patching patched tedious 1.2.2
2022-04-19T00:00:35.605Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.2.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.2.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.2.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.2.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.2.2
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:43.972Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:43.972Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:43.972Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:43.972Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:44.036Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:44.164Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:44.180Z solarwinds-apm:patching patched https 
2022-04-19T00:00:44.181Z solarwinds-apm:patching patched http 
2022-04-19T00:00:44.216Z solarwinds-apm:patching patched tedious 1.3.0
2022-04-19T00:00:44.219Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:52.498Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:52.499Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:52.499Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:52.499Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:52.559Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:52.688Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:52.704Z solarwinds-apm:patching patched https 
2022-04-19T00:00:52.704Z solarwinds-apm:patching patched http 
2022-04-19T00:00:52.742Z solarwinds-apm:patching patched tedious 1.3.1
2022-04-19T00:00:52.746Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.3.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.1
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:01:01.168Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:01:01.168Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:01:01.168Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:01:01.168Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:01:01.228Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:01:01.353Z solarwinds-apm:patching patched crypto 
2022-04-19T00:01:01.367Z solarwinds-apm:patching patched https 
2022-04-19T00:01:01.368Z solarwinds-apm:patching patched http 
2022-04-19T00:01:01.403Z solarwinds-apm:patching patched tedious 1.3.2
2022-04-19T00:01:01.406Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.3.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) "before each" hook for "should do nothing when disabled with no database name"


  3 passing (4s)
  12 failing

  1) probes.tedious 1.3.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.3.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.3.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.3.2
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.3.2
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.3.2
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.3.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.3.2
       "before each" hook for "should do nothing when disabled with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.3',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:01:12.132Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:01:12.133Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:01:12.133Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:01:12.133Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:01:12.192Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:01:12.318Z solarwinds-apm:patching patched crypto 
2022-04-19T00:01:12.334Z solarwinds-apm:patching patched https 
2022-04-19T00:01:12.334Z solarwinds-apm:patching patched http 
2022-04-19T00:01:12.369Z solarwinds-apm:patching patched tedious 1.3.3
2022-04-19T00:01:12.373Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.3.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.3.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.3
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.4',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:01:21.282Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:01:21.283Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:01:21.283Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:01:21.283Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:01:21.343Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:01:21.471Z solarwinds-apm:patching patched crypto 
2022-04-19T00:01:21.487Z solarwinds-apm:patching patched https 
2022-04-19T00:01:21.487Z solarwinds-apm:patching patched http 
2022-04-19T00:01:21.525Z solarwinds-apm:patching patched tedious 1.3.4
2022-04-19T00:01:21.528Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.3.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.3.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.4
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.5',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:01:29.325Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:01:29.328Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:01:29.328Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:01:29.328Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:01:29.389Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:01:29.531Z solarwinds-apm:patching patched crypto 
2022-04-19T00:01:29.561Z solarwinds-apm:patching patched https 
2022-04-19T00:01:29.562Z solarwinds-apm:patching patched http 
2022-04-19T00:01:29.617Z solarwinds-apm:patching patched tedious 1.3.5
2022-04-19T00:01:29.627Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.3.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.3.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.5
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.4.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:01:38.370Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:01:38.370Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:01:38.371Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:01:38.371Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:01:38.431Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:01:38.580Z solarwinds-apm:patching patched crypto 
2022-04-19T00:01:38.598Z solarwinds-apm:patching patched https 
2022-04-19T00:01:38.599Z solarwinds-apm:patching patched http 
2022-04-19T00:01:38.640Z solarwinds-apm:patching patched tedious 1.4.0
2022-04-19T00:01:38.643Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) "before each" hook for "should support basic queries with no database name"


  3 passing (2s)
  7 failing

  1) probes.tedious 1.4.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.4.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.4.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.4.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.4.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.4.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.4.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.4.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:01:48.236Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:01:48.236Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:01:48.236Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:01:48.236Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:01:48.300Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:01:48.430Z solarwinds-apm:patching patched crypto 
2022-04-19T00:01:48.447Z solarwinds-apm:patching patched https 
2022-04-19T00:01:48.447Z solarwinds-apm:patching patched http 
2022-04-19T00:01:48.485Z solarwinds-apm:patching patched tedious 1.4.1
2022-04-19T00:01:48.489Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.4.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.4.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.4.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.4.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.4.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:01:56.127Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:01:56.128Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:01:56.128Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:01:56.128Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:01:56.192Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:01:56.361Z solarwinds-apm:patching patched crypto 
2022-04-19T00:01:56.378Z solarwinds-apm:patching patched https 
2022-04-19T00:01:56.379Z solarwinds-apm:patching patched http 
2022-04-19T00:01:56.418Z solarwinds-apm:patching patched tedious 1.4.2
2022-04-19T00:01:56.422Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.4.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.4.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.4.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.4.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.4.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.4.2
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.4.3',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:02:04.708Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:02:04.709Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:02:04.709Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:02:04.709Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:02:04.772Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:02:04.895Z solarwinds-apm:patching patched crypto 
2022-04-19T00:02:04.911Z solarwinds-apm:patching patched https 
2022-04-19T00:02:04.911Z solarwinds-apm:patching patched http 
2022-04-19T00:02:04.948Z solarwinds-apm:patching patched tedious 1.4.3
2022-04-19T00:02:04.952Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.4.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.4.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.4.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.4.3
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:02:13.123Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:02:13.123Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:02:13.123Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:02:13.123Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:02:13.184Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:02:13.305Z solarwinds-apm:patching patched crypto 
2022-04-19T00:02:13.320Z solarwinds-apm:patching patched https 
2022-04-19T00:02:13.321Z solarwinds-apm:patching patched http 
2022-04-19T00:02:13.354Z solarwinds-apm:patching patched tedious 1.5.1
2022-04-19T00:02:13.358Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.5.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:02:21.685Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:02:21.686Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:02:21.686Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:02:21.686Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:02:21.745Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:02:21.927Z solarwinds-apm:patching patched crypto 
2022-04-19T00:02:21.944Z solarwinds-apm:patching patched https 
2022-04-19T00:02:21.945Z solarwinds-apm:patching patched http 
2022-04-19T00:02:21.984Z solarwinds-apm:patching patched tedious 1.5.2
2022-04-19T00:02:21.987Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.5.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.2
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.3',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:02:29.762Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:02:29.762Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:02:29.762Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:02:29.762Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:02:29.821Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:02:29.967Z solarwinds-apm:patching patched crypto 
2022-04-19T00:02:29.982Z solarwinds-apm:patching patched https 
2022-04-19T00:02:29.982Z solarwinds-apm:patching patched http 
2022-04-19T00:02:30.017Z solarwinds-apm:patching patched tedious 1.5.3
2022-04-19T00:02:30.020Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.5.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.3
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.3
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.3
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.3
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.5.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.5.3
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.4',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:02:40.171Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:02:40.172Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:02:40.172Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:02:40.172Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:02:40.232Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:02:40.415Z solarwinds-apm:patching patched crypto 
2022-04-19T00:02:40.432Z solarwinds-apm:patching patched https 
2022-04-19T00:02:40.432Z solarwinds-apm:patching patched http 
2022-04-19T00:02:40.472Z solarwinds-apm:patching patched tedious 1.5.4
2022-04-19T00:02:40.476Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.5.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.4
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.4
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.5',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 13s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:02:56.225Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:02:56.225Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:02:56.225Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:02:56.225Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:02:56.284Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:02:56.404Z solarwinds-apm:patching patched crypto 
2022-04-19T00:02:56.420Z solarwinds-apm:patching patched https 
2022-04-19T00:02:56.421Z solarwinds-apm:patching patched http 
2022-04-19T00:02:56.457Z solarwinds-apm:patching patched tedious 1.5.5
2022-04-19T00:02:56.461Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) "before each" hook for "should truncate long queries with no database name"


  3 passing (3s)
  10 failing

  1) probes.tedious 1.5.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.5
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.5
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.5
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.5
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.5
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.5
       "before each" hook for "should truncate long queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.6',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:03:07.106Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:03:07.106Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:03:07.106Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:03:07.106Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:03:07.201Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:03:07.435Z solarwinds-apm:patching patched crypto 
2022-04-19T00:03:07.453Z solarwinds-apm:patching patched https 
2022-04-19T00:03:07.454Z solarwinds-apm:patching patched http 
2022-04-19T00:03:07.494Z solarwinds-apm:patching patched tedious 1.5.6
2022-04-19T00:03:07.497Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.6
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.5.6
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.6
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.6
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.6
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.6
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.7',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:03:15.686Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:03:15.687Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:03:15.687Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:03:15.687Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:03:15.741Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:03:15.857Z solarwinds-apm:patching patched crypto 
2022-04-19T00:03:15.872Z solarwinds-apm:patching patched https 
2022-04-19T00:03:15.872Z solarwinds-apm:patching patched http 
2022-04-19T00:03:15.907Z solarwinds-apm:patching patched tedious 1.5.7
2022-04-19T00:03:15.910Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.7
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.5.7
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.7
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.7
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.7
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.7
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.8',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:03:24.574Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:03:24.575Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:03:24.575Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:03:24.575Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:03:24.643Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:03:24.765Z solarwinds-apm:patching patched crypto 
2022-04-19T00:03:24.780Z solarwinds-apm:patching patched https 
2022-04-19T00:03:24.780Z solarwinds-apm:patching patched http 
2022-04-19T00:03:24.815Z solarwinds-apm:patching patched tedious 1.5.8
2022-04-19T00:03:24.819Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.8
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) "before each" hook for "should truncate long queries with no database name"


  3 passing (3s)
  10 failing

  1) probes.tedious 1.5.8
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.8
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.8
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.8
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.8
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.8
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.8
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.8
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.8
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.8
       "before each" hook for "should truncate long queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.6.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:03:34.698Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:03:34.699Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:03:34.699Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:03:34.699Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:03:34.758Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:03:34.874Z solarwinds-apm:patching patched crypto 
2022-04-19T00:03:34.889Z solarwinds-apm:patching patched https 
2022-04-19T00:03:34.890Z solarwinds-apm:patching patched http 
2022-04-19T00:03:34.925Z solarwinds-apm:patching patched tedious 1.6.0
2022-04-19T00:03:34.928Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.6.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.6.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.6.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.6.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.6.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.6.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.6.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.6.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.6.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.6.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.6.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.6.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.7.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:03:45.872Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:03:45.873Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:03:45.873Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:03:45.873Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:03:45.937Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:03:46.068Z solarwinds-apm:patching patched crypto 
2022-04-19T00:03:46.084Z solarwinds-apm:patching patched https 
2022-04-19T00:03:46.084Z solarwinds-apm:patching patched http 
2022-04-19T00:03:46.123Z solarwinds-apm:patching patched tedious 1.7.0
2022-04-19T00:03:46.126Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) "before each" hook for "should truncate long queries with no database name"


  3 passing (3s)
  10 failing

  1) probes.tedious 1.7.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.7.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.7.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.7.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.7.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.7.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.7.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.7.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.7.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.7.0
       "before each" hook for "should truncate long queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.8.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:03:56.116Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:03:56.116Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:03:56.116Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:03:56.116Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:03:56.178Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:03:56.299Z solarwinds-apm:patching patched crypto 
2022-04-19T00:03:56.314Z solarwinds-apm:patching patched https 
2022-04-19T00:03:56.314Z solarwinds-apm:patching patched http 
2022-04-19T00:03:56.349Z solarwinds-apm:patching patched tedious 1.8.0
2022-04-19T00:03:56.353Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.8.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.8.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.8.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.8.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.8.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.8.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.8.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.8.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.8.0
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.8.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:04:05.456Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:04:05.456Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:04:05.456Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:04:05.456Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:04:05.530Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:04:05.689Z solarwinds-apm:patching patched crypto 
2022-04-19T00:04:05.707Z solarwinds-apm:patching patched https 
2022-04-19T00:04:05.707Z solarwinds-apm:patching patched http 
2022-04-19T00:04:05.747Z solarwinds-apm:patching patched tedious 1.8.1
2022-04-19T00:04:05.751Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.8.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) "before each" hook for "should tag queries when feature is enabled"


  3 passing (3s)
  11 failing

  1) probes.tedious 1.8.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.8.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.8.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.8.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.8.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.8.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.8.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.8.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.8.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.8.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.8.1
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.9.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:04:15.579Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:04:15.579Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:04:15.579Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:04:15.579Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:04:15.638Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:04:15.764Z solarwinds-apm:patching patched crypto 
2022-04-19T00:04:15.781Z solarwinds-apm:patching patched https 
2022-04-19T00:04:15.782Z solarwinds-apm:patching patched http 
2022-04-19T00:04:15.819Z solarwinds-apm:patching patched tedious 1.9.0
2022-04-19T00:04:15.823Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.9.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.9.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.9.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.9.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.9.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.9.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.9.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.9.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.9.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.9.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.9.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.9.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.9.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.

changed 4 packages, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:04:26.127Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:04:26.128Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:04:26.128Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:04:26.128Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:04:26.182Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:04:26.297Z solarwinds-apm:patching patched crypto 
2022-04-19T00:04:26.311Z solarwinds-apm:patching patched https 
2022-04-19T00:04:26.312Z solarwinds-apm:patching patched http 
2022-04-19T00:04:26.347Z solarwinds-apm:patching patched tedious 1.10.0
2022-04-19T00:04:26.350Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.10.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.10.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.10.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.10.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.10.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.10.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.10.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.10.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.10.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.10.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.10.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.10.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.10.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:04:36.358Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:04:36.359Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:04:36.359Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:04:36.359Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:04:36.419Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:04:36.548Z solarwinds-apm:patching patched crypto 
2022-04-19T00:04:36.564Z solarwinds-apm:patching patched https 
2022-04-19T00:04:36.565Z solarwinds-apm:patching patched http 
2022-04-19T00:04:36.603Z solarwinds-apm:patching patched tedious 1.11.0
2022-04-19T00:04:36.607Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.11.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.11.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:04:45.013Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:04:45.013Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:04:45.013Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:04:45.014Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:04:45.075Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:04:45.204Z solarwinds-apm:patching patched crypto 
2022-04-19T00:04:45.220Z solarwinds-apm:patching patched https 
2022-04-19T00:04:45.220Z solarwinds-apm:patching patched http 
2022-04-19T00:04:45.260Z solarwinds-apm:patching patched tedious 1.11.1
2022-04-19T00:04:45.264Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.11.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) "before each" hook for "should tag queries when feature is enabled"


  3 passing (3s)
  11 failing

  1) probes.tedious 1.11.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.11.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.11.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.11.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.11.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.11.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.11.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.11.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.11.1
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 861 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:04:56.975Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:04:56.976Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:04:56.976Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:04:56.976Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:04:57.030Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:04:57.147Z solarwinds-apm:patching patched crypto 
2022-04-19T00:04:57.162Z solarwinds-apm:patching patched https 
2022-04-19T00:04:57.163Z solarwinds-apm:patching patched http 
2022-04-19T00:04:57.198Z solarwinds-apm:patching patched tedious 1.11.2
2022-04-19T00:04:57.201Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.11.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.11.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.11.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.11.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.11.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.11.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.11.2
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:05:07.364Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:05:07.364Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:05:07.364Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:05:07.364Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:05:07.423Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:05:07.535Z solarwinds-apm:patching patched crypto 
2022-04-19T00:05:07.550Z solarwinds-apm:patching patched https 
2022-04-19T00:05:07.550Z solarwinds-apm:patching patched http 
2022-04-19T00:05:07.586Z solarwinds-apm:patching patched tedious 1.11.4
2022-04-19T00:05:07.589Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.11.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.11.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.11.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.11.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.11.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.11.4
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.11.4
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:05:16.832Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:05:16.833Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:05:16.833Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:05:16.833Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:05:16.906Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:05:17.069Z solarwinds-apm:patching patched crypto 
2022-04-19T00:05:17.086Z solarwinds-apm:patching patched https 
2022-04-19T00:05:17.086Z solarwinds-apm:patching patched http 
2022-04-19T00:05:17.128Z solarwinds-apm:patching patched tedious 1.11.5
2022-04-19T00:05:17.132Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.11.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) "before each" hook for "should sanitize query with no database name"


  3 passing (3s)
  9 failing

  1) probes.tedious 1.11.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.11.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.11.5
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.11.5
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.11.5
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.11.5
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.11.5
       "before each" hook for "should sanitize query with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.emit (node:events:526:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.emit (node:events:526:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at Socket.emit (node:events:526:28)
      at addChunk (node:internal/streams/readable:315:12)
      at readableAddChunk (node:internal/streams/readable:289:9)
      at Socket.Readable.push (node:internal/streams/readable:228:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated core-js@1.2.7: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.

added 6 packages, removed 1 package, changed 1 package, and audited 866 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:05:27.124Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:05:27.124Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:05:27.124Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:05:27.124Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:05:27.179Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:05:27.305Z solarwinds-apm:patching patched crypto 
2022-04-19T00:05:27.321Z solarwinds-apm:patching patched https 
2022-04-19T00:05:27.321Z solarwinds-apm:patching patched http 
2022-04-19T00:05:27.396Z solarwinds-apm:patching patched tedious 1.12.0
2022-04-19T00:05:27.399Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.12.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 1.12.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.12.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.12.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.12.0
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at MessageIO.emit (node:events:526:28)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)




changed 1 package, and audited 866 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:05:35.784Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:05:35.785Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:05:35.785Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:05:35.785Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:05:35.892Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:05:36.073Z solarwinds-apm:patching patched crypto 
2022-04-19T00:05:36.089Z solarwinds-apm:patching patched https 
2022-04-19T00:05:36.089Z solarwinds-apm:patching patched http 
2022-04-19T00:05:36.161Z solarwinds-apm:patching patched tedious 1.12.1
2022-04-19T00:05:36.168Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.12.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.12.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.12.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.12.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.12.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.12.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.12.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.12.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.12.1
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at MessageIO.emit (node:events:526:28)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)




changed 1 package, and audited 866 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:05:45.355Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:05:45.356Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:05:45.356Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:05:45.356Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:05:45.417Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:05:45.563Z solarwinds-apm:patching patched crypto 
2022-04-19T00:05:45.591Z solarwinds-apm:patching patched https 
2022-04-19T00:05:45.591Z solarwinds-apm:patching patched http 
2022-04-19T00:05:45.669Z solarwinds-apm:patching patched tedious 1.12.2
2022-04-19T00:05:45.673Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.12.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.12.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.12.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.12.2
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at MessageIO.emit (node:events:526:28)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)




changed 1 package, and audited 866 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:05:53.885Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:05:53.886Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:05:53.886Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:05:53.886Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:05:53.948Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:05:54.075Z solarwinds-apm:patching patched crypto 
2022-04-19T00:05:54.092Z solarwinds-apm:patching patched https 
2022-04-19T00:05:54.092Z solarwinds-apm:patching patched http 
2022-04-19T00:05:54.165Z solarwinds-apm:patching patched tedious 1.12.3
2022-04-19T00:05:54.169Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.12.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.12.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.12.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.12.3
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at MessageIO.emit (node:events:526:28)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)




changed 1 package, and audited 866 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:06:01.836Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:06:01.837Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:06:01.837Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:06:01.837Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:06:01.900Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:06:02.026Z solarwinds-apm:patching patched crypto 
2022-04-19T00:06:02.042Z solarwinds-apm:patching patched https 
2022-04-19T00:06:02.043Z solarwinds-apm:patching patched http 
2022-04-19T00:06:02.104Z solarwinds-apm:patching patched tedious 1.13.0
2022-04-19T00:06:02.108Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.13.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.13.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.13.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.13.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.13.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.13.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.13.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.13.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.13.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.13.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.13.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.13.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.13.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 866 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:06:12.158Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:06:12.159Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:06:12.159Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:06:12.159Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:06:12.219Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:06:12.346Z solarwinds-apm:patching patched crypto 
2022-04-19T00:06:12.362Z solarwinds-apm:patching patched https 
2022-04-19T00:06:12.363Z solarwinds-apm:patching patched http 
2022-04-19T00:06:12.421Z solarwinds-apm:patching patched tedious 1.13.1
2022-04-19T00:06:12.425Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.13.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.13.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.13.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.13.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.13.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.13.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.13.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.13.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.13.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.13.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.13.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.13.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.13.1
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 866 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:06:22.593Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:06:22.593Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:06:22.593Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:06:22.593Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:06:22.663Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:06:22.810Z solarwinds-apm:patching patched crypto 
2022-04-19T00:06:22.826Z solarwinds-apm:patching patched https 
2022-04-19T00:06:22.826Z solarwinds-apm:patching patched http 
2022-04-19T00:06:22.932Z solarwinds-apm:patching patched tedious 1.13.2
2022-04-19T00:06:22.936Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.13.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.13.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.13.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.13.2
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)




added 1 package, changed 1 package, and audited 867 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:06:30.939Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:06:30.940Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:06:30.940Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:06:30.940Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:06:30.999Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:06:31.132Z solarwinds-apm:patching patched crypto 
2022-04-19T00:06:31.147Z solarwinds-apm:patching patched https 
2022-04-19T00:06:31.147Z solarwinds-apm:patching patched http 
2022-04-19T00:06:31.202Z solarwinds-apm:patching patched tedious 1.14.0
2022-04-19T00:06:31.205Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.14.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) "before each" hook for "should do nothing when disabled with no database name"


  3 passing (4s)
  12 failing

  1) probes.tedious 1.14.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.14.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.14.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.14.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.14.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.14.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.14.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.14.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.14.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.14.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.14.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:538:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.14.0
       "before each" hook for "should do nothing when disabled with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:216:38)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:42:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:87:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:180:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:177:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:422:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:410:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:407:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:421:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:147:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:121:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:144:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:420:12)



npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.

added 3 packages, removed 1 package, changed 3 packages, and audited 869 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:06:42.477Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:06:42.478Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:06:42.478Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:06:42.478Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:06:42.548Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:06:42.671Z solarwinds-apm:patching patched crypto 
2022-04-19T00:06:42.688Z solarwinds-apm:patching patched https 
2022-04-19T00:06:42.689Z solarwinds-apm:patching patched http 
2022-04-19T00:06:42.743Z solarwinds-apm:patching patched dns 
2022-04-19T00:06:42.780Z solarwinds-apm:patching patched tedious 1.15.0
2022-04-19T00:06:42.786Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.15.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.15.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:698:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:591:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.15.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:698:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:591:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.15.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)




removed 2 packages, changed 1 package, and audited 867 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:06:51.348Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:06:51.349Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:06:51.349Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:06:51.349Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:06:51.407Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:06:51.529Z solarwinds-apm:patching patched crypto 
2022-04-19T00:06:51.543Z solarwinds-apm:patching patched https 
2022-04-19T00:06:51.544Z solarwinds-apm:patching patched http 
2022-04-19T00:06:51.590Z solarwinds-apm:patching patched dns 
2022-04-19T00:06:51.617Z solarwinds-apm:patching patched tedious 2.0.0
2022-04-19T00:06:51.621Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:689:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:713:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:606:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.0.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)




changed 1 package, and audited 867 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:06:58.946Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:06:58.947Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:06:58.947Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:06:58.947Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:06:59.005Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:06:59.122Z solarwinds-apm:patching patched crypto 
2022-04-19T00:06:59.144Z solarwinds-apm:patching patched https 
2022-04-19T00:06:59.145Z solarwinds-apm:patching patched http 
2022-04-19T00:06:59.190Z solarwinds-apm:patching patched dns 
2022-04-19T00:06:59.218Z solarwinds-apm:patching patched tedious 2.0.1
2022-04-19T00:06:59.222Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:689:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:713:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:606:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.0.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)




added 2 packages, changed 1 package, and audited 869 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:07:07.566Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:07:07.566Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:07:07.566Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:07:07.567Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:07:07.629Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:07:07.779Z solarwinds-apm:patching patched crypto 
2022-04-19T00:07:07.795Z solarwinds-apm:patching patched https 
2022-04-19T00:07:07.796Z solarwinds-apm:patching patched http 
2022-04-19T00:07:07.848Z solarwinds-apm:patching patched dns 
2022-04-19T00:07:07.880Z solarwinds-apm:patching patched tedious 2.1.0
2022-04-19T00:07:07.884Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:872:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:896:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:768:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:872:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:896:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:768:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.1.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:519:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




removed 2 packages, changed 1 package, and audited 867 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:07:16.405Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:07:16.405Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:07:16.405Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:07:16.405Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:07:16.462Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:07:16.598Z solarwinds-apm:patching patched crypto 
2022-04-19T00:07:16.616Z solarwinds-apm:patching patched https 
2022-04-19T00:07:16.616Z solarwinds-apm:patching patched http 
2022-04-19T00:07:16.673Z solarwinds-apm:patching patched dns 
2022-04-19T00:07:16.707Z solarwinds-apm:patching patched tedious 2.1.1
2022-04-19T00:07:16.711Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:07:24.310Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:07:24.310Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:07:24.310Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:07:24.310Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:07:24.367Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:07:24.495Z solarwinds-apm:patching patched crypto 
2022-04-19T00:07:24.511Z solarwinds-apm:patching patched https 
2022-04-19T00:07:24.512Z solarwinds-apm:patching patched http 
2022-04-19T00:07:24.561Z solarwinds-apm:patching patched dns 
2022-04-19T00:07:24.590Z solarwinds-apm:patching patched tedious 2.1.2
2022-04-19T00:07:24.594Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.1.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.1.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.2
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:07:32.322Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:07:32.323Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:07:32.323Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:07:32.323Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:07:32.380Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:07:32.499Z solarwinds-apm:patching patched crypto 
2022-04-19T00:07:32.513Z solarwinds-apm:patching patched https 
2022-04-19T00:07:32.514Z solarwinds-apm:patching patched http 
2022-04-19T00:07:32.560Z solarwinds-apm:patching patched dns 
2022-04-19T00:07:32.587Z solarwinds-apm:patching patched tedious 2.1.3
2022-04-19T00:07:32.591Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.1.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 2.1.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.1.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 2.1.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 2.1.3
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:07:41.490Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:07:41.490Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:07:41.491Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:07:41.491Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:07:41.548Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:07:41.666Z solarwinds-apm:patching patched crypto 
2022-04-19T00:07:41.682Z solarwinds-apm:patching patched https 
2022-04-19T00:07:41.682Z solarwinds-apm:patching patched http 
2022-04-19T00:07:41.730Z solarwinds-apm:patching patched dns 
2022-04-19T00:07:41.763Z solarwinds-apm:patching patched tedious 2.1.4
2022-04-19T00:07:41.767Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.1.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.1.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.1.4
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:07:49.813Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:07:49.814Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:07:49.814Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:07:49.814Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:07:49.888Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:07:50.053Z solarwinds-apm:patching patched crypto 
2022-04-19T00:07:50.070Z solarwinds-apm:patching patched https 
2022-04-19T00:07:50.071Z solarwinds-apm:patching patched http 
2022-04-19T00:07:50.131Z solarwinds-apm:patching patched dns 
2022-04-19T00:07:50.164Z solarwinds-apm:patching patched tedious 2.1.5
2022-04-19T00:07:50.167Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.1.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.1.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.5
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 18s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:08:09.425Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:08:09.426Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:08:09.426Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:08:09.426Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:08:09.481Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:08:09.599Z solarwinds-apm:patching patched crypto 
2022-04-19T00:08:09.614Z solarwinds-apm:patching patched https 
2022-04-19T00:08:09.614Z solarwinds-apm:patching patched http 
2022-04-19T00:08:09.661Z solarwinds-apm:patching patched dns 
2022-04-19T00:08:09.690Z solarwinds-apm:patching patched tedious 2.2.0
2022-04-19T00:08:09.694Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:08:17.794Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:08:17.794Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:08:17.794Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:08:17.795Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:08:17.857Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:08:17.986Z solarwinds-apm:patching patched crypto 
2022-04-19T00:08:18.001Z solarwinds-apm:patching patched https 
2022-04-19T00:08:18.002Z solarwinds-apm:patching patched http 
2022-04-19T00:08:18.050Z solarwinds-apm:patching patched dns 
2022-04-19T00:08:18.080Z solarwinds-apm:patching patched tedious 2.2.1
2022-04-19T00:08:18.084Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.2.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:08:26.462Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:08:26.462Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:08:26.462Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:08:26.462Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:08:26.524Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:08:26.651Z solarwinds-apm:patching patched crypto 
2022-04-19T00:08:26.667Z solarwinds-apm:patching patched https 
2022-04-19T00:08:26.667Z solarwinds-apm:patching patched http 
2022-04-19T00:08:26.716Z solarwinds-apm:patching patched dns 
2022-04-19T00:08:26.746Z solarwinds-apm:patching patched tedious 2.2.2
2022-04-19T00:08:26.750Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.2.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.2
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:08:33.880Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:08:33.881Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:08:33.881Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:08:33.881Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:08:33.949Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:08:34.062Z solarwinds-apm:patching patched crypto 
2022-04-19T00:08:34.077Z solarwinds-apm:patching patched https 
2022-04-19T00:08:34.078Z solarwinds-apm:patching patched http 
2022-04-19T00:08:34.121Z solarwinds-apm:patching patched dns 
2022-04-19T00:08:34.148Z solarwinds-apm:patching patched tedious 2.2.3
2022-04-19T00:08:34.152Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.2.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.2.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:08:42.026Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:08:42.027Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:08:42.027Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:08:42.027Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:08:42.087Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:08:42.210Z solarwinds-apm:patching patched crypto 
2022-04-19T00:08:42.226Z solarwinds-apm:patching patched https 
2022-04-19T00:08:42.226Z solarwinds-apm:patching patched http 
2022-04-19T00:08:42.275Z solarwinds-apm:patching patched dns 
2022-04-19T00:08:42.311Z solarwinds-apm:patching patched tedious 2.2.4
2022-04-19T00:08:42.315Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.2.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.2.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.4
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




added 1 package, changed 1 package, and audited 868 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:08:51.064Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:08:51.065Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:08:51.065Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:08:51.065Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:08:51.122Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:08:51.234Z solarwinds-apm:patching patched crypto 
2022-04-19T00:08:51.249Z solarwinds-apm:patching patched https 
2022-04-19T00:08:51.249Z solarwinds-apm:patching patched http 
2022-04-19T00:08:51.296Z solarwinds-apm:patching patched dns 
2022-04-19T00:08:51.341Z solarwinds-apm:patching patched tedious 2.3.0
2022-04-19T00:08:51.344Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.3.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:08:58.895Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:08:58.896Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:08:58.896Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:08:58.896Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:08:58.956Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:08:59.088Z solarwinds-apm:patching patched crypto 
2022-04-19T00:08:59.105Z solarwinds-apm:patching patched https 
2022-04-19T00:08:59.105Z solarwinds-apm:patching patched http 
2022-04-19T00:08:59.157Z solarwinds-apm:patching patched dns 
2022-04-19T00:08:59.204Z solarwinds-apm:patching patched tedious 2.3.1
2022-04-19T00:08:59.207Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.3.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.3.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




added 1 package, removed 1 package, changed 1 package, and audited 868 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:07.409Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:07.410Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:07.410Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:07.410Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:07.469Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:07.601Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:07.618Z solarwinds-apm:patching patched https 
2022-04-19T00:09:07.618Z solarwinds-apm:patching patched http 
2022-04-19T00:09:07.668Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:07.708Z solarwinds-apm:patching patched tedious 2.4.0
2022-04-19T00:09:07.712Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.4.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.4.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.4.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:15.872Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:15.872Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:15.873Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:15.873Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:15.934Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:16.059Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:16.075Z solarwinds-apm:patching patched https 
2022-04-19T00:09:16.076Z solarwinds-apm:patching patched http 
2022-04-19T00:09:16.127Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:16.172Z solarwinds-apm:patching patched tedious 2.5.0
2022-04-19T00:09:16.175Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.5.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.5.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.5.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:23.677Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:23.678Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:23.678Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:23.678Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:23.734Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:23.888Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:23.904Z solarwinds-apm:patching patched https 
2022-04-19T00:09:23.905Z solarwinds-apm:patching patched http 
2022-04-19T00:09:23.960Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:24.003Z solarwinds-apm:patching patched tedious 2.5.1
2022-04-19T00:09:24.007Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.5.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.5.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.5.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:31.327Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:31.327Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:31.327Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:31.327Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:31.389Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:31.513Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:31.529Z solarwinds-apm:patching patched https 
2022-04-19T00:09:31.529Z solarwinds-apm:patching patched http 
2022-04-19T00:09:31.580Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:31.624Z solarwinds-apm:patching patched tedious 2.6.0
2022-04-19T00:09:31.628Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.6.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.6.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:40.077Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:40.077Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:40.077Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:40.077Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:40.131Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:40.246Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:40.260Z solarwinds-apm:patching patched https 
2022-04-19T00:09:40.261Z solarwinds-apm:patching patched http 
2022-04-19T00:09:40.309Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:40.349Z solarwinds-apm:patching patched tedious 2.6.1
2022-04-19T00:09:40.353Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.6.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:49.110Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:49.110Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:49.110Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:49.110Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:49.164Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:49.289Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:49.305Z solarwinds-apm:patching patched https 
2022-04-19T00:09:49.306Z solarwinds-apm:patching patched http 
2022-04-19T00:09:49.358Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:49.401Z solarwinds-apm:patching patched tedious 2.6.2
2022-04-19T00:09:49.404Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.6.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.2
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:57.876Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:57.876Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:57.876Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:57.876Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:57.929Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:58.050Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:58.067Z solarwinds-apm:patching patched https 
2022-04-19T00:09:58.067Z solarwinds-apm:patching patched http 
2022-04-19T00:09:58.118Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:58.161Z solarwinds-apm:patching patched tedious 2.6.3
2022-04-19T00:09:58.165Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.6.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1006:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1030:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




added 1 package, changed 1 package, and audited 869 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:10:06.752Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:10:06.753Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:10:06.753Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:10:06.753Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:10:06.809Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:10:06.954Z solarwinds-apm:patching patched crypto 
2022-04-19T00:10:06.971Z solarwinds-apm:patching patched https 
2022-04-19T00:10:06.971Z solarwinds-apm:patching patched http 
2022-04-19T00:10:07.021Z solarwinds-apm:patching patched dns 
2022-04-19T00:10:07.061Z solarwinds-apm:patching patched tedious 2.6.4
2022-04-19T00:10:07.065Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.6.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.6.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1006:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1030:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1006:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1030:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.6.4
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 869 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:10:15.201Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:10:15.202Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:10:15.202Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:10:15.202Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:10:15.262Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:10:15.410Z solarwinds-apm:patching patched crypto 
2022-04-19T00:10:15.430Z solarwinds-apm:patching patched https 
2022-04-19T00:10:15.431Z solarwinds-apm:patching patched http 
2022-04-19T00:10:15.478Z solarwinds-apm:patching patched dns 
2022-04-19T00:10:15.523Z solarwinds-apm:patching patched tedious 2.7.0
2022-04-19T00:10:15.527Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.7.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1014:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1038:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:897:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.7.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 869 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:10:23.288Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:10:23.289Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:10:23.289Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:10:23.289Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:10:23.359Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:10:23.504Z solarwinds-apm:patching patched crypto 
2022-04-19T00:10:23.521Z solarwinds-apm:patching patched https 
2022-04-19T00:10:23.521Z solarwinds-apm:patching patched http 
2022-04-19T00:10:23.578Z solarwinds-apm:patching patched dns 
2022-04-19T00:10:23.632Z solarwinds-apm:patching patched tedious 2.7.1
2022-04-19T00:10:23.636Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.7.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.7.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1014:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1038:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:897:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.7.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 869 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:10:31.076Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:10:31.077Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:10:31.077Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:10:31.077Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:10:31.131Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:10:31.258Z solarwinds-apm:patching patched crypto 
2022-04-19T00:10:31.275Z solarwinds-apm:patching patched https 
2022-04-19T00:10:31.275Z solarwinds-apm:patching patched http 
2022-04-19T00:10:31.306Z solarwinds-apm:patching patched dns 
2022-04-19T00:10:31.352Z solarwinds-apm:patching patched tedious 3.0.0
2022-04-19T00:10:31.356Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 3.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 3.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:952:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:974:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:857:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:147:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 3.0.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:601:29)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:152:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:332:9
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:324:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:331:12
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:128:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)




removed 5 packages, changed 4 packages, and audited 864 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:10:40.303Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:10:40.303Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:10:40.303Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:10:40.303Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:10:40.363Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:10:40.482Z solarwinds-apm:patching patched crypto 
2022-04-19T00:10:40.497Z solarwinds-apm:patching patched https 
2022-04-19T00:10:40.498Z solarwinds-apm:patching patched http 
2022-04-19T00:10:40.520Z solarwinds-apm:patching patched dns 
2022-04-19T00:10:40.566Z solarwinds-apm:patching patched tedious 3.0.1
2022-04-19T00:10:40.570Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 3.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 3.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:999:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1022:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:902:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 3.0.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:654:29)
      at Parser.emit (node:events:526:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at Parser.emit (node:events:526:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:48:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:153:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:322:9
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:314:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:321:12
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:129:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)




changed 1 package, and audited 864 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:10:48.773Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:10:48.773Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:10:48.773Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:10:48.773Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:10:48.832Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:10:48.954Z solarwinds-apm:patching patched crypto 
2022-04-19T00:10:48.970Z solarwinds-apm:patching patched https 
2022-04-19T00:10:48.970Z solarwinds-apm:patching patched http 
2022-04-19T00:10:48.996Z solarwinds-apm:patching patched dns 
2022-04-19T00:10:49.048Z solarwinds-apm:patching patched tedious 4.0.0
2022-04-19T00:10:49.052Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 4.0.0
       should support basic queries with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:99:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_basic (test/probes/tedious.test.js:98:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  2) probes.tedious 4.0.0
       should support parameters with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:121:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_parameters (test/probes/tedious.test.js:120:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  3) probes.tedious 4.0.0
       should sanitize query with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:154:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_sanitization (test/probes/tedious.test.js:152:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  4) probes.tedious 4.0.0
       should truncate long queries with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:187:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_truncate (test/probes/tedious.test.js:186:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  5) probes.tedious 4.0.0
       should tag queries when feature is enabled:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:214:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_tag (test/probes/tedious.test.js:213:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  6) probes.tedious 4.0.0
       should do nothing when disabled with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:239:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_disabled (test/probes/tedious.test.js:238:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  7) probes.tedious 4.0.0
       should support basic queries with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:99:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_basic (test/probes/tedious.test.js:98:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  8) probes.tedious 4.0.0
       should support parameters with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:121:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_parameters (test/probes/tedious.test.js:120:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  9) probes.tedious 4.0.0
       should sanitize query with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:154:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_sanitization (test/probes/tedious.test.js:152:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  10) probes.tedious 4.0.0
       should truncate long queries with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:187:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_truncate (test/probes/tedious.test.js:186:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  11) probes.tedious 4.0.0
       should tag queries when feature is enabled:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:214:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_tag (test/probes/tedious.test.js:213:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  12) probes.tedious 4.0.0
       should do nothing when disabled with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:239:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_disabled (test/probes/tedious.test.js:238:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)




changed 1 package, and audited 864 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:11:01.371Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:11:01.372Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:11:01.372Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:11:01.372Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:11:01.434Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:11:01.558Z solarwinds-apm:patching patched crypto 
2022-04-19T00:11:01.575Z solarwinds-apm:patching patched https 
2022-04-19T00:11:01.575Z solarwinds-apm:patching patched http 
2022-04-19T00:11:01.599Z solarwinds-apm:patching patched dns 
2022-04-19T00:11:01.641Z solarwinds-apm:patching patched tedious 4.0.1
2022-04-19T00:11:01.645Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) "before each" hook for "should do nothing when disabled with a database name"


  3 passing (2s)
  10 failing

  1) probes.tedious 4.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.0.1
       "before each" hook for "should do nothing when disabled with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1085:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:944:14)
      at Socket.emit (node:events:538:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 864 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:11:11.728Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:11:11.729Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:11:11.729Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:11:11.729Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:11:11.806Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:11:11.964Z solarwinds-apm:patching patched crypto 
2022-04-19T00:11:11.981Z solarwinds-apm:patching patched https 
2022-04-19T00:11:11.982Z solarwinds-apm:patching patched http 
2022-04-19T00:11:12.008Z solarwinds-apm:patching patched dns 
2022-04-19T00:11:12.054Z solarwinds-apm:patching patched tedious 4.0.2
2022-04-19T00:11:12.058Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.0.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.0.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.0.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.0.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.0.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.0.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.0.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.0.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.0.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.0.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1386:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1326:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1891:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1051:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:951:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:34:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '5F4B3FD784D01F3D',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6393,
  Timestamp_u: 1650327074408716,
  'X-Trace': '2BE7B98671644C2ED04FEB5D2729F83D0F00000000447D3F9FF14B013601',
  _V: '1',
  'sw.parent_span_id': '5f4b3fd784d01f3d',
  'sw.trace_context': '00-e7b98671644c2ed04feb5d2729f83d0f-447d3f9ff14b0136-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.0.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 864 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:11:21.879Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:11:21.880Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:11:21.880Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:11:21.880Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:11:21.936Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:11:22.051Z solarwinds-apm:patching patched crypto 
2022-04-19T00:11:22.066Z solarwinds-apm:patching patched https 
2022-04-19T00:11:22.066Z solarwinds-apm:patching patched http 
2022-04-19T00:11:22.089Z solarwinds-apm:patching patched dns 
2022-04-19T00:11:22.131Z solarwinds-apm:patching patched tedious 4.0.3
2022-04-19T00:11:22.135Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.0.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.0.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.0.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.0.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.0.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.0.3
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.0.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.0.3
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.0.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.0.3
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.0.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.0.3
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1386:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1326:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1891:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1051:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:951:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '6C25B0644D3D354A',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6458,
  Timestamp_u: 1650327084481447,
  'X-Trace': '2B5074FB8938267DDF9A4032505A4B7DB2000000008B7E8A45E0B7D2FB01',
  _V: '1',
  'sw.parent_span_id': '6c25b0644d3d354a',
  'sw.trace_context': '00-5074fb8938267ddf9a4032505a4b7db2-8b7e8a45e0b7d2fb-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.0.3
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 864 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:11:31.116Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:11:31.116Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:11:31.116Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:11:31.117Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:11:31.178Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:11:31.303Z solarwinds-apm:patching patched crypto 
2022-04-19T00:11:31.320Z solarwinds-apm:patching patched https 
2022-04-19T00:11:31.320Z solarwinds-apm:patching patched http 
2022-04-19T00:11:31.344Z solarwinds-apm:patching patched dns 
2022-04-19T00:11:31.387Z solarwinds-apm:patching patched tedious 4.0.4
2022-04-19T00:11:31.390Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.0.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.0.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.0.4
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.0.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.0.4
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.0.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.0.4
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.0.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.0.4
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.0.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.0.4
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.0.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.0.4
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1386:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1326:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1895:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1051:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:951:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '233428D77C75FCEA',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6523,
  Timestamp_u: 1650327093732515,
  'X-Trace': '2BC9EDD6C22D394C699C7A71F7BBACBC5800000000D387BDA0D623D22401',
  _V: '1',
  'sw.parent_span_id': '233428d77c75fcea',
  'sw.trace_context': '00-c9edd6c22d394c699c7a71f7bbacbc58-d387bda0d623d224-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.0.4
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142

added 28 packages, changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:11:41.437Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:11:41.438Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:11:41.438Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:11:41.438Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:11:41.499Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:11:41.630Z solarwinds-apm:patching patched crypto 
2022-04-19T00:11:41.646Z solarwinds-apm:patching patched https 
2022-04-19T00:11:41.647Z solarwinds-apm:patching patched http 
2022-04-19T00:11:41.696Z solarwinds-apm:patching patched zlib 
2022-04-19T00:11:41.753Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:11:41.754Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:11:41.754Z solarwinds-apm:patching patched fs 
2022-04-19T00:11:41.833Z solarwinds-apm:patching patched dns 
2022-04-19T00:11:41.877Z solarwinds-apm:patching patched tedious 4.1.0
2022-04-19T00:11:41.881Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.1.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.1.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.1.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.1.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.1.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.1.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1427:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1367:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2004:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1062:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:962:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'BEF4740E49952700',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6588,
  Timestamp_u: 1650327104251537,
  'X-Trace': '2BE20105D970570E19E1C76C86577EFF590000000030CCFEE857F28F8701',
  _V: '1',
  'sw.parent_span_id': 'bef4740e49952700',
  'sw.trace_context': '00-e20105d970570e19e1c76c86577eff59-30ccfee857f28f87-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.1.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:11:51.046Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:11:51.046Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:11:51.046Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:11:51.046Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:11:51.105Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:11:51.226Z solarwinds-apm:patching patched crypto 
2022-04-19T00:11:51.240Z solarwinds-apm:patching patched https 
2022-04-19T00:11:51.241Z solarwinds-apm:patching patched http 
2022-04-19T00:11:51.279Z solarwinds-apm:patching patched zlib 
2022-04-19T00:11:51.319Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:11:51.320Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:11:51.320Z solarwinds-apm:patching patched fs 
2022-04-19T00:11:51.383Z solarwinds-apm:patching patched dns 
2022-04-19T00:11:51.430Z solarwinds-apm:patching patched tedious 4.1.1
2022-04-19T00:11:51.434Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should tag queries when feature is enabled
    23) should do nothing when disabled with no database name


  3 passing (4s)
  23 failing

  1) probes.tedious 4.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.1.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.1.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.1.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.1.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.1.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.1.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.1.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.1.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.1.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 4.1.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 4.1.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 4.1.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.tedious 4.1.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.tedious 4.1.1
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.tedious 4.1.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.tedious 4.1.1
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.tedious 4.1.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.tedious 4.1.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.tedious 4.1.1
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:12:02.919Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:12:02.919Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:12:02.919Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:12:02.919Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:12:02.979Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:12:03.113Z solarwinds-apm:patching patched crypto 
2022-04-19T00:12:03.129Z solarwinds-apm:patching patched https 
2022-04-19T00:12:03.130Z solarwinds-apm:patching patched http 
2022-04-19T00:12:03.174Z solarwinds-apm:patching patched zlib 
2022-04-19T00:12:03.233Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:12:03.236Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:12:03.236Z solarwinds-apm:patching patched fs 
2022-04-19T00:12:03.322Z solarwinds-apm:patching patched dns 
2022-04-19T00:12:03.367Z solarwinds-apm:patching patched tedious 4.1.2
2022-04-19T00:12:03.371Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.1.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.1.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.1.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.1.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.1.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.1.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.1.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.1.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.1.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.1.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.1.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.1.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.1.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1449:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1389:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1084:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:984:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'E1D4F7A5E3771892',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6718,
  Timestamp_u: 1650327125724250,
  'X-Trace': '2B343F784271A0D518ACC2610CF0D42EC900000000394315D83FC9935201',
  _V: '1',
  'sw.parent_span_id': 'e1d4f7a5e3771892',
  'sw.trace_context': '00-343f784271a0d518acc2610cf0d42ec9-394315d83fc99352-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.1.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:12:13.213Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:12:13.213Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:12:13.213Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:12:13.213Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:12:13.270Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:12:13.386Z solarwinds-apm:patching patched crypto 
2022-04-19T00:12:13.401Z solarwinds-apm:patching patched https 
2022-04-19T00:12:13.402Z solarwinds-apm:patching patched http 
2022-04-19T00:12:13.442Z solarwinds-apm:patching patched zlib 
2022-04-19T00:12:13.483Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:12:13.483Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:12:13.484Z solarwinds-apm:patching patched fs 
2022-04-19T00:12:13.543Z solarwinds-apm:patching patched dns 
2022-04-19T00:12:13.582Z solarwinds-apm:patching patched tedious 4.1.3
2022-04-19T00:12:13.585Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.1.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.1.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.1.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.1.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.1.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.1.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.1.3
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.1.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.1.3
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.1.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.1.3
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.1.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.1.3
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1449:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1389:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1084:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:984:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '86EF6858A7A25734',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6783,
  Timestamp_u: 1650327135964213,
  'X-Trace': '2BBE5C81DD6A9FA65CB40CABB3DAA19FBF00000000187AE6F8122A12E201',
  _V: '1',
  'sw.parent_span_id': '86ef6858a7a25734',
  'sw.trace_context': '00-be5c81dd6a9fa65cb40cabb3daa19fbf-187ae6f8122a12e2-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.1.3
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.3 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:12:23.145Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:12:23.146Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:12:23.146Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:12:23.146Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:12:23.208Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:12:23.336Z solarwinds-apm:patching patched crypto 
2022-04-19T00:12:23.352Z solarwinds-apm:patching patched https 
2022-04-19T00:12:23.352Z solarwinds-apm:patching patched http 
2022-04-19T00:12:23.403Z solarwinds-apm:patching patched zlib 
2022-04-19T00:12:23.449Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:12:23.450Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:12:23.450Z solarwinds-apm:patching patched fs 
2022-04-19T00:12:23.519Z solarwinds-apm:patching patched dns 
2022-04-19T00:12:23.553Z solarwinds-apm:patching patched tedious 4.2.0
2022-04-19T00:12:23.557Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.2.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.2.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.2.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.2.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.2.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.2.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.2.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1449:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1389:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2050:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1084:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:984:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '354CC3158E0E64BA',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6848,
  Timestamp_u: 1650327145912843,
  'X-Trace': '2BCF2480B9D0895E2E4C965F5D937C0EAA00000000EE5AAFD7C668FFE101',
  _V: '1',
  'sw.parent_span_id': '354cc3158e0e64ba',
  'sw.trace_context': '00-cf2480b9d0895e2e4c965f5d937c0eaa-ee5aafd7c668ffe1-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.2.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:12:33.188Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:12:33.189Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:12:33.189Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:12:33.189Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:12:33.263Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:12:33.432Z solarwinds-apm:patching patched crypto 
2022-04-19T00:12:33.449Z solarwinds-apm:patching patched https 
2022-04-19T00:12:33.450Z solarwinds-apm:patching patched http 
2022-04-19T00:12:33.504Z solarwinds-apm:patching patched zlib 
2022-04-19T00:12:33.560Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:12:33.560Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:12:33.560Z solarwinds-apm:patching patched fs 
2022-04-19T00:12:33.645Z solarwinds-apm:patching patched dns 
2022-04-19T00:12:33.688Z solarwinds-apm:patching patched tedious 5.0.0
2022-04-19T00:12:33.692Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 5.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should do nothing when disabled with a database name
    11) "before each" hook for "should support basic queries with no database name"
    12) should do nothing when disabled with a database name


  3 passing (2s)
  12 failing

  1) probes.tedious 5.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 5.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 5.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 5.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 5.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 5.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 5.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 5.0.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 5.0.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 5.0.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 5.0.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1410:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1392:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2044:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1009:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '03A5334EC1382F23',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  QueryTag: '/*traceparent=\'00-d4f7cea296fe38a6d645289d54c9981c-9f57cc53e282c0ef-01\'*/',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6913,
  Timestamp_u: 1650327156100595,
  'X-Trace': '2BD4F7CEA296FE38A6D645289D54C9981C000000009F57CC53E282C0EF01',
  _V: '1',
  'sw.parent_span_id': '03a5334ec1382f23',
  'sw.trace_context': '00-d4f7cea296fe38a6d645289d54c9981c-9f57cc53e282c0ef-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 5.0.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:12:42.957Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:12:42.957Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:12:42.957Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:12:42.958Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:12:43.014Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:12:43.140Z solarwinds-apm:patching patched crypto 
2022-04-19T00:12:43.157Z solarwinds-apm:patching patched https 
2022-04-19T00:12:43.157Z solarwinds-apm:patching patched http 
2022-04-19T00:12:43.209Z solarwinds-apm:patching patched zlib 
2022-04-19T00:12:43.254Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:12:43.254Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:12:43.254Z solarwinds-apm:patching patched fs 
2022-04-19T00:12:43.319Z solarwinds-apm:patching patched dns 
2022-04-19T00:12:43.355Z solarwinds-apm:patching patched tedious 5.0.1
2022-04-19T00:12:43.359Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 5.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  14 failing

  1) probes.tedious 5.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 5.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 5.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 5.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 5.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 5.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 5.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 5.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 5.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 5.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 5.0.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 5.0.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 5.0.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 5.0.1
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1170:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1004:14)
      at Socket.emit (node:events:538:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 892 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:12:52.560Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:12:52.561Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:12:52.561Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:12:52.561Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:12:52.620Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:12:52.752Z solarwinds-apm:patching patched crypto 
2022-04-19T00:12:52.768Z solarwinds-apm:patching patched https 
2022-04-19T00:12:52.769Z solarwinds-apm:patching patched http 
2022-04-19T00:12:52.821Z solarwinds-apm:patching patched zlib 
2022-04-19T00:12:52.866Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:12:52.866Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:12:52.866Z solarwinds-apm:patching patched fs 
2022-04-19T00:12:52.929Z solarwinds-apm:patching patched dns 
2022-04-19T00:12:52.965Z solarwinds-apm:patching patched tedious 5.0.2
2022-04-19T00:12:52.968Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 5.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 5.0.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 5.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 5.0.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 5.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 5.0.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 5.0.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 5.0.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 5.0.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 5.0.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 5.0.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 5.0.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 5.0.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1412:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1394:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2062:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1136:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1011:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'A3E5E3EEF4544C95',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7043,
  Timestamp_u: 1650327175325537,
  'X-Trace': '2B29D6A29C249149EA5AB80D68C53A2833000000004720DDF2E58C456A01',
  _V: '1',
  'sw.parent_span_id': 'a3e5e3eef4544c95',
  'sw.trace_context': '00-29d6a29c249149ea5ab80d68c53a2833-4720ddf2e58c456a-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 5.0.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 15s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:13:10.368Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:13:10.368Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:13:10.368Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:13:10.368Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:13:10.427Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:13:10.565Z solarwinds-apm:patching patched crypto 
2022-04-19T00:13:10.581Z solarwinds-apm:patching patched https 
2022-04-19T00:13:10.581Z solarwinds-apm:patching patched http 
2022-04-19T00:13:10.637Z solarwinds-apm:patching patched zlib 
2022-04-19T00:13:10.677Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:13:10.677Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:13:10.678Z solarwinds-apm:patching patched fs 
2022-04-19T00:13:10.742Z solarwinds-apm:patching patched dns 
2022-04-19T00:13:10.774Z solarwinds-apm:patching patched tedious 5.0.3
2022-04-19T00:13:10.778Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 5.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 5.0.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 5.0.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 5.0.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 5.0.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 5.0.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 5.0.3
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 5.0.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 5.0.3
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 5.0.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 5.0.3
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 5.0.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 5.0.3
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1412:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1394:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2064:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1136:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1011:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '4E8F6039FB6048A0',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7108,
  Timestamp_u: 1650327193149864,
  'X-Trace': '2BD80AF52D2C7171BB5AA7B0C455E87D23000000006D536451600661C601',
  _V: '1',
  'sw.parent_span_id': '4e8f6039fb6048a0',
  'sw.trace_context': '00-d80af52d2c7171bb5aa7b0c455e87d23-6d536451600661c6-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 5.0.3
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:13:20.226Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:13:20.226Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:13:20.226Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:13:20.226Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:13:20.305Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:13:20.452Z solarwinds-apm:patching patched crypto 
2022-04-19T00:13:20.468Z solarwinds-apm:patching patched https 
2022-04-19T00:13:20.468Z solarwinds-apm:patching patched http 
2022-04-19T00:13:20.533Z solarwinds-apm:patching patched zlib 
2022-04-19T00:13:20.612Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:13:20.612Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:13:20.612Z solarwinds-apm:patching patched fs 
2022-04-19T00:13:20.687Z solarwinds-apm:patching patched dns 
2022-04-19T00:13:20.730Z solarwinds-apm:patching patched tedious 6.0.0
2022-04-19T00:13:20.734Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.0.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.0.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.0.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.0.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.0.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1438:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1419:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2088:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1161:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1034:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '3524BEEE7260A8B0',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7173,
  Timestamp_u: 1650327203119881,
  'X-Trace': '2BD324C20610590D6B2D0E73FB32CBB68400000000B12126D7F97BC71801',
  _V: '1',
  'sw.parent_span_id': '3524beee7260a8b0',
  'sw.trace_context': '00-d324c20610590d6b2d0e73fb32cbb684-b12126d7f97bc718-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.0.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:13:29.773Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:13:29.773Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:13:29.773Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:13:29.773Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:13:29.840Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:13:29.965Z solarwinds-apm:patching patched crypto 
2022-04-19T00:13:29.981Z solarwinds-apm:patching patched https 
2022-04-19T00:13:29.982Z solarwinds-apm:patching patched http 
2022-04-19T00:13:30.031Z solarwinds-apm:patching patched zlib 
2022-04-19T00:13:30.074Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:13:30.074Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:13:30.074Z solarwinds-apm:patching patched fs 
2022-04-19T00:13:30.138Z solarwinds-apm:patching patched dns 
2022-04-19T00:13:30.172Z solarwinds-apm:patching patched tedious 6.0.1
2022-04-19T00:13:30.176Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.0.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.0.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1438:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1419:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2076:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1161:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1034:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '7E6B16D1796EC13C',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7238,
  Timestamp_u: 1650327212530922,
  'X-Trace': '2B53534AA42E5D69394D73C690300FD2C700000000719DB60A54DD713B01',
  _V: '1',
  'sw.parent_span_id': '7e6b16d1796ec13c',
  'sw.trace_context': '00-53534aa42e5d69394d73c690300fd2c7-719db60a54dd713b-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.0.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:13:39.194Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:13:39.194Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:13:39.194Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:13:39.195Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:13:39.250Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:13:39.368Z solarwinds-apm:patching patched crypto 
2022-04-19T00:13:39.383Z solarwinds-apm:patching patched https 
2022-04-19T00:13:39.383Z solarwinds-apm:patching patched http 
2022-04-19T00:13:39.429Z solarwinds-apm:patching patched zlib 
2022-04-19T00:13:39.472Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:13:39.472Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:13:39.472Z solarwinds-apm:patching patched fs 
2022-04-19T00:13:39.532Z solarwinds-apm:patching patched dns 
2022-04-19T00:13:39.563Z solarwinds-apm:patching patched tedious 6.1.0
2022-04-19T00:13:39.567Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  8 failing

  1) probes.tedious 6.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.1.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.1.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1206:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1038:14)
      at Socket.emit (node:events:538:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 892 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:13:48.103Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:13:48.104Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:13:48.104Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:13:48.104Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:13:48.186Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:13:48.314Z solarwinds-apm:patching patched crypto 
2022-04-19T00:13:48.330Z solarwinds-apm:patching patched https 
2022-04-19T00:13:48.331Z solarwinds-apm:patching patched http 
2022-04-19T00:13:48.381Z solarwinds-apm:patching patched zlib 
2022-04-19T00:13:48.424Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:13:48.425Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:13:48.425Z solarwinds-apm:patching patched fs 
2022-04-19T00:13:48.489Z solarwinds-apm:patching patched dns 
2022-04-19T00:13:48.523Z solarwinds-apm:patching patched tedious 6.1.1
2022-04-19T00:13:48.526Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should tag queries when feature is enabled
    23) should do nothing when disabled with no database name


  3 passing (4s)
  23 failing

  1) probes.tedious 6.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.1.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.1.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.1.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.1.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.1.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.1.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.1.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.1.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.1.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 6.1.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 6.1.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 6.1.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.tedious 6.1.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.tedious 6.1.1
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.tedious 6.1.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.tedious 6.1.1
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.tedious 6.1.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.tedious 6.1.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.tedious 6.1.1
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:13:59.711Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:13:59.712Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:13:59.712Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:13:59.712Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:13:59.772Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:13:59.900Z solarwinds-apm:patching patched crypto 
2022-04-19T00:13:59.915Z solarwinds-apm:patching patched https 
2022-04-19T00:13:59.916Z solarwinds-apm:patching patched http 
2022-04-19T00:13:59.965Z solarwinds-apm:patching patched zlib 
2022-04-19T00:14:00.008Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:14:00.008Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:14:00.008Z solarwinds-apm:patching patched fs 
2022-04-19T00:14:00.073Z solarwinds-apm:patching patched dns 
2022-04-19T00:14:00.107Z solarwinds-apm:patching patched tedious 6.1.2
2022-04-19T00:14:00.111Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.1.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.1.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.1.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.1.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.1.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.1.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.1.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.1.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.1.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.1.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.1.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.1.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.1.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1457:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1438:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2095:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1172:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1045:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '94138B4D39EA21B4',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7433,
  Timestamp_u: 1650327242460354,
  'X-Trace': '2BFBDFC9C4DDB01ED7EC0A5F4D724E129F000000001DC9630045E3F88B01',
  _V: '1',
  'sw.parent_span_id': '94138b4d39ea21b4',
  'sw.trace_context': '00-fbdfc9c4ddb01ed7ec0a5f4d724e129f-1dc9630045e3f88b-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.1.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:14:10.243Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:14:10.244Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:14:10.244Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:14:10.244Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:14:10.303Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:14:10.424Z solarwinds-apm:patching patched crypto 
2022-04-19T00:14:10.438Z solarwinds-apm:patching patched https 
2022-04-19T00:14:10.439Z solarwinds-apm:patching patched http 
2022-04-19T00:14:10.484Z solarwinds-apm:patching patched zlib 
2022-04-19T00:14:10.524Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:14:10.524Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:14:10.524Z solarwinds-apm:patching patched fs 
2022-04-19T00:14:10.584Z solarwinds-apm:patching patched dns 
2022-04-19T00:14:10.616Z solarwinds-apm:patching patched tedious 6.2.0
2022-04-19T00:14:10.619Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.2.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.2.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.2.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.2.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.2.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.2.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.2.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1459:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1440:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2120:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1172:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1045:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '4DFD12637034A321',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7498,
  Timestamp_u: 1650327252966508,
  'X-Trace': '2BF7F4B52305E4697E129F40AD7FED6D0D00000000DAEEE8CC87E8247701',
  _V: '1',
  'sw.parent_span_id': '4dfd12637034a321',
  'sw.trace_context': '00-f7f4b52305e4697e129f40ad7fed6d0d-daeee8cc87e82477-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.2.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 1 package, removed 1 package, changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:14:20.661Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:14:20.661Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:14:20.661Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:14:20.661Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:14:20.721Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:14:20.849Z solarwinds-apm:patching patched crypto 
2022-04-19T00:14:20.865Z solarwinds-apm:patching patched https 
2022-04-19T00:14:20.866Z solarwinds-apm:patching patched http 
2022-04-19T00:14:20.914Z solarwinds-apm:patching patched zlib 
2022-04-19T00:14:20.983Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:14:20.983Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:14:20.984Z solarwinds-apm:patching patched fs 
2022-04-19T00:14:21.084Z solarwinds-apm:patching patched dns 
2022-04-19T00:14:21.110Z solarwinds-apm:patching patched tedious 6.2.1
2022-04-19T00:14:21.116Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.2.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.2.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.2.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.2.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.2.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.2.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.2.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.2.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.2.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.2.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1459:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1440:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2120:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1172:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1045:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '82CA0DCAF0E7A103',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7563,
  Timestamp_u: 1650327263469089,
  'X-Trace': '2B17D74060AC4393741A62D43568ED1AA6000000007FC03254B50DAA8D01',
  _V: '1',
  'sw.parent_span_id': '82ca0dcaf0e7a103',
  'sw.trace_context': '00-17d74060ac4393741a62d43568ed1aa6-7fc03254b50daa8d-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.2.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 10 packages, changed 1 package, and audited 902 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:14:31.800Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:14:31.800Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:14:31.800Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:14:31.800Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:14:31.858Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:14:31.981Z solarwinds-apm:patching patched crypto 
2022-04-19T00:14:31.996Z solarwinds-apm:patching patched https 
2022-04-19T00:14:31.996Z solarwinds-apm:patching patched http 
2022-04-19T00:14:32.037Z solarwinds-apm:patching patched zlib 
2022-04-19T00:14:32.043Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:14:32.043Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:14:32.043Z solarwinds-apm:patching patched fs 
2022-04-19T00:14:32.187Z solarwinds-apm:patching patched dns 
2022-04-19T00:14:32.219Z solarwinds-apm:patching patched tedious 6.3.0
2022-04-19T00:14:32.222Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.3.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.3.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.3.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.3.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.3.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.3.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.3.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.3.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.3.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.3.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.3.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1507:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1488:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2199:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1211:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1084:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '283E76E43DE358DB',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7628,
  Timestamp_u: 1650327274591181,
  'X-Trace': '2B11074D2085800B48C8481B1110D38F8C00000000B47B19F567B448A401',
  _V: '1',
  'sw.parent_span_id': '283e76e43de358db',
  'sw.trace_context': '00-11074d2085800b48c8481b1110d38f8c-b47b19f567b448a4-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.3.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 1 package, changed 1 package, and audited 903 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:14:42.160Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:14:42.160Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:14:42.160Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:14:42.160Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:14:42.225Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:14:42.370Z solarwinds-apm:patching patched crypto 
2022-04-19T00:14:42.387Z solarwinds-apm:patching patched https 
2022-04-19T00:14:42.388Z solarwinds-apm:patching patched http 
2022-04-19T00:14:42.432Z solarwinds-apm:patching patched zlib 
2022-04-19T00:14:42.438Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:14:42.438Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:14:42.438Z solarwinds-apm:patching patched fs 
2022-04-19T00:14:42.599Z solarwinds-apm:patching patched dns 
2022-04-19T00:14:42.633Z solarwinds-apm:patching patched tedious 6.4.0
2022-04-19T00:14:42.637Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) "before each" hook for "should sanitize query with no database name"


  3 passing (3s)
  16 failing

  1) probes.tedious 6.4.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.4.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.4.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.4.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.4.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.4.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.4.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.4.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.4.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.4.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.4.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.4.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.4.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 6.4.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 6.4.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 6.4.0
       "before each" hook for "should sanitize query with no database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1235:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1254:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1086:14)
      at Socket.emit (node:events:538:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




added 2 packages, removed 1 package, changed 3 packages, and audited 904 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:14:53.063Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:14:53.063Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:14:53.063Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:14:53.064Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:14:53.136Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:14:53.288Z solarwinds-apm:patching patched crypto 
2022-04-19T00:14:53.304Z solarwinds-apm:patching patched https 
2022-04-19T00:14:53.304Z solarwinds-apm:patching patched http 
2022-04-19T00:14:53.347Z solarwinds-apm:patching patched zlib 
2022-04-19T00:14:53.352Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:14:53.353Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:14:53.353Z solarwinds-apm:patching patched fs 
2022-04-19T00:14:53.512Z solarwinds-apm:patching patched dns 
2022-04-19T00:14:53.562Z solarwinds-apm:patching patched tedious 6.5.0
2022-04-19T00:14:53.567Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.5.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.5.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.5.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.5.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.5.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.5.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.5.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.5.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.5.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.5.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.5.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.5.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.5.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1516:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1497:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2208:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1220:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1093:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '2F26634048851760',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7758,
  Timestamp_u: 1650327296037662,
  'X-Trace': '2BEC8B9B88A0BE31B052AA19B370B084CF00000000E1A0F709C213A39D01',
  _V: '1',
  'sw.parent_span_id': '2f26634048851760',
  'sw.trace_context': '00-ec8b9b88a0be31b052aa19b370b084cf-e1a0f709c213a39d-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.5.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 904 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:15:03.478Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:15:03.479Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:15:03.479Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:15:03.479Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:15:03.539Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:15:03.673Z solarwinds-apm:patching patched crypto 
2022-04-19T00:15:03.689Z solarwinds-apm:patching patched https 
2022-04-19T00:15:03.690Z solarwinds-apm:patching patched http 
2022-04-19T00:15:03.734Z solarwinds-apm:patching patched zlib 
2022-04-19T00:15:03.740Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:15:03.741Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:15:03.741Z solarwinds-apm:patching patched fs 
2022-04-19T00:15:03.917Z solarwinds-apm:patching patched dns 
2022-04-19T00:15:03.943Z solarwinds-apm:patching patched tedious 6.6.0
2022-04-19T00:15:03.947Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1539:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1520:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2235:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1242:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1115:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '9CAC741D05288BD6',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7823,
  Timestamp_u: 1650327306304080,
  'X-Trace': '2BE457E27C22E49BD2D198A923353904430000000036BB98A17561A6CB01',
  _V: '1',
  'sw.parent_span_id': '9cac741d05288bd6',
  'sw.trace_context': '00-e457e27c22e49bd2d198a92335390443-36bb98a17561a6cb-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 1 package, changed 1 package, and audited 905 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:15:13.141Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:15:13.141Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:15:13.141Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:15:13.141Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:15:13.217Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:15:13.343Z solarwinds-apm:patching patched crypto 
2022-04-19T00:15:13.359Z solarwinds-apm:patching patched https 
2022-04-19T00:15:13.360Z solarwinds-apm:patching patched http 
2022-04-19T00:15:13.406Z solarwinds-apm:patching patched zlib 
2022-04-19T00:15:13.412Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:15:13.412Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:15:13.412Z solarwinds-apm:patching patched fs 
2022-04-19T00:15:13.560Z solarwinds-apm:patching patched dns 
2022-04-19T00:15:13.598Z solarwinds-apm:patching patched tedious 6.6.1
2022-04-19T00:15:13.601Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1543:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1524:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2300:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1247:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1107:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:40:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '731974F84A6FB1FC',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7888,
  Timestamp_u: 1650327315968877,
  'X-Trace': '2BED005260ECCDE5BEEE58D81B6694ACE000000000BA4A7B6FDC8BD65A01',
  _V: '1',
  'sw.parent_span_id': '731974f84a6fb1fc',
  'sw.trace_context': '00-ed005260eccde5beee58d81b6694ace0-ba4a7b6fdc8bd65a-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 905 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:15:22.669Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:15:22.669Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:15:22.669Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:15:22.669Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:15:22.723Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:15:22.838Z solarwinds-apm:patching patched crypto 
2022-04-19T00:15:22.853Z solarwinds-apm:patching patched https 
2022-04-19T00:15:22.853Z solarwinds-apm:patching patched http 
2022-04-19T00:15:22.893Z solarwinds-apm:patching patched zlib 
2022-04-19T00:15:22.898Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:15:22.898Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:15:22.899Z solarwinds-apm:patching patched fs 
2022-04-19T00:15:23.034Z solarwinds-apm:patching patched dns 
2022-04-19T00:15:23.061Z solarwinds-apm:patching patched tedious 6.6.2
2022-04-19T00:15:23.065Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1543:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1524:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2300:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1247:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1107:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:40:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '6FCB0B44E997860C',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7953,
  Timestamp_u: 1650327325420158,
  'X-Trace': '2BC517F7934317323FB93BBF09C3B68BD300000000D82D773326E490F701',
  _V: '1',
  'sw.parent_span_id': '6fcb0b44e997860c',
  'sw.trace_context': '00-c517f7934317323fb93bbf09c3b68bd3-d82d773326e490f7-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 905 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:15:33.406Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:15:33.407Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:15:33.407Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:15:33.407Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:15:33.468Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:15:33.583Z solarwinds-apm:patching patched crypto 
2022-04-19T00:15:33.603Z solarwinds-apm:patching patched https 
2022-04-19T00:15:33.604Z solarwinds-apm:patching patched http 
2022-04-19T00:15:33.654Z solarwinds-apm:patching patched zlib 
2022-04-19T00:15:33.659Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:15:33.660Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:15:33.660Z solarwinds-apm:patching patched fs 
2022-04-19T00:15:33.807Z solarwinds-apm:patching patched dns 
2022-04-19T00:15:33.834Z solarwinds-apm:patching patched tedious 6.6.3
2022-04-19T00:15:33.837Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.3
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.3
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.3
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.3
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1570:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1551:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2327:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1274:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '383181162077CC5F',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8018,
  Timestamp_u: 1650327336175851,
  'X-Trace': '2B587AE2F82F33F2EE3392DAB70E1E56F1000000005D0FE054C29F1A5401',
  _V: '1',
  'sw.parent_span_id': '383181162077cc5f',
  'sw.trace_context': '00-587ae2f82f33f2ee3392dab70e1e56f1-5d0fe054c29f1a54-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.3
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 905 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:15:44.173Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:15:44.174Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:15:44.174Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:15:44.174Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:15:44.233Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:15:44.391Z solarwinds-apm:patching patched crypto 
2022-04-19T00:15:44.405Z solarwinds-apm:patching patched https 
2022-04-19T00:15:44.406Z solarwinds-apm:patching patched http 
2022-04-19T00:15:44.449Z solarwinds-apm:patching patched zlib 
2022-04-19T00:15:44.454Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:15:44.454Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:15:44.455Z solarwinds-apm:patching patched fs 
2022-04-19T00:15:44.589Z solarwinds-apm:patching patched dns 
2022-04-19T00:15:44.621Z solarwinds-apm:patching patched tedious 6.6.4
2022-04-19T00:15:44.624Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.4
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.4
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.4
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.4
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.4
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.4
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1570:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1551:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2327:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1274:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '29CE19CB1C4993C8',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8083,
  Timestamp_u: 1650327346998489,
  'X-Trace': '2B76B588374DEFBB03D28E82A8398862FA00000000EF43E546D0A3BABB01',
  _V: '1',
  'sw.parent_span_id': '29ce19cb1c4993c8',
  'sw.trace_context': '00-76b588374defbb03d28e82a8398862fa-ef43e546d0a3babb-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.4
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 905 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:15:54.527Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:15:54.527Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:15:54.527Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:15:54.527Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:15:54.596Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:15:54.724Z solarwinds-apm:patching patched crypto 
2022-04-19T00:15:54.740Z solarwinds-apm:patching patched https 
2022-04-19T00:15:54.740Z solarwinds-apm:patching patched http 
2022-04-19T00:15:54.785Z solarwinds-apm:patching patched zlib 
2022-04-19T00:15:54.791Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:15:54.791Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:15:54.792Z solarwinds-apm:patching patched fs 
2022-04-19T00:15:54.942Z solarwinds-apm:patching patched dns 
2022-04-19T00:15:54.977Z solarwinds-apm:patching patched tedious 6.6.5
2022-04-19T00:15:54.981Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.5
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.5
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.5
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.5
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.5
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.5
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.5
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.5
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1570:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1551:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2327:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1274:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'E8BDA3DFB918A036',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8148,
  Timestamp_u: 1650327357349948,
  'X-Trace': '2B92DD3FE257C5EC334DB2B129D631207800000000E195A6FD0588305001',
  _V: '1',
  'sw.parent_span_id': 'e8bda3dfb918a036',
  'sw.trace_context': '00-92dd3fe257c5ec334db2b129d6312078-e195a6fd05883050-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.5
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 905 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:16:05.175Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:16:05.176Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:16:05.176Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:16:05.176Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:16:05.274Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:16:05.403Z solarwinds-apm:patching patched crypto 
2022-04-19T00:16:05.438Z solarwinds-apm:patching patched https 
2022-04-19T00:16:05.438Z solarwinds-apm:patching patched http 
2022-04-19T00:16:05.503Z solarwinds-apm:patching patched zlib 
2022-04-19T00:16:05.509Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:16:05.510Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:16:05.510Z solarwinds-apm:patching patched fs 
2022-04-19T00:16:05.706Z solarwinds-apm:patching patched dns 
2022-04-19T00:16:05.743Z solarwinds-apm:patching patched tedious 6.6.6
2022-04-19T00:16:05.747Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.6
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  4 failing

  1) probes.tedious 6.6.6
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.6
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.6
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.6
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1289:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1307:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1126:14)
      at Socket.emit (node:events:538:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 905 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:16:14.564Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:16:14.565Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:16:14.565Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:16:14.565Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:16:14.624Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:16:14.755Z solarwinds-apm:patching patched crypto 
2022-04-19T00:16:14.771Z solarwinds-apm:patching patched https 
2022-04-19T00:16:14.772Z solarwinds-apm:patching patched http 
2022-04-19T00:16:14.816Z solarwinds-apm:patching patched zlib 
2022-04-19T00:16:14.822Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:16:14.823Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:16:14.823Z solarwinds-apm:patching patched fs 
2022-04-19T00:16:14.994Z solarwinds-apm:patching patched dns 
2022-04-19T00:16:15.032Z solarwinds-apm:patching patched tedious 6.7.0
2022-04-19T00:16:15.036Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.7.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.7.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.7.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.7.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.7.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.7.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.7.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.7.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.7.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.7.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.7.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.7.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1575:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1556:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2332:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1279:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1139:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '5FE21064BA53BE91',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8278,
  Timestamp_u: 1650327377418302,
  'X-Trace': '2B6BA1B8AEB24822B83C420169F694854400000000C4775EC00FFD007F01',
  _V: '1',
  'sw.parent_span_id': '5fe21064ba53be91',
  'sw.trace_context': '00-6ba1b8aeb24822b83c420169f6948544-c4775ec00ffd007f-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.7.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 7 packages, removed 20 packages, changed 7 packages, and audited 892 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:16:25.395Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:16:25.395Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:16:25.396Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:16:25.396Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:16:25.458Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:16:25.584Z solarwinds-apm:patching patched crypto 
2022-04-19T00:16:25.600Z solarwinds-apm:patching patched https 
2022-04-19T00:16:25.601Z solarwinds-apm:patching patched http 
2022-04-19T00:16:25.670Z solarwinds-apm:patching patched zlib 
2022-04-19T00:16:25.674Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:16:25.674Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:16:25.674Z solarwinds-apm:patching patched fs 
2022-04-19T00:16:25.760Z solarwinds-apm:patching patched dns 
2022-04-19T00:16:25.794Z solarwinds-apm:patching patched tedious 6.7.1
2022-04-19T00:16:25.797Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.7.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.7.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.7.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.7.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.7.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.7.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.7.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.7.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.7.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.7.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.7.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.7.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.7.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1575:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1556:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2332:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1279:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1139:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '80A6FD500EDE0B9D',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8343,
  Timestamp_u: 1650327388165913,
  'X-Trace': '2BDAAE7148331CEC342A87F40D2955A5BA000000006C3302FF27A534EE01',
  _V: '1',
  'sw.parent_span_id': '80a6fd500ede0b9d',
  'sw.trace_context': '00-daae7148331cec342a87f40d2955a5ba-6c3302ff27a534ee-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.7.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142

added 20 packages, removed 9 packages, changed 7 packages, and audited 903 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:16:35.709Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:16:35.710Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:16:35.710Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:16:35.710Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:16:35.766Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:16:35.895Z solarwinds-apm:patching patched crypto 
2022-04-19T00:16:35.911Z solarwinds-apm:patching patched https 
2022-04-19T00:16:35.912Z solarwinds-apm:patching patched http 
2022-04-19T00:16:35.956Z solarwinds-apm:patching patched zlib 
2022-04-19T00:16:35.962Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:16:35.962Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:16:35.962Z solarwinds-apm:patching patched fs 
2022-04-19T00:16:36.111Z solarwinds-apm:patching patched dns 
2022-04-19T00:16:36.142Z solarwinds-apm:patching patched tedious 7.0.0
2022-04-19T00:16:36.145Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 7.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 7.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 7.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 7.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 7.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 7.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 7.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 7.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 7.0.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 7.0.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 7.0.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 7.0.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 7.0.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1573:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1554:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2330:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1277:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1137:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '04F2BC0BDF3B1C73',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8408,
  Timestamp_u: 1650327398493454,
  'X-Trace': '2BF4CF485FB9FDBAB92CD5562CB850123C00000000FBA977BEA760909301',
  _V: '1',
  'sw.parent_span_id': '04f2bc0bdf3b1c73',
  'sw.trace_context': '00-f4cf485fb9fdbab92cd5562cb850123c-fba977bea7609093-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 7.0.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 1 package, changed 1 package, and audited 904 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:16:46.496Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:16:46.496Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:16:46.496Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:16:46.496Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:16:46.555Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:16:46.676Z solarwinds-apm:patching patched crypto 
2022-04-19T00:16:46.692Z solarwinds-apm:patching patched https 
2022-04-19T00:16:46.693Z solarwinds-apm:patching patched http 
2022-04-19T00:16:46.739Z solarwinds-apm:patching patched zlib 
2022-04-19T00:16:46.744Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:16:46.745Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:16:46.745Z solarwinds-apm:patching patched fs 
2022-04-19T00:16:46.892Z solarwinds-apm:patching patched dns 
2022-04-19T00:16:46.950Z solarwinds-apm:patching patched tedious 8.0.0
2022-04-19T00:16:46.953Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  4 failing

  1) probes.tedious 8.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.0.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1292:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1310:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1129:14)
      at Socket.emit (node:events:538:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 904 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:16:56.000Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:16:56.000Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:16:56.000Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:16:56.000Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:16:56.062Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:16:56.190Z solarwinds-apm:patching patched crypto 
2022-04-19T00:16:56.204Z solarwinds-apm:patching patched https 
2022-04-19T00:16:56.205Z solarwinds-apm:patching patched http 
2022-04-19T00:16:56.245Z solarwinds-apm:patching patched zlib 
2022-04-19T00:16:56.250Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:16:56.250Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:16:56.251Z solarwinds-apm:patching patched fs 
2022-04-19T00:16:56.386Z solarwinds-apm:patching patched dns 
2022-04-19T00:16:56.437Z solarwinds-apm:patching patched tedious 8.0.1
2022-04-19T00:16:56.440Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should sanitize query with no database name
    17) should sanitize query with no database name
    18) should truncate long queries with no database name
    19) should truncate long queries with no database name
    20) should tag queries when feature is enabled
    21) "before each" hook for "should do nothing when disabled with no database name"


  3 passing (4s)
  21 failing

  1) probes.tedious 8.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 8.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 8.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 8.0.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 8.0.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 8.0.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 8.0.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 8.0.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 8.0.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.tedious 8.0.1
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.tedious 8.0.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.tedious 8.0.1
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.tedious 8.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.tedious 8.0.1
       "before each" hook for "should do nothing when disabled with no database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1292:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1310:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1129:14)
      at Socket.emit (node:events:538:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 2 packages, and audited 904 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:17:07.798Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:17:07.799Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:17:07.799Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:17:07.799Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:17:07.854Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:17:07.966Z solarwinds-apm:patching patched crypto 
2022-04-19T00:17:07.980Z solarwinds-apm:patching patched https 
2022-04-19T00:17:07.980Z solarwinds-apm:patching patched http 
2022-04-19T00:17:08.020Z solarwinds-apm:patching patched zlib 
2022-04-19T00:17:08.025Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:17:08.025Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:17:08.025Z solarwinds-apm:patching patched fs 
2022-04-19T00:17:08.166Z solarwinds-apm:patching patched dns 
2022-04-19T00:17:08.215Z solarwinds-apm:patching patched tedious 8.1.0
2022-04-19T00:17:08.218Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 8.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.1.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.1.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 8.1.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 8.1.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 8.1.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 8.1.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1581:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1562:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2328:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1282:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1142:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:47:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '0AE0DA9AA6AD8BA4',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8603,
  Timestamp_u: 1650327430588767,
  'X-Trace': '2B74687CE4AACD701E79F58A796DEBBBAE00000000BD0CCEFCC9150B6401',
  _V: '1',
  'sw.parent_span_id': '0ae0da9aa6ad8ba4',
  'sw.trace_context': '00-74687ce4aacd701e79f58a796debbbae-bd0ccefcc9150b64-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 8.1.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 904 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:17:18.794Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:17:18.794Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:17:18.794Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:17:18.794Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:17:18.849Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:17:18.968Z solarwinds-apm:patching patched crypto 
2022-04-19T00:17:18.982Z solarwinds-apm:patching patched https 
2022-04-19T00:17:18.983Z solarwinds-apm:patching patched http 
2022-04-19T00:17:19.022Z solarwinds-apm:patching patched zlib 
2022-04-19T00:17:19.028Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:17:19.028Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:17:19.028Z solarwinds-apm:patching patched fs 
2022-04-19T00:17:19.162Z solarwinds-apm:patching patched dns 
2022-04-19T00:17:19.207Z solarwinds-apm:patching patched tedious 8.1.1
2022-04-19T00:17:19.215Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 8.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.1.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.1.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.1.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.1.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 8.1.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 8.1.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 8.1.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 8.1.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1579:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1560:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2331:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1280:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:47:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'A454B131B48AB5F6',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8668,
  Timestamp_u: 1650327441581081,
  'X-Trace': '2B28BA6D5BB50334BABA31783BABAE811600000000CAAAE40A3F9E331601',
  _V: '1',
  'sw.parent_span_id': 'a454b131b48ab5f6',
  'sw.trace_context': '00-28ba6d5bb50334baba31783babae8116-caaae40a3f9e3316-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 8.1.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 904 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:17:29.090Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:17:29.090Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:17:29.090Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:17:29.090Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:17:29.146Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:17:29.259Z solarwinds-apm:patching patched crypto 
2022-04-19T00:17:29.274Z solarwinds-apm:patching patched https 
2022-04-19T00:17:29.274Z solarwinds-apm:patching patched http 
2022-04-19T00:17:29.314Z solarwinds-apm:patching patched zlib 
2022-04-19T00:17:29.319Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:17:29.319Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:17:29.319Z solarwinds-apm:patching patched fs 
2022-04-19T00:17:29.452Z solarwinds-apm:patching patched dns 
2022-04-19T00:17:29.496Z solarwinds-apm:patching patched tedious 8.2.0
2022-04-19T00:17:29.499Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 8.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.2.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.2.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.2.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 8.2.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 8.2.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 8.2.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:526:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1143:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 8.2.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1581:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:526:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1562:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2333:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1282:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1142:14)\nat MessageIO.emit (node:events:526:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:47:14)\nat Message.emit (node:events:538:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '239082C8C0F8CAD7',
  Flavor: 'mssql',
  Hostname: 'b4e22f9a421d',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8733,
  Timestamp_u: 1650327451890821,
  'X-Trace': '2B732B0C3F96F62B7A0D60E634C1927BEB000000002083256D2F1564F101',
  _V: '1',
  'sw.parent_span_id': '239082c8c0f8cad7',
  'sw.trace_context': '00-732b0c3f96f62b7a0d60e634c1927beb-2083256d2f1564f1-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 8.2.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 904 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:17:39.916Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:17:39.916Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:17:39.916Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:17:39.916Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:17:39.980Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:17:40.117Z solarwinds-apm:patching patched crypto 
2022-04-19T00:17:40.132Z solarwinds-apm:patching patched https 
2022-04-19T00:17:40.133Z solarwinds-apm:patching patched http 
2022-04-19T00:17:40.177Z solarwinds-apm:patching patched zlib 
2022-04-19T00:17:40.183Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:17:40.183Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:17:40.183Z solarwinds-apm:patching patched fs 
2022-04-19T00:17:40.331Z solarwinds-apm:patching patched dns 
2022-04-19T00:17:40.381Z solarwinds-apm:patching patched tedious 8.3.0
2022-04-19T00:17:40.385Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 904 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:17:51.531Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:17:51.532Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:17:51.532Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:17:51.532Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:17:51.589Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:17:51.716Z solarwinds-apm:patching patched crypto 
2022-04-19T00:17:51.731Z solarwinds-apm:patching patched https 
2022-04-19T00:17:51.731Z solarwinds-apm:patching patched http 
2022-04-19T00:17:51.772Z solarwinds-apm:patching patched zlib 
2022-04-19T00:17:51.777Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:17:51.778Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:17:51.778Z solarwinds-apm:patching patched fs 
2022-04-19T00:17:51.923Z solarwinds-apm:patching patched dns 
2022-04-19T00:17:51.972Z solarwinds-apm:patching patched tedious 8.3.1
2022-04-19T00:17:51.975Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (48ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 904 packages in 11s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:18:07.741Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:18:07.742Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:18:07.742Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:18:07.742Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:18:07.813Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:18:07.967Z solarwinds-apm:patching patched crypto 
2022-04-19T00:18:07.984Z solarwinds-apm:patching patched https 
2022-04-19T00:18:07.984Z solarwinds-apm:patching patched http 
2022-04-19T00:18:08.032Z solarwinds-apm:patching patched zlib 
2022-04-19T00:18:08.037Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:18:08.038Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:18:08.038Z solarwinds-apm:patching patched fs 
2022-04-19T00:18:08.197Z solarwinds-apm:patching patched dns 
2022-04-19T00:18:08.253Z solarwinds-apm:patching patched tedious 9.0.0
2022-04-19T00:18:08.256Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 904 packages in 10s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:18:22.239Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:18:22.239Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:18:22.239Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:18:22.239Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:18:22.298Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:18:22.430Z solarwinds-apm:patching patched crypto 
2022-04-19T00:18:22.446Z solarwinds-apm:patching patched https 
2022-04-19T00:18:22.446Z solarwinds-apm:patching patched http 
2022-04-19T00:18:22.490Z solarwinds-apm:patching patched zlib 
2022-04-19T00:18:22.496Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:18:22.497Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:18:22.497Z solarwinds-apm:patching patched fs 
2022-04-19T00:18:22.646Z solarwinds-apm:patching patched dns 
2022-04-19T00:18:22.707Z solarwinds-apm:patching patched tedious 9.0.1
2022-04-19T00:18:22.713Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (38ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 904 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:18:33.585Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:18:33.585Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:18:33.585Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:18:33.586Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:18:33.644Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:18:33.771Z solarwinds-apm:patching patched crypto 
2022-04-19T00:18:33.788Z solarwinds-apm:patching patched https 
2022-04-19T00:18:33.788Z solarwinds-apm:patching patched http 
2022-04-19T00:18:33.833Z solarwinds-apm:patching patched zlib 
2022-04-19T00:18:33.838Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:18:33.839Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:18:33.839Z solarwinds-apm:patching patched fs 
2022-04-19T00:18:33.982Z solarwinds-apm:patching patched dns 
2022-04-19T00:18:34.036Z solarwinds-apm:patching patched tedious 9.1.0
2022-04-19T00:18:34.040Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 3 packages, and audited 904 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:18:44.786Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:18:44.786Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:18:44.787Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:18:44.787Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:18:44.848Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:18:45.003Z solarwinds-apm:patching patched crypto 
2022-04-19T00:18:45.023Z solarwinds-apm:patching patched https 
2022-04-19T00:18:45.024Z solarwinds-apm:patching patched http 
2022-04-19T00:18:45.070Z solarwinds-apm:patching patched zlib 
2022-04-19T00:18:45.075Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:18:45.076Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:18:45.076Z solarwinds-apm:patching patched fs 
2022-04-19T00:18:45.222Z solarwinds-apm:patching patched dns 
2022-04-19T00:18:45.278Z solarwinds-apm:patching patched tedious 9.1.1
2022-04-19T00:18:45.281Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 904 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:18:56.544Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:18:56.545Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:18:56.545Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:18:56.545Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:18:56.602Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:18:56.737Z solarwinds-apm:patching patched crypto 
2022-04-19T00:18:56.753Z solarwinds-apm:patching patched https 
2022-04-19T00:18:56.753Z solarwinds-apm:patching patched http 
2022-04-19T00:18:56.799Z solarwinds-apm:patching patched zlib 
2022-04-19T00:18:56.805Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:18:56.805Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:18:56.805Z solarwinds-apm:patching patched fs 
2022-04-19T00:18:56.952Z solarwinds-apm:patching patched dns 
2022-04-19T00:18:57.013Z solarwinds-apm:patching patched tedious 9.2.0
2022-04-19T00:18:57.016Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (40ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 904 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:19:07.491Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:19:07.491Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:19:07.491Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:19:07.491Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:19:07.546Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:19:07.664Z solarwinds-apm:patching patched crypto 
2022-04-19T00:19:07.679Z solarwinds-apm:patching patched https 
2022-04-19T00:19:07.680Z solarwinds-apm:patching patched http 
2022-04-19T00:19:07.720Z solarwinds-apm:patching patched zlib 
2022-04-19T00:19:07.725Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:19:07.726Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:19:07.726Z solarwinds-apm:patching patched fs 
2022-04-19T00:19:07.866Z solarwinds-apm:patching patched dns 
2022-04-19T00:19:07.922Z solarwinds-apm:patching patched tedious 9.2.1
2022-04-19T00:19:07.926Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (38ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 7 packages, removed 20 packages, changed 7 packages, and audited 891 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:19:18.518Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:19:18.519Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:19:18.519Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:19:18.519Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:19:18.577Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:19:18.700Z solarwinds-apm:patching patched crypto 
2022-04-19T00:19:18.716Z solarwinds-apm:patching patched https 
2022-04-19T00:19:18.716Z solarwinds-apm:patching patched http 
2022-04-19T00:19:18.784Z solarwinds-apm:patching patched zlib 
2022-04-19T00:19:18.787Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:19:18.788Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:19:18.788Z solarwinds-apm:patching patched fs 
2022-04-19T00:19:18.869Z solarwinds-apm:patching patched dns 
2022-04-19T00:19:18.922Z solarwinds-apm:patching patched tedious 9.2.2
2022-04-19T00:19:18.925Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (40ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142

added 23 packages, removed 2 packages, changed 3 packages, and audited 912 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:19:30.345Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:19:30.345Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:19:30.345Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:19:30.345Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:19:30.406Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:19:30.531Z solarwinds-apm:patching patched crypto 
2022-04-19T00:19:30.547Z solarwinds-apm:patching patched https 
2022-04-19T00:19:30.547Z solarwinds-apm:patching patched http 
2022-04-19T00:19:30.617Z solarwinds-apm:patching patched zlib 
2022-04-19T00:19:30.620Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:19:30.621Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:19:30.621Z solarwinds-apm:patching patched fs 
2022-04-19T00:19:30.706Z solarwinds-apm:patching patched dns 
2022-04-19T00:19:30.850Z solarwinds-apm:patching patched tedious 9.2.3
2022-04-19T00:19:30.854Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.2.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (41ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 912 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:19:42.786Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:19:42.786Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:19:42.786Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:19:42.787Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:19:42.849Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:19:42.968Z solarwinds-apm:patching patched crypto 
2022-04-19T00:19:42.988Z solarwinds-apm:patching patched https 
2022-04-19T00:19:42.988Z solarwinds-apm:patching patched http 
2022-04-19T00:19:43.061Z solarwinds-apm:patching patched zlib 
2022-04-19T00:19:43.065Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:19:43.065Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:19:43.065Z solarwinds-apm:patching patched fs 
2022-04-19T00:19:43.153Z solarwinds-apm:patching patched dns 
2022-04-19T00:19:43.291Z solarwinds-apm:patching patched tedious 10.0.0
2022-04-19T00:19:43.295Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 10.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (74ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 912 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:19:54.807Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:19:54.807Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:19:54.808Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:19:54.808Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:19:54.868Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:19:55.017Z solarwinds-apm:patching patched crypto 
2022-04-19T00:19:55.033Z solarwinds-apm:patching patched https 
2022-04-19T00:19:55.034Z solarwinds-apm:patching patched http 
2022-04-19T00:19:55.124Z solarwinds-apm:patching patched zlib 
2022-04-19T00:19:55.127Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:19:55.127Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:19:55.128Z solarwinds-apm:patching patched fs 
2022-04-19T00:19:55.242Z solarwinds-apm:patching patched dns 
2022-04-19T00:19:55.467Z solarwinds-apm:patching patched tedious 11.0.0
2022-04-19T00:19:55.477Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (40ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 3 packages, removed 23 packages, changed 4 packages, and audited 892 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:20:07.626Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:20:07.626Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:20:07.626Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:20:07.626Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:20:07.692Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:20:07.836Z solarwinds-apm:patching patched crypto 
2022-04-19T00:20:07.852Z solarwinds-apm:patching patched https 
2022-04-19T00:20:07.853Z solarwinds-apm:patching patched http 
2022-04-19T00:20:07.920Z solarwinds-apm:patching patched zlib 
2022-04-19T00:20:07.923Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:20:07.923Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:20:07.923Z solarwinds-apm:patching patched fs 
2022-04-19T00:20:08.020Z solarwinds-apm:patching patched dns 
2022-04-19T00:20:08.089Z solarwinds-apm:patching patched tedious 11.0.1
2022-04-19T00:20:08.102Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 1 package, changed 1 package, and audited 893 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:20:20.052Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:20:20.053Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:20:20.053Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:20:20.053Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:20:20.158Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:20:20.375Z solarwinds-apm:patching patched crypto 
2022-04-19T00:20:20.394Z solarwinds-apm:patching patched https 
2022-04-19T00:20:20.395Z solarwinds-apm:patching patched http 
2022-04-19T00:20:20.476Z solarwinds-apm:patching patched zlib 
2022-04-19T00:20:20.479Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:20:20.480Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:20:20.480Z solarwinds-apm:patching patched fs 
2022-04-19T00:20:20.562Z solarwinds-apm:patching patched dns 
2022-04-19T00:20:20.623Z solarwinds-apm:patching patched tedious 11.0.2
2022-04-19T00:20:20.627Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (48ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 893 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:20:32.236Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:20:32.236Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:20:32.236Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:20:32.236Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:20:32.343Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:20:32.531Z solarwinds-apm:patching patched crypto 
2022-04-19T00:20:32.548Z solarwinds-apm:patching patched https 
2022-04-19T00:20:32.549Z solarwinds-apm:patching patched http 
2022-04-19T00:20:32.610Z solarwinds-apm:patching patched zlib 
2022-04-19T00:20:32.613Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:20:32.614Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:20:32.614Z solarwinds-apm:patching patched fs 
2022-04-19T00:20:32.711Z solarwinds-apm:patching patched dns 
2022-04-19T00:20:32.760Z solarwinds-apm:patching patched tedious 11.0.3
2022-04-19T00:20:32.763Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (38ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 893 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:20:44.262Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:20:44.263Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:20:44.263Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:20:44.263Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:20:44.366Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:20:44.557Z solarwinds-apm:patching patched crypto 
2022-04-19T00:20:44.575Z solarwinds-apm:patching patched https 
2022-04-19T00:20:44.575Z solarwinds-apm:patching patched http 
2022-04-19T00:20:44.643Z solarwinds-apm:patching patched zlib 
2022-04-19T00:20:44.646Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:20:44.646Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:20:44.647Z solarwinds-apm:patching patched fs 
2022-04-19T00:20:44.719Z solarwinds-apm:patching patched dns 
2022-04-19T00:20:44.777Z solarwinds-apm:patching patched tedious 11.0.4
2022-04-19T00:20:44.780Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 893 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:20:56.634Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:20:56.635Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:20:56.635Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:20:56.635Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:20:56.693Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:20:56.829Z solarwinds-apm:patching patched crypto 
2022-04-19T00:20:56.844Z solarwinds-apm:patching patched https 
2022-04-19T00:20:56.845Z solarwinds-apm:patching patched http 
2022-04-19T00:20:56.911Z solarwinds-apm:patching patched zlib 
2022-04-19T00:20:56.914Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:20:56.914Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:20:56.914Z solarwinds-apm:patching patched fs 
2022-04-19T00:20:56.991Z solarwinds-apm:patching patched dns 
2022-04-19T00:20:57.041Z solarwinds-apm:patching patched tedious 11.0.5
2022-04-19T00:20:57.044Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 893 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:21:08.976Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:21:08.977Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:21:08.977Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:21:08.977Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:21:09.042Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:21:09.148Z solarwinds-apm:patching patched crypto 
2022-04-19T00:21:09.165Z solarwinds-apm:patching patched https 
2022-04-19T00:21:09.165Z solarwinds-apm:patching patched http 
2022-04-19T00:21:09.231Z solarwinds-apm:patching patched zlib 
2022-04-19T00:21:09.234Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:21:09.234Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:21:09.234Z solarwinds-apm:patching patched fs 
2022-04-19T00:21:09.314Z solarwinds-apm:patching patched dns 
2022-04-19T00:21:09.364Z solarwinds-apm:patching patched tedious 11.0.6
2022-04-19T00:21:09.367Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.6
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (44ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 893 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:21:20.268Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:21:20.269Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:21:20.269Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:21:20.269Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:21:20.349Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:21:20.488Z solarwinds-apm:patching patched crypto 
2022-04-19T00:21:20.504Z solarwinds-apm:patching patched https 
2022-04-19T00:21:20.505Z solarwinds-apm:patching patched http 
2022-04-19T00:21:20.590Z solarwinds-apm:patching patched zlib 
2022-04-19T00:21:20.594Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:21:20.594Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:21:20.594Z solarwinds-apm:patching patched fs 
2022-04-19T00:21:20.727Z solarwinds-apm:patching patched dns 
2022-04-19T00:21:20.797Z solarwinds-apm:patching patched tedious 11.0.7
2022-04-19T00:21:20.800Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.7
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (43ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 893 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:21:32.101Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:21:32.102Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:21:32.102Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:21:32.102Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:21:32.236Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:21:32.532Z solarwinds-apm:patching patched crypto 
2022-04-19T00:21:32.565Z solarwinds-apm:patching patched https 
2022-04-19T00:21:32.566Z solarwinds-apm:patching patched http 
2022-04-19T00:21:32.740Z solarwinds-apm:patching patched zlib 
2022-04-19T00:21:32.748Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:21:32.748Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:21:32.749Z solarwinds-apm:patching patched fs 
2022-04-19T00:21:32.829Z solarwinds-apm:patching patched dns 
2022-04-19T00:21:32.878Z solarwinds-apm:patching patched tedious 11.0.8
2022-04-19T00:21:32.881Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.8
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (40ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 99 packages, removed 2 packages, changed 5 packages, and audited 990 packages in 11s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:21:48.060Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:21:48.060Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:21:48.060Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:21:48.061Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:21:48.122Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:21:48.275Z solarwinds-apm:patching patched crypto 
2022-04-19T00:21:48.297Z solarwinds-apm:patching patched https 
2022-04-19T00:21:48.297Z solarwinds-apm:patching patched http 
2022-04-19T00:21:48.367Z solarwinds-apm:patching patched zlib 
2022-04-19T00:21:48.370Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:21:48.371Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:21:48.371Z solarwinds-apm:patching patched fs 
2022-04-19T00:21:48.455Z solarwinds-apm:patching patched dns 
2022-04-19T00:21:48.520Z solarwinds-apm:patching patched tedious 11.0.9
2022-04-19T00:21:48.524Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.9
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (53ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 990 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:22:01.426Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:22:01.427Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:22:01.427Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:22:01.427Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:22:01.488Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:22:01.628Z solarwinds-apm:patching patched crypto 
2022-04-19T00:22:01.644Z solarwinds-apm:patching patched https 
2022-04-19T00:22:01.645Z solarwinds-apm:patching patched http 
2022-04-19T00:22:01.717Z solarwinds-apm:patching patched zlib 
2022-04-19T00:22:01.720Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:22:01.721Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:22:01.721Z solarwinds-apm:patching patched fs 
2022-04-19T00:22:01.809Z solarwinds-apm:patching patched dns 
2022-04-19T00:22:01.880Z solarwinds-apm:patching patched tedious 11.0.10
2022-04-19T00:22:01.884Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.10
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (42ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 990 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:22:13.540Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:22:13.540Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:22:13.540Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:22:13.541Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:22:13.613Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:22:13.745Z solarwinds-apm:patching patched crypto 
2022-04-19T00:22:13.761Z solarwinds-apm:patching patched https 
2022-04-19T00:22:13.762Z solarwinds-apm:patching patched http 
2022-04-19T00:22:13.831Z solarwinds-apm:patching patched zlib 
2022-04-19T00:22:13.835Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:22:13.835Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:22:13.835Z solarwinds-apm:patching patched fs 
2022-04-19T00:22:13.919Z solarwinds-apm:patching patched dns 
2022-04-19T00:22:13.976Z solarwinds-apm:patching patched tedious 11.1.0
2022-04-19T00:22:13.980Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (48ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 990 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:22:26.165Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:22:26.166Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:22:26.166Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:22:26.166Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:22:26.242Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:22:26.405Z solarwinds-apm:patching patched crypto 
2022-04-19T00:22:26.424Z solarwinds-apm:patching patched https 
2022-04-19T00:22:26.424Z solarwinds-apm:patching patched http 
2022-04-19T00:22:26.499Z solarwinds-apm:patching patched zlib 
2022-04-19T00:22:26.502Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:22:26.502Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:22:26.503Z solarwinds-apm:patching patched fs 
2022-04-19T00:22:26.598Z solarwinds-apm:patching patched dns 
2022-04-19T00:22:26.661Z solarwinds-apm:patching patched tedious 11.1.1
2022-04-19T00:22:26.665Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (38ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 990 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:22:37.853Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:22:37.854Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:22:37.854Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:22:37.854Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:22:37.913Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:22:38.041Z solarwinds-apm:patching patched crypto 
2022-04-19T00:22:38.058Z solarwinds-apm:patching patched https 
2022-04-19T00:22:38.059Z solarwinds-apm:patching patched http 
2022-04-19T00:22:38.128Z solarwinds-apm:patching patched zlib 
2022-04-19T00:22:38.132Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:22:38.132Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:22:38.132Z solarwinds-apm:patching patched fs 
2022-04-19T00:22:38.210Z solarwinds-apm:patching patched dns 
2022-04-19T00:22:38.270Z solarwinds-apm:patching patched tedious 11.2.0
2022-04-19T00:22:38.273Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 1 package, changed 4 packages, and audited 991 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:22:50.167Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:22:50.168Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:22:50.168Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:22:50.168Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:22:50.231Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:22:50.381Z solarwinds-apm:patching patched crypto 
2022-04-19T00:22:50.402Z solarwinds-apm:patching patched https 
2022-04-19T00:22:50.403Z solarwinds-apm:patching patched http 
2022-04-19T00:22:50.474Z solarwinds-apm:patching patched zlib 
2022-04-19T00:22:50.478Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:22:50.478Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:22:50.478Z solarwinds-apm:patching patched fs 
2022-04-19T00:22:50.560Z solarwinds-apm:patching patched dns 
2022-04-19T00:22:50.624Z solarwinds-apm:patching patched tedious 11.3.0
2022-04-19T00:22:50.627Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (42ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:23:02.776Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:23:02.776Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:23:02.776Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:23:02.776Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:23:02.836Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:23:02.964Z solarwinds-apm:patching patched crypto 
2022-04-19T00:23:02.978Z solarwinds-apm:patching patched https 
2022-04-19T00:23:02.979Z solarwinds-apm:patching patched http 
2022-04-19T00:23:03.042Z solarwinds-apm:patching patched zlib 
2022-04-19T00:23:03.045Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:23:03.046Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:23:03.046Z solarwinds-apm:patching patched fs 
2022-04-19T00:23:03.124Z solarwinds-apm:patching patched dns 
2022-04-19T00:23:03.179Z solarwinds-apm:patching patched tedious 11.3.1
2022-04-19T00:23:03.182Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (41ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 28s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:23:35.100Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:23:35.100Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:23:35.100Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:23:35.100Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:23:35.154Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:23:35.267Z solarwinds-apm:patching patched crypto 
2022-04-19T00:23:35.290Z solarwinds-apm:patching patched https 
2022-04-19T00:23:35.291Z solarwinds-apm:patching patched http 
2022-04-19T00:23:35.353Z solarwinds-apm:patching patched zlib 
2022-04-19T00:23:35.356Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:23:35.357Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:23:35.357Z solarwinds-apm:patching patched fs 
2022-04-19T00:23:35.443Z solarwinds-apm:patching patched dns 
2022-04-19T00:23:35.504Z solarwinds-apm:patching patched tedious 11.4.0
2022-04-19T00:23:35.515Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (55ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:23:47.181Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:23:47.181Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:23:47.182Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:23:47.182Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:23:47.242Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:23:47.377Z solarwinds-apm:patching patched crypto 
2022-04-19T00:23:47.393Z solarwinds-apm:patching patched https 
2022-04-19T00:23:47.393Z solarwinds-apm:patching patched http 
2022-04-19T00:23:47.462Z solarwinds-apm:patching patched zlib 
2022-04-19T00:23:47.465Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:23:47.466Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:23:47.466Z solarwinds-apm:patching patched fs 
2022-04-19T00:23:47.550Z solarwinds-apm:patching patched dns 
2022-04-19T00:23:47.609Z solarwinds-apm:patching patched tedious 11.4.1
2022-04-19T00:23:47.613Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.4.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (58ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:23:59.404Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:23:59.404Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:23:59.404Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:23:59.404Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:23:59.459Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:23:59.617Z solarwinds-apm:patching patched crypto 
2022-04-19T00:23:59.634Z solarwinds-apm:patching patched https 
2022-04-19T00:23:59.634Z solarwinds-apm:patching patched http 
2022-04-19T00:23:59.701Z solarwinds-apm:patching patched zlib 
2022-04-19T00:23:59.705Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:23:59.705Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:23:59.705Z solarwinds-apm:patching patched fs 
2022-04-19T00:23:59.788Z solarwinds-apm:patching patched dns 
2022-04-19T00:23:59.841Z solarwinds-apm:patching patched tedious 11.4.2
2022-04-19T00:23:59.847Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.4.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (48ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:24:11.247Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:24:11.248Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:24:11.248Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:24:11.248Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:24:11.329Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:24:11.514Z solarwinds-apm:patching patched crypto 
2022-04-19T00:24:11.548Z solarwinds-apm:patching patched https 
2022-04-19T00:24:11.548Z solarwinds-apm:patching patched http 
2022-04-19T00:24:11.734Z solarwinds-apm:patching patched zlib 
2022-04-19T00:24:11.741Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:24:11.741Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:24:11.741Z solarwinds-apm:patching patched fs 
2022-04-19T00:24:11.860Z solarwinds-apm:patching patched dns 
2022-04-19T00:24:11.931Z solarwinds-apm:patching patched tedious 11.5.0
2022-04-19T00:24:11.934Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.5.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:24:23.836Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:24:23.837Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:24:23.837Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:24:23.837Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:24:23.934Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:24:24.195Z solarwinds-apm:patching patched crypto 
2022-04-19T00:24:24.227Z solarwinds-apm:patching patched https 
2022-04-19T00:24:24.227Z solarwinds-apm:patching patched http 
2022-04-19T00:24:24.338Z solarwinds-apm:patching patched zlib 
2022-04-19T00:24:24.344Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:24:24.344Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:24:24.344Z solarwinds-apm:patching patched fs 
2022-04-19T00:24:24.505Z solarwinds-apm:patching patched dns 
2022-04-19T00:24:24.662Z solarwinds-apm:patching patched tedious 11.6.0
2022-04-19T00:24:24.669Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:24:37.421Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:24:37.422Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:24:37.422Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:24:37.422Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:24:37.484Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:24:37.609Z solarwinds-apm:patching patched crypto 
2022-04-19T00:24:37.634Z solarwinds-apm:patching patched https 
2022-04-19T00:24:37.635Z solarwinds-apm:patching patched http 
2022-04-19T00:24:37.689Z solarwinds-apm:patching patched zlib 
2022-04-19T00:24:37.693Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:24:37.693Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:24:37.693Z solarwinds-apm:patching patched fs 
2022-04-19T00:24:37.784Z solarwinds-apm:patching patched dns 
2022-04-19T00:24:37.849Z solarwinds-apm:patching patched tedious 11.6.1
2022-04-19T00:24:37.853Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.6.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (38ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 9s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:24:51.374Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:24:51.374Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:24:51.374Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:24:51.374Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:24:51.436Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:24:51.572Z solarwinds-apm:patching patched crypto 
2022-04-19T00:24:51.588Z solarwinds-apm:patching patched https 
2022-04-19T00:24:51.589Z solarwinds-apm:patching patched http 
2022-04-19T00:24:51.651Z solarwinds-apm:patching patched zlib 
2022-04-19T00:24:51.654Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:24:51.655Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:24:51.655Z solarwinds-apm:patching patched fs 
2022-04-19T00:24:51.744Z solarwinds-apm:patching patched dns 
2022-04-19T00:24:51.817Z solarwinds-apm:patching patched tedious 11.7.0
2022-04-19T00:24:51.821Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:25:04.219Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:25:04.219Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:25:04.219Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:25:04.220Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:25:04.284Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:25:04.414Z solarwinds-apm:patching patched crypto 
2022-04-19T00:25:04.430Z solarwinds-apm:patching patched https 
2022-04-19T00:25:04.431Z solarwinds-apm:patching patched http 
2022-04-19T00:25:04.488Z solarwinds-apm:patching patched zlib 
2022-04-19T00:25:04.491Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:25:04.492Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:25:04.492Z solarwinds-apm:patching patched fs 
2022-04-19T00:25:04.589Z solarwinds-apm:patching patched dns 
2022-04-19T00:25:04.655Z solarwinds-apm:patching patched tedious 11.8.0
2022-04-19T00:25:04.659Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.8.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (38ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:25:16.459Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:25:16.460Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:25:16.460Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:25:16.460Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:25:16.522Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:25:16.654Z solarwinds-apm:patching patched crypto 
2022-04-19T00:25:16.671Z solarwinds-apm:patching patched https 
2022-04-19T00:25:16.671Z solarwinds-apm:patching patched http 
2022-04-19T00:25:16.756Z solarwinds-apm:patching patched zlib 
2022-04-19T00:25:16.760Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:25:16.761Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:25:16.761Z solarwinds-apm:patching patched fs 
2022-04-19T00:25:16.855Z solarwinds-apm:patching patched dns 
2022-04-19T00:25:16.934Z solarwinds-apm:patching patched tedious 12.0.0
2022-04-19T00:25:16.938Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 12.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:25:29.046Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:25:29.047Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:25:29.047Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:25:29.047Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:25:29.114Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:25:29.265Z solarwinds-apm:patching patched crypto 
2022-04-19T00:25:29.281Z solarwinds-apm:patching patched https 
2022-04-19T00:25:29.281Z solarwinds-apm:patching patched http 
2022-04-19T00:25:29.343Z solarwinds-apm:patching patched zlib 
2022-04-19T00:25:29.346Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:25:29.347Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:25:29.347Z solarwinds-apm:patching patched fs 
2022-04-19T00:25:29.439Z solarwinds-apm:patching patched dns 
2022-04-19T00:25:29.510Z solarwinds-apm:patching patched tedious 12.1.0
2022-04-19T00:25:29.513Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 12.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:25:41.568Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:25:41.569Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:25:41.569Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:25:41.569Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:25:41.631Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:25:41.763Z solarwinds-apm:patching patched crypto 
2022-04-19T00:25:41.780Z solarwinds-apm:patching patched https 
2022-04-19T00:25:41.780Z solarwinds-apm:patching patched http 
2022-04-19T00:25:41.842Z solarwinds-apm:patching patched zlib 
2022-04-19T00:25:41.845Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:25:41.846Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:25:41.846Z solarwinds-apm:patching patched fs 
2022-04-19T00:25:41.929Z solarwinds-apm:patching patched dns 
2022-04-19T00:25:41.992Z solarwinds-apm:patching patched tedious 12.2.0
2022-04-19T00:25:42.003Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 12.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (46ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 3 packages, and audited 991 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:25:53.500Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:25:53.501Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:25:53.501Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:25:53.501Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:25:53.563Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:25:53.697Z solarwinds-apm:patching patched crypto 
2022-04-19T00:25:53.713Z solarwinds-apm:patching patched https 
2022-04-19T00:25:53.714Z solarwinds-apm:patching patched http 
2022-04-19T00:25:53.775Z solarwinds-apm:patching patched zlib 
2022-04-19T00:25:53.779Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:25:53.779Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:25:53.779Z solarwinds-apm:patching patched fs 
2022-04-19T00:25:53.862Z solarwinds-apm:patching patched dns 
2022-04-19T00:25:53.938Z solarwinds-apm:patching patched tedious 12.3.0
2022-04-19T00:25:53.942Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 12.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


removed 17 packages, changed 2 packages, and audited 974 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:26:06.140Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:26:06.141Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:26:06.141Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:26:06.141Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:26:06.202Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:26:06.337Z solarwinds-apm:patching patched crypto 
2022-04-19T00:26:06.353Z solarwinds-apm:patching patched https 
2022-04-19T00:26:06.354Z solarwinds-apm:patching patched http 
2022-04-19T00:26:06.416Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:26:06.416Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:26:06.416Z solarwinds-apm:patching patched fs 
2022-04-19T00:26:06.450Z solarwinds-apm:patching patched zlib 
2022-04-19T00:26:06.527Z solarwinds-apm:patching patched dns 
2022-04-19T00:26:06.594Z solarwinds-apm:patching patched tedious 13.0.0
2022-04-19T00:26:06.598Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (44ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:26:18.208Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:26:18.208Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:26:18.208Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:26:18.209Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:26:18.265Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:26:18.390Z solarwinds-apm:patching patched crypto 
2022-04-19T00:26:18.405Z solarwinds-apm:patching patched https 
2022-04-19T00:26:18.405Z solarwinds-apm:patching patched http 
2022-04-19T00:26:18.456Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:26:18.456Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:26:18.457Z solarwinds-apm:patching patched fs 
2022-04-19T00:26:18.479Z solarwinds-apm:patching patched zlib 
2022-04-19T00:26:18.549Z solarwinds-apm:patching patched dns 
2022-04-19T00:26:18.617Z solarwinds-apm:patching patched tedious 13.0.1
2022-04-19T00:26:18.620Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:26:30.287Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:26:30.288Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:26:30.288Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:26:30.288Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:26:30.347Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:26:30.476Z solarwinds-apm:patching patched crypto 
2022-04-19T00:26:30.492Z solarwinds-apm:patching patched https 
2022-04-19T00:26:30.492Z solarwinds-apm:patching patched http 
2022-04-19T00:26:30.555Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:26:30.555Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:26:30.555Z solarwinds-apm:patching patched fs 
2022-04-19T00:26:30.579Z solarwinds-apm:patching patched zlib 
2022-04-19T00:26:30.657Z solarwinds-apm:patching patched dns 
2022-04-19T00:26:30.730Z solarwinds-apm:patching patched tedious 13.0.2
2022-04-19T00:26:30.734Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (40ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:26:42.307Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:26:42.307Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:26:42.307Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:26:42.307Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:26:42.369Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:26:42.494Z solarwinds-apm:patching patched crypto 
2022-04-19T00:26:42.510Z solarwinds-apm:patching patched https 
2022-04-19T00:26:42.510Z solarwinds-apm:patching patched http 
2022-04-19T00:26:42.567Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:26:42.568Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:26:42.568Z solarwinds-apm:patching patched fs 
2022-04-19T00:26:42.591Z solarwinds-apm:patching patched zlib 
2022-04-19T00:26:42.666Z solarwinds-apm:patching patched dns 
2022-04-19T00:26:42.745Z solarwinds-apm:patching patched tedious 13.0.3
2022-04-19T00:26:42.748Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (43ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:26:54.252Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:26:54.253Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:26:54.253Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:26:54.253Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:26:54.307Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:26:54.429Z solarwinds-apm:patching patched crypto 
2022-04-19T00:26:54.443Z solarwinds-apm:patching patched https 
2022-04-19T00:26:54.443Z solarwinds-apm:patching patched http 
2022-04-19T00:26:54.496Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:26:54.496Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:26:54.497Z solarwinds-apm:patching patched fs 
2022-04-19T00:26:54.519Z solarwinds-apm:patching patched zlib 
2022-04-19T00:26:54.592Z solarwinds-apm:patching patched dns 
2022-04-19T00:26:54.671Z solarwinds-apm:patching patched tedious 13.0.4
2022-04-19T00:26:54.675Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.0.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (67ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:27:06.426Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:27:06.427Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:27:06.427Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:27:06.427Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:27:06.490Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:27:06.662Z solarwinds-apm:patching patched crypto 
2022-04-19T00:27:06.679Z solarwinds-apm:patching patched https 
2022-04-19T00:27:06.680Z solarwinds-apm:patching patched http 
2022-04-19T00:27:06.744Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:27:06.744Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:27:06.745Z solarwinds-apm:patching patched fs 
2022-04-19T00:27:06.774Z solarwinds-apm:patching patched zlib 
2022-04-19T00:27:06.874Z solarwinds-apm:patching patched dns 
2022-04-19T00:27:06.953Z solarwinds-apm:patching patched tedious 13.0.5
2022-04-19T00:27:06.957Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.0.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (74ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 6s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:27:17.847Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:27:17.848Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:27:17.848Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:27:17.848Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:27:17.909Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:27:18.074Z solarwinds-apm:patching patched crypto 
2022-04-19T00:27:18.097Z solarwinds-apm:patching patched https 
2022-04-19T00:27:18.098Z solarwinds-apm:patching patched http 
2022-04-19T00:27:18.190Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:27:18.191Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:27:18.191Z solarwinds-apm:patching patched fs 
2022-04-19T00:27:18.225Z solarwinds-apm:patching patched zlib 
2022-04-19T00:27:18.315Z solarwinds-apm:patching patched dns 
2022-04-19T00:27:18.391Z solarwinds-apm:patching patched tedious 13.1.0
2022-04-19T00:27:18.395Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:27:29.534Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:27:29.535Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:27:29.535Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:27:29.535Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:27:29.618Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:27:29.787Z solarwinds-apm:patching patched crypto 
2022-04-19T00:27:29.804Z solarwinds-apm:patching patched https 
2022-04-19T00:27:29.805Z solarwinds-apm:patching patched http 
2022-04-19T00:27:29.870Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:27:29.870Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:27:29.871Z solarwinds-apm:patching patched fs 
2022-04-19T00:27:29.911Z solarwinds-apm:patching patched zlib 
2022-04-19T00:27:29.992Z solarwinds-apm:patching patched dns 
2022-04-19T00:27:30.068Z solarwinds-apm:patching patched tedious 13.2.0
2022-04-19T00:27:30.072Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:27:42.339Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:27:42.340Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:27:42.340Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:27:42.340Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:27:42.404Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:27:42.595Z solarwinds-apm:patching patched crypto 
2022-04-19T00:27:42.616Z solarwinds-apm:patching patched https 
2022-04-19T00:27:42.616Z solarwinds-apm:patching patched http 
2022-04-19T00:27:42.703Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:27:42.703Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:27:42.704Z solarwinds-apm:patching patched fs 
2022-04-19T00:27:42.735Z solarwinds-apm:patching patched zlib 
2022-04-19T00:27:42.828Z solarwinds-apm:patching patched dns 
2022-04-19T00:27:42.905Z solarwinds-apm:patching patched tedious 14.0.0
2022-04-19T00:27:42.909Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 14.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (43ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:27:55.349Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:27:55.350Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:27:55.350Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:27:55.350Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:27:55.409Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:27:55.550Z solarwinds-apm:patching patched crypto 
2022-04-19T00:27:55.566Z solarwinds-apm:patching patched https 
2022-04-19T00:27:55.567Z solarwinds-apm:patching patched http 
2022-04-19T00:27:55.629Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:27:55.629Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:27:55.629Z solarwinds-apm:patching patched fs 
2022-04-19T00:27:55.652Z solarwinds-apm:patching patched zlib 
2022-04-19T00:27:55.718Z solarwinds-apm:patching patched dns 
2022-04-19T00:27:55.796Z solarwinds-apm:patching patched tedious 14.1.0
2022-04-19T00:27:55.800Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 14.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:28:07.876Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:28:07.877Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:28:07.877Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:28:07.877Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:28:07.938Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:28:08.062Z solarwinds-apm:patching patched crypto 
2022-04-19T00:28:08.077Z solarwinds-apm:patching patched https 
2022-04-19T00:28:08.077Z solarwinds-apm:patching patched http 
2022-04-19T00:28:08.130Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:28:08.131Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:28:08.131Z solarwinds-apm:patching patched fs 
2022-04-19T00:28:08.152Z solarwinds-apm:patching patched zlib 
2022-04-19T00:28:08.228Z solarwinds-apm:patching patched dns 
2022-04-19T00:28:08.306Z solarwinds-apm:patching patched tedious 14.2.0
2022-04-19T00:28:08.310Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 14.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 5 packages, removed 47 packages, changed 5 packages, and audited 932 packages in 16s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:28:29.261Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:28:29.262Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:28:29.262Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:28:29.262Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:28:29.349Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:28:29.490Z solarwinds-apm:patching patched crypto 
2022-04-19T00:28:29.530Z solarwinds-apm:patching patched https 
2022-04-19T00:28:29.530Z solarwinds-apm:patching patched http 
2022-04-19T00:28:29.590Z solarwinds-apm:patching patched zlib 
2022-04-19T00:28:29.657Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:28:29.658Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:28:29.658Z solarwinds-apm:patching patched fs 
2022-04-19T00:28:29.702Z solarwinds-apm:patching patched dns 
2022-04-19T00:28:29.792Z solarwinds-apm:patching patched tedious 14.3.0
2022-04-19T00:28:29.796Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 14.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 932 packages in 11s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:28:45.667Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:28:45.668Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:28:45.668Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:28:45.668Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:28:45.729Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:28:45.854Z solarwinds-apm:patching patched crypto 
2022-04-19T00:28:45.870Z solarwinds-apm:patching patched https 
2022-04-19T00:28:45.870Z solarwinds-apm:patching patched http 
2022-04-19T00:28:45.917Z solarwinds-apm:patching patched zlib 
2022-04-19T00:28:45.973Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:28:45.973Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:28:45.974Z solarwinds-apm:patching patched fs 
2022-04-19T00:28:46.013Z solarwinds-apm:patching patched dns 
2022-04-19T00:28:46.091Z solarwinds-apm:patching patched tedious 14.4.0
2022-04-19T00:28:46.095Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 14.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (52ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


up to date, audited 932 packages in 8s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
