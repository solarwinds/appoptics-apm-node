npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.0
updated 2 packages and audited 935 packages in 4.216s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:15:37.872Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:15:37.872Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:15:37.872Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:15:37.873Z appoptics:debug using context provider: ace-context
2022-04-21T16:15:37.932Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:15:38.069Z appoptics:patching patched crypto 
2022-04-21T16:15:38.089Z appoptics:patching patched https 
2022-04-21T16:15:38.090Z appoptics:patching patched http 
2022-04-21T16:15:38.135Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:15:38.136Z appoptics:patching patched fs 
2022-04-21T16:15:38.149Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v14.19.1)
2022-04-21T16:15:38.155Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2022-04-21T16:15:38.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a7347e08f96b921858b228047c715e658d90e28-953e2bb1081192e8-01 outer:exit 2b-4a7347e08f96b921858b228047c715e658d90e28-d35ae7e8ea6cff6d-01
2022-04-21T16:15:38.203Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:15:38.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8cf016ba6baa6ffe53126e18f157f934c75569d-0f5b662708f6e3ab-01 outer:exit 2b-a8cf016ba6baa6ffe53126e18f157f934c75569d-6a54d72b384c3cc3-01
2022-04-21T16:15:38.252Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:15:38.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-462c2f83c6d52da32f195dcce7c6d75a6c9b4edf-153f8371a35e7310-01 outer:exit 2b-462c2f83c6d52da32f195dcce7c6d75a6c9b4edf-52a5edddd4a2e566-01
2022-04-21T16:15:38.258Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:15:38.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c65615d0957d80ea0e7798874f53a485b666164-8503030453367466-01 outer:exit 2b-3c65615d0957d80ea0e7798874f53a485b666164-1584e5f4ca5fee47-01
2022-04-21T16:15:38.261Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:15:38.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d23d889f5d060c7e24b179ca3ca227444f21cb3-287bc08f5cd618de-01 outer:exit 2b-2d23d889f5d060c7e24b179ca3ca227444f21cb3-6848f080959fc1fe-01
2022-04-21T16:15:38.267Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:15:38.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-04080007575c290726b4f5679a7e1e87ff5b6336-388ffc85ee5a59fa-01 outer:exit 2b-04080007575c290726b4f5679a7e1e87ff5b6336-6db305fd35440828-01
2022-04-21T16:15:38.272Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:15:38.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5fbb8f5d1ea34adef32971a80031f69b40ff148-5d8381631820c83d-01 outer:exit 2b-c5fbb8f5d1ea34adef32971a80031f69b40ff148-a1402090de3c9f16-01
2022-04-21T16:15:38.275Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:15:38.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-814af6ed1654931190898624ba90206f4632dff7-4dbf122ae2c20724-01 outer:exit 2b-814af6ed1654931190898624ba90206f4632dff7-e4d15059357c536c-01
2022-04-21T16:15:38.279Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:15:38.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-28b6c5578314971100f3b1129720a36fed136cec-fd7e349ab2dd15bd-01 outer:exit 2b-28b6c5578314971100f3b1129720a36fed136cec-a5efdcd996b4f256-01
2022-04-21T16:15:38.281Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:15:38.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-54d1dd212016ee5dbf67931de7f250fb67853005-c9aa594bb4f5c511-01 outer:exit 2b-54d1dd212016ee5dbf67931de7f250fb67853005-41bcf70c05a69e8f-01
2022-04-21T16:15:38.284Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:15:38.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-5680367d5c877ded4e7a43021c4b6b7ed43534f8-b5acfab423ab1ad8-01 outer:exit 2b-5680367d5c877ded4e7a43021c4b6b7ed43534f8-18e56a176a50aea3-01
2022-04-21T16:15:38.288Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:15:38.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-06e9b880f42f765751f651b78f25bdb583aedc4e-9a181118fbb592f2-01 outer:exit 2b-06e9b880f42f765751f651b78f25bdb583aedc4e-cd2ef07f8c4b1943-01
2022-04-21T16:15:38.326Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:15:38.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4226e81d9ef3c302523c7b1376d3e7c4db8896d-5f4e91ac4f3be18c-01 outer:exit 2b-c4226e81d9ef3c302523c7b1376d3e7c4db8896d-0521285398ec9028-01
2022-04-21T16:15:38.346Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:15:38.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-97d059dfea0978981667679d74d38e840136de72-381c6094254dca3a-01 outer:exit 2b-97d059dfea0978981667679d74d38e840136de72-866e71b38c3a8440-01
2022-04-21T16:15:38.394Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:15:38.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-02d8c4dd15f37ab72b8907c55b2b26923bac9a46-e79f9cb9ee48176e-01 outer:exit 2b-02d8c4dd15f37ab72b8907c55b2b26923bac9a46-3154d77f9f381013-01
2022-04-21T16:15:38.399Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:15:38.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-014a1e8c5093d4971116cd615aea4153fdbd7119-14d1975a2a59a24e-01 outer:exit 2b-014a1e8c5093d4971116cd615aea4153fdbd7119-729e6e7b20c24939-01
2022-04-21T16:15:38.402Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:15:38.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-c007ad9fddfb632235bb7583e469f9a9b9174973-aae8fc57b7f1133d-01 outer:exit 2b-c007ad9fddfb632235bb7583e469f9a9b9174973-e77666f7904274fa-01
2022-04-21T16:15:38.408Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:15:38.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d4264a4ce1ee27f8724b49d5aa4ebf65f1a1eb4-6e3cb184e32d4c07-01 outer:exit 2b-5d4264a4ce1ee27f8724b49d5aa4ebf65f1a1eb4-22fc90677c2c76fb-01
2022-04-21T16:15:38.411Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:15:38.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-5695a9e206bbd3a00009948e816dd4a51f04bf10-320482e11ffe3979-01 outer:exit 2b-5695a9e206bbd3a00009948e816dd4a51f04bf10-32bcb29e40665e1b-01
2022-04-21T16:15:38.416Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:15:38.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea014d1704d992981d07a155d7b26f421e406534-50e53403725b415a-01 outer:exit 2b-ea014d1704d992981d07a155d7b26f421e406534-283c39ff72b0af28-01
2022-04-21T16:15:38.419Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:15:38.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a36fb582e46ab8e2ffdc140bc6cbfd908210b05-fbe7cba29d33c954-01 outer:exit 2b-2a36fb582e46ab8e2ffdc140bc6cbfd908210b05-ee35cf17bd016a1a-01
2022-04-21T16:15:38.421Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:15:38.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb31695711b4bf65cd3b87a221ddd69c5b82cdb8-d13df722854082c7-01 outer:exit 2b-fb31695711b4bf65cd3b87a221ddd69c5b82cdb8-22fa85809db78c7e-01
2022-04-21T16:15:38.423Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:15:38.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-70afed79645152b72874b5caf7667d023178a629-c682cb0c3f4eee2e-01 outer:exit 2b-70afed79645152b72874b5caf7667d023178a629-eb2e0a398672c06f-01
2022-04-21T16:15:38.429Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:15:38.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-14c05ae8740dcffa0ee916367def68c412d7814c-262fe37c7ceb1455-01 outer:exit 2b-14c05ae8740dcffa0ee916367def68c412d7814c-1f5d4faf033a0626-01
2022-04-21T16:15:38.432Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:15:38.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-45bc3b8c8d96e5de9fa9887a9a4c5ee31d1c993c-a6d48139ed86a5c7-01 outer:exit 2b-45bc3b8c8d96e5de9fa9887a9a4c5ee31d1c993c-d9ad20468de706a9-01
2022-04-21T16:15:38.435Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:15:38.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcce01281655ca8497a88ef98dde0bfde6c54d27-05f650499407681e-01 outer:exit 2b-fcce01281655ca8497a88ef98dde0bfde6c54d27-d732c515c3e1b08b-01
2022-04-21T16:15:38.437Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:15:38.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-8003021c4ce40d904df82d4ec9e95b98315d58d3-95b33d8dbe5b78d7-01 outer:exit 2b-8003021c4ce40d904df82d4ec9e95b98315d58d3-5653efd430ef8063-01
2022-04-21T16:15:38.476Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:15:38.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ad7a1674d4f063f405e369876fd78aa164702ac-bee08ffe568fbd8c-01 outer:exit 2b-8ad7a1674d4f063f405e369876fd78aa164702ac-24b54014827cc40c-01
2022-04-21T16:15:38.494Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:15:38.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-7394e45ead3e5a1b40eb9115cd0abf190fcbb775-f12ea79782d78e35-01 outer:exit 2b-7394e45ead3e5a1b40eb9115cd0abf190fcbb775-e0779cba5b6831ba-01
2022-04-21T16:15:38.504Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:15:38.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-73f014620bfb3c573ea23cfef5fa6198edd51032-efa76d49f2728094-01 outer:exit 2b-73f014620bfb3c573ea23cfef5fa6198edd51032-4ff510675dc92dee-01
2022-04-21T16:15:38.526Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:15:38.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-bca35cd412c74cd245549a016aed2314acfcdbc8-50edeadc6997a4b7-01 outer:exit 2b-bca35cd412c74cd245549a016aed2314acfcdbc8-db8da20212c0c9b8-01
2022-04-21T16:15:38.530Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:15:38.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-2273d542c21b5d16051d5b85545b9f8ee90881ca-9c61a3d27f1a9fa0-01 outer:exit 2b-2273d542c21b5d16051d5b85545b9f8ee90881ca-d12c796a071a63aa-01
2022-04-21T16:15:38.533Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:15:38.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbb7acc85abd018efc0ff2a84ebac4a61242d05b-0692281dc162b4d7-01 outer:exit 2b-cbb7acc85abd018efc0ff2a84ebac4a61242d05b-b11fdebe1e0384a9-01
2022-04-21T16:15:38.541Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:15:38.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f50d64604f04a7e56fbc4e2d64b58d662f14710-a5afe0f0e710534d-01 outer:exit 2b-7f50d64604f04a7e56fbc4e2d64b58d662f14710-49c5a2968d95175d-01
2022-04-21T16:15:38.549Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:15:38.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-29f8498c21b7ed59e6975da411ff9c77f6486812-35ad190bdee5fb98-01 outer:exit 2b-29f8498c21b7ed59e6975da411ff9c77f6486812-ec738f3611b09c8e-01
2022-04-21T16:15:38.552Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:15:38.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccf2a529587cefd634aab55901546bc3e7fb3e40-189dbaec2d494197-01 outer:exit 2b-ccf2a529587cefd634aab55901546bc3e7fb3e40-cb1e4b12e0410d98-01
2022-04-21T16:15:38.555Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:15:38.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a136a20024ed2cb6c348222cbed5ae86f3cdd17-54d37234ffa4f36c-01 outer:exit 2b-7a136a20024ed2cb6c348222cbed5ae86f3cdd17-08c744e4b9bea4cb-01
2022-04-21T16:15:38.557Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:15:38.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a8e8b587ebb8ad6ce7fc929ce1ca0e83678700a-5137bea43e71879c-01 outer:exit 2b-3a8e8b587ebb8ad6ce7fc929ce1ca0e83678700a-e79c3fcbfeec2d79-01
2022-04-21T16:15:38.559Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:15:38.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eb7adb5ebef9c079022bd30a9854260690cf72c-bcd0a7f7ab01954e-01 outer:exit 2b-0eb7adb5ebef9c079022bd30a9854260690cf72c-c3049a30666b7b12-01
2022-04-21T16:15:38.571Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:15:38.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c1ec971a58372fc054c6b853989ef1ead6c05a8-55562eacb7478b0b-01 outer:exit 2b-3c1ec971a58372fc054c6b853989ef1ead6c05a8-92c125ae13121fc1-01
2022-04-21T16:15:38.589Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:15:38.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-f20e4e0155c09cd334c0daa699b064078183582c-940d3d35e1339bcd-01 outer:exit 2b-f20e4e0155c09cd334c0daa699b064078183582c-42e4620e8cdd9bb4-01
2022-04-21T16:15:38.593Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:15:38.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-61cd0e4e67ce9899280ebb22e6ece17cfe2cfb6c-be4989a35e501274-01 outer:exit 2b-61cd0e4e67ce9899280ebb22e6ece17cfe2cfb6c-5f108dfe2caf2319-01
2022-04-21T16:15:38.597Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:15:38.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-66d32323dfbf56c47a51706ecc1b6e55cca480ca-d2c0fd6c3c54db6b-01 outer:exit 2b-66d32323dfbf56c47a51706ecc1b6e55cca480ca-0371d38953dbf626-01
2022-04-21T16:15:38.657Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:15:38.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-819323b548150814a8feee247aa89c5a03cf7d28-1bc36c0d19076409-01 outer:exit 2b-819323b548150814a8feee247aa89c5a03cf7d28-e1b66abcd04ad004-01
2022-04-21T16:15:38.693Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (531ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.1
updated 1 package and audited 935 packages in 4.09s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:15:43.642Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:15:43.643Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:15:43.643Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:15:43.643Z appoptics:debug using context provider: ace-context
2022-04-21T16:15:43.700Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:15:43.840Z appoptics:patching patched crypto 
2022-04-21T16:15:43.857Z appoptics:patching patched https 
2022-04-21T16:15:43.858Z appoptics:patching patched http 
2022-04-21T16:15:43.902Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:15:43.903Z appoptics:patching patched fs 
2022-04-21T16:15:43.915Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v14.19.1)
2022-04-21T16:15:43.921Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2022-04-21T16:15:43.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5cc03a36703adf9b4cf20141d13e7f92e525137-a266fae9fa4cac77-01 outer:exit 2b-e5cc03a36703adf9b4cf20141d13e7f92e525137-5db4709e1c384244-01
2022-04-21T16:15:43.962Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:15:44.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-95bef5a149e9386e2e3772a1c097e27beb7a5dd0-187b8181a3f0b443-01 outer:exit 2b-95bef5a149e9386e2e3772a1c097e27beb7a5dd0-80041a703ed20b13-01
2022-04-21T16:15:44.004Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:15:44.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-be18b13489c319a58ab54b3e7f5a680b263e7900-96b5fc15d0e0d8d6-01 outer:exit 2b-be18b13489c319a58ab54b3e7f5a680b263e7900-c14f01918b1586f7-01
2022-04-21T16:15:44.008Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:15:44.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-6022f8f270a5160ae6ecbb69c993704ad2d785f9-e0156e773a4dba53-01 outer:exit 2b-6022f8f270a5160ae6ecbb69c993704ad2d785f9-b6bec5ad872f84e6-01
2022-04-21T16:15:44.010Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:15:44.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c207790c2699f132ea8be1e8ae85e240975a9ba-673d2525e356b646-01 outer:exit 2b-1c207790c2699f132ea8be1e8ae85e240975a9ba-46efbc4264c6934a-01
2022-04-21T16:15:44.015Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:15:44.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3955270c78f6b3398e547bd162a4255bb8a3391-720cb2aedc45fc07-01 outer:exit 2b-b3955270c78f6b3398e547bd162a4255bb8a3391-8146a09fd93e257f-01
2022-04-21T16:15:44.018Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:15:44.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-203df59d48622dd1fe429dcaffb0a1097a454e06-98a7f9f6805db76f-01 outer:exit 2b-203df59d48622dd1fe429dcaffb0a1097a454e06-fe1cdb094ddbea0c-01
2022-04-21T16:15:44.021Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:15:44.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-af17f31d6a19203fdd56cdeb42448937034bae36-749cd25530f2b293-01 outer:exit 2b-af17f31d6a19203fdd56cdeb42448937034bae36-d0919cb59b526162-01
2022-04-21T16:15:44.023Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:15:44.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfa36896f7428ce64420a92958095f64c0fd23dc-d4c77618ca90df57-01 outer:exit 2b-dfa36896f7428ce64420a92958095f64c0fd23dc-aa79dac23d6ff666-01
2022-04-21T16:15:44.026Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:15:44.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-48f8ee50397f25f92ab0a9a528ffccd685da70c9-5ee27f0ebca5fd19-01 outer:exit 2b-48f8ee50397f25f92ab0a9a528ffccd685da70c9-67c199212e0e212b-01
2022-04-21T16:15:44.028Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:15:44.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8d38929f645f674d596f91f2494d3691d0f32a1-e48688fa25195696-01 outer:exit 2b-e8d38929f645f674d596f91f2494d3691d0f32a1-0eeaa1e4c3deca07-01
2022-04-21T16:15:44.032Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:15:44.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-167058ed200ed48de4407d3301507d55e624fb47-e3df367a69109dd4-01 outer:exit 2b-167058ed200ed48de4407d3301507d55e624fb47-9f6f9ab2126c4391-01
2022-04-21T16:15:44.038Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:15:44.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7febb6abbffa9d91653ce47f18a04bb5fdd5dd5-2a2bab9860014797-01 outer:exit 2b-e7febb6abbffa9d91653ce47f18a04bb5fdd5dd5-3afe65a4bd94bee9-01
2022-04-21T16:15:44.053Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:15:44.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b754b8a84e3da5d90f24e8aff498b3838bb1538-59b3de9a3c791d6c-01 outer:exit 2b-4b754b8a84e3da5d90f24e8aff498b3838bb1538-12572aff10e466b0-01
2022-04-21T16:15:44.092Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:15:44.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcd18ffa261791f0941d473051cb70995b58265d-4078ceaaa7fcfd45-01 outer:exit 2b-bcd18ffa261791f0941d473051cb70995b58265d-14d5349a81c42f9d-01
2022-04-21T16:15:44.096Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:15:44.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-42b1d936d49e9a57df7fc8f4ceea8f1ee7d17142-382329c3edce3a12-01 outer:exit 2b-42b1d936d49e9a57df7fc8f4ceea8f1ee7d17142-5771b85b0d782ab6-01
2022-04-21T16:15:44.098Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:15:44.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc95cec5ba645d1b65ad3c221f4570a127f757f0-91af286e1351e77c-01 outer:exit 2b-fc95cec5ba645d1b65ad3c221f4570a127f757f0-feacc9147919f803-01
2022-04-21T16:15:44.101Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:15:44.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-531f480e0de0860f1b37d9dae6018099baed4db3-da52984071732ef8-01 outer:exit 2b-531f480e0de0860f1b37d9dae6018099baed4db3-a8933799a97f6c45-01
2022-04-21T16:15:44.103Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:15:44.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3e4da7ace24ed924da5699a21cb8d005fcec223-20859747cfd56428-01 outer:exit 2b-e3e4da7ace24ed924da5699a21cb8d005fcec223-b92c4ec8f0b64b60-01
2022-04-21T16:15:44.108Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:15:44.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-513db0f595d8d5532883686ac1e23fdc337bcaee-2cb6af3a43291c4c-01 outer:exit 2b-513db0f595d8d5532883686ac1e23fdc337bcaee-7bb5b0085f58589f-01
2022-04-21T16:15:44.111Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:15:44.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6b6a70a36728f8e41359db4bca11bbdf0243e97-dac90a12bbd46868-01 outer:exit 2b-e6b6a70a36728f8e41359db4bca11bbdf0243e97-5a89fc976655c4c4-01
2022-04-21T16:15:44.113Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:15:44.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee206f1828344d5ea7dbf08598ab8d694b6fbb85-b94803b6e36a8cff-01 outer:exit 2b-ee206f1828344d5ea7dbf08598ab8d694b6fbb85-3470afe59bc4e52b-01
2022-04-21T16:15:44.115Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:15:44.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-6aba1c0358e90544bca4f12a43c3a096bb0a1c29-2df4494636891c8a-01 outer:exit 2b-6aba1c0358e90544bca4f12a43c3a096bb0a1c29-f237d57a88f6426a-01
2022-04-21T16:15:44.117Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:15:44.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-144938a52ce18b5ffbd23d2eaad2dd7643d07605-622b75812b6e2aa1-01 outer:exit 2b-144938a52ce18b5ffbd23d2eaad2dd7643d07605-c9af71b223525fcc-01
2022-04-21T16:15:44.120Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:15:44.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-c87001cb9cecc08b21b1a6b6ab0dd6c7ab2b9129-f5f190510179088d-01 outer:exit 2b-c87001cb9cecc08b21b1a6b6ab0dd6c7ab2b9129-c903fa28bd32a460-01
2022-04-21T16:15:44.122Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:15:44.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-584ef9a6a7783e857219a5df7417c494b56de750-d0e5aa69aebdb234-01 outer:exit 2b-584ef9a6a7783e857219a5df7417c494b56de750-1e7de6bf718e2ea6-01
2022-04-21T16:15:44.124Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:15:44.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-e30f688dac636804b6f89296c577d43dc2caf985-633789aa5840dfe3-01 outer:exit 2b-e30f688dac636804b6f89296c577d43dc2caf985-10eda59657c39685-01
2022-04-21T16:15:44.130Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:15:44.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-18721cc5add1eb76dc08948a26283c99f84cacb4-fce689f97ff1d8af-01 outer:exit 2b-18721cc5add1eb76dc08948a26283c99f84cacb4-9463aef4fdb877dd-01
2022-04-21T16:15:44.135Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:15:44.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-02c39e4d10dd170bb6e527ccc18b9adf5666d053-bc775d52f1bca093-01 outer:exit 2b-02c39e4d10dd170bb6e527ccc18b9adf5666d053-3cb5c8ac3239a17f-01
2022-04-21T16:15:44.144Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:15:44.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-a36c606ef1dc9aa72419c0068234b428a30d700a-c4b31d14410cd390-01 outer:exit 2b-a36c606ef1dc9aa72419c0068234b428a30d700a-d6b2942da541ac20-01
2022-04-21T16:15:44.149Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:15:44.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dce75d9b7df12204e1fcb6eca6f48cecdf85284-264247c8cf977bd4-01 outer:exit 2b-9dce75d9b7df12204e1fcb6eca6f48cecdf85284-07b6403b4d27e383-01
2022-04-21T16:15:44.151Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:15:44.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bef700e1f9456fe701fdb24b773dde027594853-e528437b3f38a322-01 outer:exit 2b-6bef700e1f9456fe701fdb24b773dde027594853-e0c014c45fe76f54-01
2022-04-21T16:15:44.154Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:15:44.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-d35ebc640b4d03e342b83075ee4374ec7d289d58-178c18beb1a81464-01 outer:exit 2b-d35ebc640b4d03e342b83075ee4374ec7d289d58-f5f831208012f858-01
2022-04-21T16:15:44.161Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:15:44.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3120c552a25e06ac4df59a6b2469826e6ee0bb1-64fce1b5ab285850-01 outer:exit 2b-d3120c552a25e06ac4df59a6b2469826e6ee0bb1-f38e409cb4061591-01
2022-04-21T16:15:44.163Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:15:44.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-6805217f9e1b192fb8d19a29ffeedb0f13d65bf8-3d89bc96ea94c704-01 outer:exit 2b-6805217f9e1b192fb8d19a29ffeedb0f13d65bf8-e1a0218d43faeb70-01
2022-04-21T16:15:44.165Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:15:44.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dd96e53a1c131b867dc54945836d3fa2863d321-10da3e710af9a711-01 outer:exit 2b-2dd96e53a1c131b867dc54945836d3fa2863d321-075aeb2a112580fa-01
2022-04-21T16:15:44.167Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:15:44.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bd5e1bce486aea1a48a787358276d6bafc59a03-d10203bfb8075903-01 outer:exit 2b-9bd5e1bce486aea1a48a787358276d6bafc59a03-d2115887a4ba45cf-01
2022-04-21T16:15:44.169Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:15:44.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d67c1e8311aab7152377c8d1bd6d4576c723474-7393da8499183949-01 outer:exit 2b-9d67c1e8311aab7152377c8d1bd6d4576c723474-77bc51ff10827568-01
2022-04-21T16:15:44.171Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:15:44.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-30663722700a84f996922d343f046d50dc148b34-417052049ba5f3ed-01 outer:exit 2b-30663722700a84f996922d343f046d50dc148b34-658a521b835238c8-01
2022-04-21T16:15:44.179Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:15:44.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b8b6a165aaa2125aaf9088f992dfe96e4a95b13-5ae4893287c862ea-01 outer:exit 2b-7b8b6a165aaa2125aaf9088f992dfe96e4a95b13-aea1904305735898-01
2022-04-21T16:15:44.189Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:15:44.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-b950df7faf354302bea6c1195c915ba4acc5c0cd-ad7461d2a0b68812-01 outer:exit 2b-b950df7faf354302bea6c1195c915ba4acc5c0cd-e3df910646d03307-01
2022-04-21T16:15:44.192Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:15:44.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-a55e0cf351a9117ab97eb207b304a60a5b1876f0-72233ddf3a1136d4-01 outer:exit 2b-a55e0cf351a9117ab97eb207b304a60a5b1876f0-8163d2df750b792a-01
2022-04-21T16:15:44.195Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:15:44.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3d1bc3d5448a7d62d6d8a0d915a44c9d3875544-657cffa1b0ac6f95-01 outer:exit 2b-e3d1bc3d5448a7d62d6d8a0d915a44c9d3875544-1662d73c3969fdc7-01
2022-04-21T16:15:44.198Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:15:44.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba91656e6b2bdb61cdf0e79ab65a8b829d44b5a7-33a24abd59685814-01 outer:exit 2b-ba91656e6b2bdb61cdf0e79ab65a8b829d44b5a7-6eb3954c99151b50-01
2022-04-21T16:15:44.224Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (298ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.2
updated 1 package and audited 935 packages in 5.994s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:15:51.459Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:15:51.460Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:15:51.460Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:15:51.461Z appoptics:debug using context provider: ace-context
2022-04-21T16:15:51.529Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:15:51.675Z appoptics:patching patched crypto 
2022-04-21T16:15:51.711Z appoptics:patching patched https 
2022-04-21T16:15:51.712Z appoptics:patching patched http 
2022-04-21T16:15:51.762Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:15:51.762Z appoptics:patching patched fs 
2022-04-21T16:15:51.776Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v14.19.1)
2022-04-21T16:15:51.781Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2022-04-21T16:15:51.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-9af1c2fe796856b1d043bd3a9d01a481daf3539f-cfdcd16570a186f0-01 outer:exit 2b-9af1c2fe796856b1d043bd3a9d01a481daf3539f-9710e5dcf01ac5bb-01
2022-04-21T16:15:51.825Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:15:51.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-b30af226f83cb881c74966730a21f359a2240eb4-7b3fe7f1f87c221d-01 outer:exit 2b-b30af226f83cb881c74966730a21f359a2240eb4-ff54b416dc33c872-01
2022-04-21T16:15:51.870Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:15:51.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6143d08d8fccef4575563ad799f8e6f5548fd95-1a91f1c341f154b3-01 outer:exit 2b-c6143d08d8fccef4575563ad799f8e6f5548fd95-8ad8b21b8987eb77-01
2022-04-21T16:15:51.874Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:15:51.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-f52b715027acff3528d335375fc3fe2c92f49140-bb867b0add99d8a3-01 outer:exit 2b-f52b715027acff3528d335375fc3fe2c92f49140-a16e458c2afc4c7c-01
2022-04-21T16:15:51.877Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:15:51.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c8a010666e5a4e29c0043d6eafb6596c778d48e-90d736026a3d1056-01 outer:exit 2b-0c8a010666e5a4e29c0043d6eafb6596c778d48e-6dea195377b0f6c5-01
2022-04-21T16:15:51.883Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:15:51.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-036e2986e20c6c1e07abc9bf141eb0b4723f12c4-ec6fdba04eeb91dd-01 outer:exit 2b-036e2986e20c6c1e07abc9bf141eb0b4723f12c4-1f3b33b25b1a5a8f-01
2022-04-21T16:15:51.886Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:15:51.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-059c237bb9f13ec548afec663a04a36c037b8510-eb5605329931b191-01 outer:exit 2b-059c237bb9f13ec548afec663a04a36c037b8510-18c91a646fb8ba56-01
2022-04-21T16:15:51.888Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:15:51.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc2f0b5f9acdbbda63b6b8861fe77eedc7ee0509-1612fc0df9bb9319-01 outer:exit 2b-cc2f0b5f9acdbbda63b6b8861fe77eedc7ee0509-070ffea77fbd08b8-01
2022-04-21T16:15:51.891Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:15:51.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-72136cb5496a0674bc191d18f3b0b20c773f816b-86c92d3ae5a219ae-01 outer:exit 2b-72136cb5496a0674bc191d18f3b0b20c773f816b-dcc0ffb9a3f10d90-01
2022-04-21T16:15:51.893Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:15:51.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd7f52eaae1f3da19e2702c2560255439075753d-e2d895dc9b061230-01 outer:exit 2b-bd7f52eaae1f3da19e2702c2560255439075753d-7f04baa58a4e1e2c-01
2022-04-21T16:15:51.897Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:15:51.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-ade5694beafb838d36fda72c475efc046d5af3a5-19e18351ad839051-01 outer:exit 2b-ade5694beafb838d36fda72c475efc046d5af3a5-1ca8330e1d15871c-01
2022-04-21T16:15:51.901Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:15:51.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-19d8af55cddd68a5677614bff0c9791f71189f97-75fa3b57e67a652d-01 outer:exit 2b-19d8af55cddd68a5677614bff0c9791f71189f97-98d31d9936aa3fba-01
2022-04-21T16:15:51.907Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:15:51.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-11e342a3d919fa2400d8a36208163cc8fa882a29-bba7158c29e50569-01 outer:exit 2b-11e342a3d919fa2400d8a36208163cc8fa882a29-8f8eb73fe1fc628d-01
2022-04-21T16:15:51.923Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:15:51.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf5060cc4e61db70988446e28568e7f35fe969c2-9fef22f076963594-01 outer:exit 2b-cf5060cc4e61db70988446e28568e7f35fe969c2-835d3167d88a58aa-01
2022-04-21T16:15:51.963Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:15:51.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ebceff7f08f44ea044a0aebb0d9d71b4b4bdf7e-1464a27644ba5985-01 outer:exit 2b-2ebceff7f08f44ea044a0aebb0d9d71b4b4bdf7e-73e4858eb35874ca-01
2022-04-21T16:15:51.966Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:15:51.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ff2482ac41ccce61e56427ce718a9a3bf9aa7ec-fac31fcf0b422907-01 outer:exit 2b-8ff2482ac41ccce61e56427ce718a9a3bf9aa7ec-c5ff8859aeed4b18-01
2022-04-21T16:15:51.968Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:15:51.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-2202b6951d7b5efa00d0b6eea672e7588ccc262d-56040299060f8eb2-01 outer:exit 2b-2202b6951d7b5efa00d0b6eea672e7588ccc262d-87dd932334d3c7cc-01
2022-04-21T16:15:51.972Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:15:51.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-9277df0c883e22feb06471ace71738889a281bff-f85cd544f52d59bd-01 outer:exit 2b-9277df0c883e22feb06471ace71738889a281bff-5e8349a7fe59fa9d-01
2022-04-21T16:15:51.975Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:15:51.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7ca05c2e99c95bd68fa223c1f92378ac7f228aa-d2cfc21758f643de-01 outer:exit 2b-e7ca05c2e99c95bd68fa223c1f92378ac7f228aa-f366acc2b9463a1d-01
2022-04-21T16:15:51.977Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:15:51.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0cd7569e26d6fc481f6f81e4a6fc131aea6c597-db24c529c6e7cd08-01 outer:exit 2b-e0cd7569e26d6fc481f6f81e4a6fc131aea6c597-6fe31071d38b5f3f-01
2022-04-21T16:15:51.983Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:15:51.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4509109727d72db9aeea83c6de152b1bea65aa6-fb11e74cb03fbd0c-01 outer:exit 2b-b4509109727d72db9aeea83c6de152b1bea65aa6-a55c28d763312057-01
2022-04-21T16:15:51.985Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:15:51.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-65b57cc555ab6c686e82b48a67326945a63c9f94-8a7fc277b165e411-01 outer:exit 2b-65b57cc555ab6c686e82b48a67326945a63c9f94-d283ef0c42fd6159-01
2022-04-21T16:15:51.988Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:15:51.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-e94fc9c0c95bd8f60a4b8349bb1526723a7a31ea-0d79e93d2c425b11-01 outer:exit 2b-e94fc9c0c95bd8f60a4b8349bb1526723a7a31ea-bf77ccdd1965f7c8-01
2022-04-21T16:15:51.991Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:15:51.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-d44ced4d65317829693334c6ea0fd0f8ab6cc320-e1ff49cf79728707-01 outer:exit 2b-d44ced4d65317829693334c6ea0fd0f8ab6cc320-5ecdbd0438511042-01
2022-04-21T16:15:51.995Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:15:51.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-22ce9deee92d40923f76c36e6e85a2432312659b-e4647c4db2dac709-01 outer:exit 2b-22ce9deee92d40923f76c36e6e85a2432312659b-e061498a43316257-01
2022-04-21T16:15:51.997Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:15:52.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-a391cfd07ef8fe99ef0d7f297b4b22004f1f598e-650b1b0b3cac4c43-01 outer:exit 2b-a391cfd07ef8fe99ef0d7f297b4b22004f1f598e-70777ab049fe36f4-01
2022-04-21T16:15:52.000Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:15:52.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-d642342a832ca50cb559a7f23da26af7352f37b7-1fa3251f02e6267d-01 outer:exit 2b-d642342a832ca50cb559a7f23da26af7352f37b7-fecb8e974479479c-01
2022-04-21T16:15:52.007Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:15:52.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-087c01a41c3c97243a47f0d32008efb29629f16d-630e93363b7297ef-01 outer:exit 2b-087c01a41c3c97243a47f0d32008efb29629f16d-ca3bf9c5ddbedb98-01
2022-04-21T16:15:52.012Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:15:52.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-35b49c87e4dbcd360c6e9f4931766c0114a3d5f0-17e261fe08f6910e-01 outer:exit 2b-35b49c87e4dbcd360c6e9f4931766c0114a3d5f0-9df339b31046f044-01
2022-04-21T16:15:52.022Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:15:52.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-742c05feb689d3909044b02cbc49f7698f8e9293-4cf1e2e9e47c1b09-01 outer:exit 2b-742c05feb689d3909044b02cbc49f7698f8e9293-08e0c2dc86631a5b-01
2022-04-21T16:15:52.029Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:15:52.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-50257b53752ce6a7607e5d86b9c8811078f0fd2b-7b0ca8b6c73c92b4-01 outer:exit 2b-50257b53752ce6a7607e5d86b9c8811078f0fd2b-94ec19db3fc13e70-01
2022-04-21T16:15:52.032Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:15:52.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c0a4e81be989c8dd0d9af164af3890f9624f349-e5d765e50ff7ab83-01 outer:exit 2b-5c0a4e81be989c8dd0d9af164af3890f9624f349-0427b91a10572836-01
2022-04-21T16:15:52.035Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:15:52.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-126e94c3bf0b06175858c7e1de8180447b1e2fb3-9ef5ccc1c3188a87-01 outer:exit 2b-126e94c3bf0b06175858c7e1de8180447b1e2fb3-347882589152549f-01
2022-04-21T16:15:52.041Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:15:52.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c1720ec7e8ce0f03de844e1a6f7446fefecd227-2c2714284291a3ea-01 outer:exit 2b-3c1720ec7e8ce0f03de844e1a6f7446fefecd227-f46aabbb6e72444b-01
2022-04-21T16:15:52.044Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:15:52.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bfd0c59961806e1f27d2713c08b1573ac3ebeea-506de763bb8aad13-01 outer:exit 2b-5bfd0c59961806e1f27d2713c08b1573ac3ebeea-20862438ad8ba72c-01
2022-04-21T16:15:52.046Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:15:52.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-44158599340fca9e91921a05931737dd6fd39814-04af3e38d2d8669e-01 outer:exit 2b-44158599340fca9e91921a05931737dd6fd39814-c504de54f46acb38-01
2022-04-21T16:15:52.048Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:15:52.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d8bad8fe57574b6fce98757006882c6c3dd7d2d-d8a5a1b98464491d-01 outer:exit 2b-8d8bad8fe57574b6fce98757006882c6c3dd7d2d-509204cb4ce7ed4e-01
2022-04-21T16:15:52.050Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:15:52.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-31d90ae1e5f7942ebc92af877554940c6b29ded8-266808b7241474e2-01 outer:exit 2b-31d90ae1e5f7942ebc92af877554940c6b29ded8-45468fc2a00223ea-01
2022-04-21T16:15:52.052Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:15:52.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f4366359bb4c38d0c34e25e2b51391273fcbe8d-7f904d0db81c290e-01 outer:exit 2b-0f4366359bb4c38d0c34e25e2b51391273fcbe8d-13d04d02dd1860fc-01
2022-04-21T16:15:52.062Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:15:52.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-410fcb4a36d511a510ab92b6a0bb798737e12de8-76b7f2eeeb5b7f71-01 outer:exit 2b-410fcb4a36d511a510ab92b6a0bb798737e12de8-daf8d5240c6dd95b-01
2022-04-21T16:15:52.070Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:15:52.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ff95555d194c486203b38a3ee8be6fe2c692adc-9c5d81a1d7d4dd82-01 outer:exit 2b-9ff95555d194c486203b38a3ee8be6fe2c692adc-a220844a86f55e5d-01
2022-04-21T16:15:52.073Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:15:52.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-7faf3e58c55b10b1d0ad6184e9a8fefd82094fe6-11e5509649bbb020-01 outer:exit 2b-7faf3e58c55b10b1d0ad6184e9a8fefd82094fe6-b775de9e24aaac4a-01
2022-04-21T16:15:52.076Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:15:52.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-00c52b9e13317dc2b9f2e7ec2cb7858bb5569333-cd2e2a270e8d1596-01 outer:exit 2b-00c52b9e13317dc2b9f2e7ec2cb7858bb5569333-2ee0be14757f832d-01
2022-04-21T16:15:52.079Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:15:52.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2c5069fdacd234e82060c448bd42c1eb623984b-7a614cead98a0d4f-01 outer:exit 2b-e2c5069fdacd234e82060c448bd42c1eb623984b-0aac9f74dd33fcf8-01
2022-04-21T16:15:52.107Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (319ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.3
updated 1 package and audited 935 packages in 4.727s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:15:57.812Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:15:57.812Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:15:57.812Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:15:57.813Z appoptics:debug using context provider: ace-context
2022-04-21T16:15:57.869Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:15:58.012Z appoptics:patching patched crypto 
2022-04-21T16:15:58.030Z appoptics:patching patched https 
2022-04-21T16:15:58.031Z appoptics:patching patched http 
2022-04-21T16:15:58.078Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:15:58.078Z appoptics:patching patched fs 
2022-04-21T16:15:58.091Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v14.19.1)
2022-04-21T16:15:58.096Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2022-04-21T16:15:58.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-b091ce81910c9be3ab9c8570d386c28ade7ba10a-c6c5eb458e756fed-01 outer:exit 2b-b091ce81910c9be3ab9c8570d386c28ade7ba10a-d98c396e5b2818fa-01
2022-04-21T16:15:58.137Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:15:58.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-4042a641404705427fe1f0320ffa0ad2b515f99e-d322f6011194fdbd-01 outer:exit 2b-4042a641404705427fe1f0320ffa0ad2b515f99e-d032b34bb96597e5-01
2022-04-21T16:15:58.179Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:15:58.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b56f56efc86c02a50573df45d0281b799d3f966-d68c0466b170f523-01 outer:exit 2b-6b56f56efc86c02a50573df45d0281b799d3f966-6c1b9bc82d668451-01
2022-04-21T16:15:58.182Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:15:58.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebf8ce562524b025f45541e4ae1fc85e7a9837cb-ef0c8a86e0fdb88e-01 outer:exit 2b-ebf8ce562524b025f45541e4ae1fc85e7a9837cb-572c5b233b916328-01
2022-04-21T16:15:58.185Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:15:58.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-29bb3af70a7c7da016768ab260ee8ee7c4642ad5-0579f26a1087e4d0-01 outer:exit 2b-29bb3af70a7c7da016768ab260ee8ee7c4642ad5-0650df4df6dac0ea-01
2022-04-21T16:15:58.189Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:15:58.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-62b6d45891ca7f78436f74b6160d077830a7c0fd-f7b8b9bf1b15747b-01 outer:exit 2b-62b6d45891ca7f78436f74b6160d077830a7c0fd-66781df87df68c77-01
2022-04-21T16:15:58.192Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:15:58.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-5094c3aedee43232df694a193dcc350195ae3005-eb0c2bec764ac8cc-01 outer:exit 2b-5094c3aedee43232df694a193dcc350195ae3005-5016c62534bcbe7e-01
2022-04-21T16:15:58.195Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:15:58.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ccf9fb38dcb9b6b6b02f9e8d29ad641e232f224-734f1a5b54a7a4e5-01 outer:exit 2b-5ccf9fb38dcb9b6b6b02f9e8d29ad641e232f224-40efcaa8155fb5d9-01
2022-04-21T16:15:58.197Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:15:58.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-23d3e3acb8ead49e364e15587ca1578ef7f8e582-1e0c5083d4ce9958-01 outer:exit 2b-23d3e3acb8ead49e364e15587ca1578ef7f8e582-4c6b5ec884c750a4-01
2022-04-21T16:15:58.200Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:15:58.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c6c8070b397d2426dd55e0f6a9cf8636d27a32e-485136ff6381b9ad-01 outer:exit 2b-1c6c8070b397d2426dd55e0f6a9cf8636d27a32e-e414aa697711505b-01
2022-04-21T16:15:58.202Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:15:58.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-058eeaec7d7e3cdd1b1d5ed643ff8649bad72390-05eb575a8b13853a-01 outer:exit 2b-058eeaec7d7e3cdd1b1d5ed643ff8649bad72390-bd16cd1d2118cb6d-01
2022-04-21T16:15:58.206Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:15:58.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1110a6a7f3c283c8faca9f1919abdfc597b3003-ab7dd5dcc4f538fc-01 outer:exit 2b-d1110a6a7f3c283c8faca9f1919abdfc597b3003-d594bfd2eda4edae-01
2022-04-21T16:15:58.212Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:15:58.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e123852be7fb708eec6ffc81bff37ec36cdaaae-7dc40e197afac4c9-01 outer:exit 2b-4e123852be7fb708eec6ffc81bff37ec36cdaaae-3a822acc0ed5ecc1-01
2022-04-21T16:15:58.229Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:15:58.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a37bd6f00be0f6165fcb8a27aa7dd60b75dd224-4cadb8b93b76bc63-01 outer:exit 2b-9a37bd6f00be0f6165fcb8a27aa7dd60b75dd224-cd7e038df5ce961e-01
2022-04-21T16:15:58.268Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:15:58.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-17a37a8541877f90f0792189b8954ec9e8f211f8-77effc1d82dbb179-01 outer:exit 2b-17a37a8541877f90f0792189b8954ec9e8f211f8-d8b5f53677e35b0e-01
2022-04-21T16:15:58.271Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:15:58.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-62cc713786eb094045460034a15b922928a5c3ee-261f2fcafaa4040d-01 outer:exit 2b-62cc713786eb094045460034a15b922928a5c3ee-a984005d308934e7-01
2022-04-21T16:15:58.273Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:15:58.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-1556deede4e10591ba702dbee2d44b5a969d7a3a-4cfea0013d75cca6-01 outer:exit 2b-1556deede4e10591ba702dbee2d44b5a969d7a3a-09659c0d74dde9c0-01
2022-04-21T16:15:58.276Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:15:58.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7dd00c8c9d3a932f8643793a7d622649f07fea3-51009f086c68249f-01 outer:exit 2b-b7dd00c8c9d3a932f8643793a7d622649f07fea3-654e5bd14111bf1f-01
2022-04-21T16:15:58.279Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:15:58.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ffb5079d18f9c5d8f48e72ee2913a2a5575f9d4-5190bbcf5f8db822-01 outer:exit 2b-1ffb5079d18f9c5d8f48e72ee2913a2a5575f9d4-8ccb4fcbe5242680-01
2022-04-21T16:15:58.281Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:15:58.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-21f58310c7aa4939e20abee12f3470e535337ef8-2eac6ae5b71fdc0e-01 outer:exit 2b-21f58310c7aa4939e20abee12f3470e535337ef8-2f834285fe6e55c1-01
2022-04-21T16:15:58.283Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:15:58.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d6f6c66eb86774976c1c1fa5742c59a191ea390-c9d3286a80ce58d6-01 outer:exit 2b-7d6f6c66eb86774976c1c1fa5742c59a191ea390-2c83b0310ee54d1e-01
2022-04-21T16:15:58.285Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:15:58.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a00f4a12c693867b57d9f095f64a3cb96a95b10-acc49101d0af96c1-01 outer:exit 2b-4a00f4a12c693867b57d9f095f64a3cb96a95b10-512a4d2073a032bc-01
2022-04-21T16:15:58.288Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:15:58.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-705ae36aeaf7acb69c12903ea83005abb90ad464-7028476cc87cd98b-01 outer:exit 2b-705ae36aeaf7acb69c12903ea83005abb90ad464-2d789d3d0dde1733-01
2022-04-21T16:15:58.291Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:15:58.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-65674f0b1d4b88072cfd00cc8f37800410e03ffd-a3a4ae9fb8a2288f-01 outer:exit 2b-65674f0b1d4b88072cfd00cc8f37800410e03ffd-bee18ebbdbd543a1-01
2022-04-21T16:15:58.293Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:15:58.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b0d4d260d1f149ef023dcddaae15950ad9ab2fb-cb63a0fe47ca9596-01 outer:exit 2b-8b0d4d260d1f149ef023dcddaae15950ad9ab2fb-1c0b3d88cea51093-01
2022-04-21T16:15:58.296Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:15:58.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-7793de9c8ceb385ee0d2ab995515a6c654ef7160-b3f58a8aef3f98d0-01 outer:exit 2b-7793de9c8ceb385ee0d2ab995515a6c654ef7160-fc9fc4f17a4939ca-01
2022-04-21T16:15:58.298Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:15:58.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-2676ed809e57d9f2cff95d57767fbb72906e3b5f-c171fb5f014f81ef-01 outer:exit 2b-2676ed809e57d9f2cff95d57767fbb72906e3b5f-dfdacd3e383174f8-01
2022-04-21T16:15:58.304Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:15:58.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-d854c63c942a544063a08381749e6bb1a5d6d8ca-055734c0edee1af4-01 outer:exit 2b-d854c63c942a544063a08381749e6bb1a5d6d8ca-3e5c7c24e822d656-01
2022-04-21T16:15:58.308Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:15:58.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcb863658b91ef83979e5e03a66591930ed7bb18-f555e577cb3b176d-01 outer:exit 2b-bcb863658b91ef83979e5e03a66591930ed7bb18-68db3a6102bc60c5-01
2022-04-21T16:15:58.317Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:15:58.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-40fec9cabc1bb63e8140399f166af80e8ed098ae-5d65d2b434d3419f-01 outer:exit 2b-40fec9cabc1bb63e8140399f166af80e8ed098ae-4d38fe30de004e19-01
2022-04-21T16:15:58.324Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:15:58.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbb42ad1e8a4afa4fdca531b2be7bd4b6e91f949-04f3e123887afc7f-01 outer:exit 2b-fbb42ad1e8a4afa4fdca531b2be7bd4b6e91f949-2659641ec56568ff-01
2022-04-21T16:15:58.326Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:15:58.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ff672c6ca75b324cd79e7acf4da823a51869523-7a20846bd76efdbe-01 outer:exit 2b-9ff672c6ca75b324cd79e7acf4da823a51869523-cfd4e192271f2957-01
2022-04-21T16:15:58.330Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:15:58.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-64d35d54f26d981b3f017762bb98cdd328ae31dd-1c5659181605a746-01 outer:exit 2b-64d35d54f26d981b3f017762bb98cdd328ae31dd-e2b6faf70d8ca2d5-01
2022-04-21T16:15:58.336Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:15:58.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d909943e669758cfe2355a1508a571ffe899dad-a60086a174db5ffd-01 outer:exit 2b-1d909943e669758cfe2355a1508a571ffe899dad-0391fd4488b7ba60-01
2022-04-21T16:15:58.338Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:15:58.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2b7ad9a2b31fbd69fff33fb3b02261047a167d0-4c38e25b53a985fb-01 outer:exit 2b-b2b7ad9a2b31fbd69fff33fb3b02261047a167d0-55cb683ba415a644-01
2022-04-21T16:15:58.340Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:15:58.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-57baca7c9d3f4bf34b99e4e3cb05e18e89d965c2-843d8b18bb0ca784-01 outer:exit 2b-57baca7c9d3f4bf34b99e4e3cb05e18e89d965c2-2030c3d54f461fe3-01
2022-04-21T16:15:58.342Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:15:58.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdb7956a9f8ad6a9025e00c825ea6488242a34b1-54f645507f859328-01 outer:exit 2b-bdb7956a9f8ad6a9025e00c825ea6488242a34b1-5b5d1b3813480a54-01
2022-04-21T16:15:58.344Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:15:58.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfd6f103c63931c363fd159567278d3202147e3c-8c0482b9bc8fbc06-01 outer:exit 2b-dfd6f103c63931c363fd159567278d3202147e3c-d304022f3400b621-01
2022-04-21T16:15:58.347Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:15:58.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-febac8d3a641bd7bd54061a66eace643ef4c3d5f-0183ef40e5089228-01 outer:exit 2b-febac8d3a641bd7bd54061a66eace643ef4c3d5f-d2f7ed7b466ce07d-01
2022-04-21T16:15:58.355Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:15:58.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-8749235bf13db45b5c0fd98ae185016db4ab62a3-f05f6c2df9880dbc-01 outer:exit 2b-8749235bf13db45b5c0fd98ae185016db4ab62a3-a9e80579541735a0-01
2022-04-21T16:15:58.363Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:15:58.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-5312464a6725127084aae09623c8bfdd487a4624-9ae41bc27494bede-01 outer:exit 2b-5312464a6725127084aae09623c8bfdd487a4624-d3a2831453ecf2c1-01
2022-04-21T16:15:58.366Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:15:58.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-acf02b85a68049c121bac9ae2d73b146c70fccfd-f9084dbc204fbfd4-01 outer:exit 2b-acf02b85a68049c121bac9ae2d73b146c70fccfd-8e15f0180ef7e4b8-01
2022-04-21T16:15:58.369Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:15:58.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ca5d7ec87452351085a543df73369ea65828af4-1557a6f8b8d839f3-01 outer:exit 2b-0ca5d7ec87452351085a543df73369ea65828af4-47de51ebe48b759a-01
2022-04-21T16:15:58.372Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:15:58.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-49b77d2d50b1e44e3941a309e9b1b359da3a72db-937cd897b42ddfda-01 outer:exit 2b-49b77d2d50b1e44e3941a309e9b1b359da3a72db-6b8e84bd871defef-01
2022-04-21T16:15:58.398Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (296ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.4
updated 1 package and audited 935 packages in 5.634s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:04.912Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:04.913Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:04.913Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:04.913Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:04.976Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:05.112Z appoptics:patching patched crypto 
2022-04-21T16:16:05.130Z appoptics:patching patched https 
2022-04-21T16:16:05.131Z appoptics:patching patched http 
2022-04-21T16:16:05.174Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:05.175Z appoptics:patching patched fs 
2022-04-21T16:16:05.188Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v14.19.1)
2022-04-21T16:16:05.193Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2022-04-21T16:16:05.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-409957dec4a0e6ad437e7a46c19bc35c3bbd998e-4e1b2d71054e1550-01 outer:exit 2b-409957dec4a0e6ad437e7a46c19bc35c3bbd998e-bcc8822bfa7b29a5-01
2022-04-21T16:16:05.233Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:05.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-c80e5a9aac75328628d88f25b153083b61da76f4-1bf355e98733179e-01 outer:exit 2b-c80e5a9aac75328628d88f25b153083b61da76f4-27897961b1600e89-01
2022-04-21T16:16:05.277Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:05.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1645d81cf3140caa4a0c13278fc3bf5fb154091-17766a21fad261cc-01 outer:exit 2b-f1645d81cf3140caa4a0c13278fc3bf5fb154091-668da4ab43e08167-01
2022-04-21T16:16:05.280Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:05.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f745dcce1c65b5fd6428b7e965960e290d109c5-c3567cb3f34f3b19-01 outer:exit 2b-4f745dcce1c65b5fd6428b7e965960e290d109c5-fbe02e6e0e6c973b-01
2022-04-21T16:16:05.283Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:05.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-601281f9448d54254f238500844284ec40137041-85dc20a8877bfeb7-01 outer:exit 2b-601281f9448d54254f238500844284ec40137041-bb59cd2189065633-01
2022-04-21T16:16:05.288Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:05.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-b31056b4ae9e69cdc2c1bef07da698eb6d5848e5-bce73efee0d55b6a-01 outer:exit 2b-b31056b4ae9e69cdc2c1bef07da698eb6d5848e5-ab2cc9a14ea50b44-01
2022-04-21T16:16:05.291Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:05.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-56854119493f06ff38884600a275cc31f13b2875-39383b51fd8f07d6-01 outer:exit 2b-56854119493f06ff38884600a275cc31f13b2875-a9692ae7ec6b59a9-01
2022-04-21T16:16:05.293Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:05.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c40a1e90564fa9f0ae694823a90c605a970b2e2-9221676f78c88c25-01 outer:exit 2b-8c40a1e90564fa9f0ae694823a90c605a970b2e2-2dc61d6dfa76b23a-01
2022-04-21T16:16:05.296Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:05.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-681971f02856594c9ead6568bf70ce198e406376-d2a0932355833aea-01 outer:exit 2b-681971f02856594c9ead6568bf70ce198e406376-c0ebc4422fd33ad8-01
2022-04-21T16:16:05.298Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:05.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1da3dddf0652d5e840e6149b4841778490d522b-311b19413df5ad20-01 outer:exit 2b-f1da3dddf0652d5e840e6149b4841778490d522b-59ae0fbfd769d579-01
2022-04-21T16:16:05.301Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:05.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-46efaf19662fdca1165859fc92b63af8fc231882-e2237ff300ed1efc-01 outer:exit 2b-46efaf19662fdca1165859fc92b63af8fc231882-a96eaaa5400ac81f-01
2022-04-21T16:16:05.305Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:05.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffaa6b3dbd44dabaad7b5cbdbb8cdf0493c2fdaf-02bd1e837316afb6-01 outer:exit 2b-ffaa6b3dbd44dabaad7b5cbdbb8cdf0493c2fdaf-d9229e182729f4dc-01
2022-04-21T16:16:05.311Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:05.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdc220e2f7a6c0884300533fbaf14ed412381d2a-2772b9dcacf4c3a7-01 outer:exit 2b-bdc220e2f7a6c0884300533fbaf14ed412381d2a-2d14e22bbeccc944-01
2022-04-21T16:16:05.325Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:05.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-8124c86a5d2721392bd501cc6b553c3cf069f468-45b3ff196d6c82df-01 outer:exit 2b-8124c86a5d2721392bd501cc6b553c3cf069f468-a5081b8e64e1f158-01
2022-04-21T16:16:05.361Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:05.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-47d7729954da3a9f0b67838c3483d46ab5db6036-34ece279055a26e6-01 outer:exit 2b-47d7729954da3a9f0b67838c3483d46ab5db6036-3f9bc20c10f6012d-01
2022-04-21T16:16:05.367Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:05.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-694ff8b5f8c68974e052f8962507b7ac999ddbb1-a4c57fa2138c94d6-01 outer:exit 2b-694ff8b5f8c68974e052f8962507b7ac999ddbb1-e31d819fa28540d9-01
2022-04-21T16:16:05.372Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:05.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7daf25960df06669d91c9d7f7ee272ea300c5da-4f366c6668673dfa-01 outer:exit 2b-d7daf25960df06669d91c9d7f7ee272ea300c5da-e67f6c8500073d85-01
2022-04-21T16:16:05.376Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:05.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-14e38c284d9786a2af7249ed6f09708796346040-35eb527ea7b73542-01 outer:exit 2b-14e38c284d9786a2af7249ed6f09708796346040-0064365ff99ee495-01
2022-04-21T16:16:05.378Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:05.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a01dd64e233655eaab0ea5e479d3301d236a66e-d92a53af550d7b58-01 outer:exit 2b-1a01dd64e233655eaab0ea5e479d3301d236a66e-34be07263ec64e8c-01
2022-04-21T16:16:05.385Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:05.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-9263e1b4879e05da1f312b626cfdccaf91407ce8-68cae9b8fff8a16b-01 outer:exit 2b-9263e1b4879e05da1f312b626cfdccaf91407ce8-42646fcbdd72d014-01
2022-04-21T16:16:05.387Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:05.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fd4e9d9daa587d85d7bd2b5541c8f868061ae43-de17bc6e55e49964-01 outer:exit 2b-0fd4e9d9daa587d85d7bd2b5541c8f868061ae43-01c43ae0f097acee-01
2022-04-21T16:16:05.389Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:05.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7129bf64a763b783a9faf40b7137df0de99e35e-cb2a1599a836d9f6-01 outer:exit 2b-f7129bf64a763b783a9faf40b7137df0de99e35e-7c710933e97e434d-01
2022-04-21T16:16:05.391Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:05.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-34750ce41894e2c4874e8ae0240271e23933851c-4e1d03c29d060ba0-01 outer:exit 2b-34750ce41894e2c4874e8ae0240271e23933851c-e6966becebfef498-01
2022-04-21T16:16:05.394Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:05.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-3043b649138a1aed5232bf9ee4d23258169e1316-ae312eb76e3bd1c4-01 outer:exit 2b-3043b649138a1aed5232bf9ee4d23258169e1316-e71c2c4abfb0e560-01
2022-04-21T16:16:05.396Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:05.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f931362dd739314e14ac9b3a4e3a54e3377fed2-1ae7554e9f616c95-01 outer:exit 2b-4f931362dd739314e14ac9b3a4e3a54e3377fed2-76fd0aa52e8c0095-01
2022-04-21T16:16:05.398Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:05.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd9d90ba0c387caa88928feee92076377c056a80-a0ea66fada546a4a-01 outer:exit 2b-cd9d90ba0c387caa88928feee92076377c056a80-f382ddb85c46a812-01
2022-04-21T16:16:05.403Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:05.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-dca77b33a5c0765979e1fbce056338f972a28416-a6716037d811e49d-01 outer:exit 2b-dca77b33a5c0765979e1fbce056338f972a28416-9e68bccbd0339f77-01
2022-04-21T16:16:05.411Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:05.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fba04305424c411172d1bf542d6161024a70d53-4e1a982434f37fea-01 outer:exit 2b-5fba04305424c411172d1bf542d6161024a70d53-4163d4cc8fa71f78-01
2022-04-21T16:16:05.416Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:05.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-411f27122298f575198b15cb89f639652c0edd06-c71d3ab4ba064872-01 outer:exit 2b-411f27122298f575198b15cb89f639652c0edd06-3d7bcbe847ce5e18-01
2022-04-21T16:16:05.429Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:05.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9136a6af6508876cda1f3706f7d86bd90bb2a8d-3bd887d2b938aaf2-01 outer:exit 2b-c9136a6af6508876cda1f3706f7d86bd90bb2a8d-2afebf43fd896837-01
2022-04-21T16:16:05.437Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:05.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-6153cc0b6301d4c099bc5cdfa8203c4ad1fa33fa-5b73564ef48a5b38-01 outer:exit 2b-6153cc0b6301d4c099bc5cdfa8203c4ad1fa33fa-73685b39dcb8d918-01
2022-04-21T16:16:05.441Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:05.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-1365f84bc0a280ca2ee9c1eb975e5023bd3d91a4-e77b6530399ef9de-01 outer:exit 2b-1365f84bc0a280ca2ee9c1eb975e5023bd3d91a4-21ac625cb50aa15a-01
2022-04-21T16:16:05.444Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:05.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ed837bd2c19a24e8b0158afcaa22c8e7d4d5a83-fff00d645fa0f5f0-01 outer:exit 2b-6ed837bd2c19a24e8b0158afcaa22c8e7d4d5a83-2e8b92d79a044c9f-01
2022-04-21T16:16:05.451Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:05.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f5f28930789f7c1da5abaf5bc84c1caa0a0658d-89ecc7b1269fc423-01 outer:exit 2b-6f5f28930789f7c1da5abaf5bc84c1caa0a0658d-0467ff2083f646df-01
2022-04-21T16:16:05.454Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:05.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-98845caf0de34d63de826cff854614f8d472bd52-bff682026ea77b17-01 outer:exit 2b-98845caf0de34d63de826cff854614f8d472bd52-9baf15bce2a0fbf8-01
2022-04-21T16:16:05.456Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:05.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-18db6983a8cf5d9d4ee6cb5cd43ec8896e6c345b-24522133a18d81be-01 outer:exit 2b-18db6983a8cf5d9d4ee6cb5cd43ec8896e6c345b-271a9b1988e2c470-01
2022-04-21T16:16:05.457Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:05.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b02f23aacae381a5bd49c576d42104983985a1a-0cf544112905d0e9-01 outer:exit 2b-9b02f23aacae381a5bd49c576d42104983985a1a-f3b233b5027683c3-01
2022-04-21T16:16:05.459Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:05.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae3e44467bf8ad2ceb4d10cc95c582a6fdc9f800-5d35025aefbd6172-01 outer:exit 2b-ae3e44467bf8ad2ceb4d10cc95c582a6fdc9f800-e02f5ceacb7be04f-01
2022-04-21T16:16:05.461Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:05.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f819aacd8dd6d36de8ac7d4c066dbe0d43d89eb-7b4a170900217e87-01 outer:exit 2b-8f819aacd8dd6d36de8ac7d4c066dbe0d43d89eb-ab1c8d6c6d6a6c6e-01
2022-04-21T16:16:05.470Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:05.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-da1e8b7e3a41540f3e4b189fb8340425764edc32-f91144b7323560f5-01 outer:exit 2b-da1e8b7e3a41540f3e4b189fb8340425764edc32-8b5138f93a3ba5b4-01
2022-04-21T16:16:05.478Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:05.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-80819c698c30533e42583412783198540661e96b-dae012051c4a83ca-01 outer:exit 2b-80819c698c30533e42583412783198540661e96b-b8ddcd6d523b8a8d-01
2022-04-21T16:16:05.480Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:05.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2bee62100e8248e5612289d2cad487ab70ef8c9-b3cc447a212854d7-01 outer:exit 2b-f2bee62100e8248e5612289d2cad487ab70ef8c9-a96fea595f38a3ad-01
2022-04-21T16:16:05.483Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:05.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dff848d57022ae0c377009f83b7d94ccbd88f07-65abdde07225be49-01 outer:exit 2b-2dff848d57022ae0c377009f83b7d94ccbd88f07-6e7d06bfd220fd76-01
2022-04-21T16:16:05.486Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:05.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-89fe79f3b5e947a7763cbcfed2dc76667c0e9bfd-55a8c46167fe47bd-01 outer:exit 2b-89fe79f3b5e947a7763cbcfed2dc76667c0e9bfd-ac98405d93d8e948-01
2022-04-21T16:16:05.512Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (313ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.5
updated 1 package and audited 935 packages in 3.718s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:10.133Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:10.133Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:10.133Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:10.134Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:10.194Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:10.332Z appoptics:patching patched crypto 
2022-04-21T16:16:10.350Z appoptics:patching patched https 
2022-04-21T16:16:10.350Z appoptics:patching patched http 
2022-04-21T16:16:10.395Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:10.395Z appoptics:patching patched fs 
2022-04-21T16:16:10.409Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v14.19.1)
2022-04-21T16:16:10.414Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2022-04-21T16:16:10.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-31700d00dc89a9a601e09ff1fa51387338ecce53-4185c4520d3fd48a-01 outer:exit 2b-31700d00dc89a9a601e09ff1fa51387338ecce53-e41d33d0f4fd1103-01
2022-04-21T16:16:10.455Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:10.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0125664792d890518b4ffa7acc84156adaf5809-069c7e9e25af5b2b-01 outer:exit 2b-d0125664792d890518b4ffa7acc84156adaf5809-b02ed611eaee6c14-01
2022-04-21T16:16:10.496Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:10.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7df226b9f314d7bacaeb26cd973453d0f4ee42c-5451f3377cb9ad5c-01 outer:exit 2b-b7df226b9f314d7bacaeb26cd973453d0f4ee42c-4b56f409504afe77-01
2022-04-21T16:16:10.500Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:10.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bbf6c152a3ccbaf483c1cebd8ae8c33d2e9af78-7e7b815f1176d4ed-01 outer:exit 2b-1bbf6c152a3ccbaf483c1cebd8ae8c33d2e9af78-70f6d8644f1c1b45-01
2022-04-21T16:16:10.503Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:10.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd65ade0ea7fb398ba6919e772a8ea6e089ee0f2-aba93b8913937e6c-01 outer:exit 2b-fd65ade0ea7fb398ba6919e772a8ea6e089ee0f2-c9cb5d2eb33bd148-01
2022-04-21T16:16:10.510Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:10.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfb8e92e926892d0046db469f3b8231183430f74-d840a51d186cb189-01 outer:exit 2b-cfb8e92e926892d0046db469f3b8231183430f74-67869067e2caf557-01
2022-04-21T16:16:10.513Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:10.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4e9349bca9a69c5ce66f06b74f47d820810e24c-ab01bdd5adf39d49-01 outer:exit 2b-e4e9349bca9a69c5ce66f06b74f47d820810e24c-7653ad792a4f8673-01
2022-04-21T16:16:10.516Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:10.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d0e1ae1557fd24cd8337c851996a340f9bb20e4-ae0040024ea7530a-01 outer:exit 2b-5d0e1ae1557fd24cd8337c851996a340f9bb20e4-8c2f7da71f5ee88f-01
2022-04-21T16:16:10.519Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:10.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a072c01da653b80b4646b5e4185ac50faaaf6de-5dc0d0e5c045da0d-01 outer:exit 2b-6a072c01da653b80b4646b5e4185ac50faaaf6de-dc93804e17bccbf1-01
2022-04-21T16:16:10.522Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:10.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-b560f8282055ea4426b7ba1d924648bb63a04d7c-2886538292a3756b-01 outer:exit 2b-b560f8282055ea4426b7ba1d924648bb63a04d7c-356ed56cc419e704-01
2022-04-21T16:16:10.525Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:10.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a83895f04a87969d8899400245cbb0d1929a93f-712d43ba76977a6d-01 outer:exit 2b-9a83895f04a87969d8899400245cbb0d1929a93f-52ed84dfeb454508-01
2022-04-21T16:16:10.528Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:10.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-e112bd0bc7279cb247ef12a93e551d60b326622d-2ab339a78c980611-01 outer:exit 2b-e112bd0bc7279cb247ef12a93e551d60b326622d-27fda5565646e364-01
2022-04-21T16:16:10.534Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:10.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0691ae33464614ff3043481dbace742c0dcb813-91d93bd101beed5f-01 outer:exit 2b-b0691ae33464614ff3043481dbace742c0dcb813-73d48154e3874538-01
2022-04-21T16:16:10.548Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:10.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-9641449715201fb25726d2362feb9457ceb74804-14a4e13ab51bd873-01 outer:exit 2b-9641449715201fb25726d2362feb9457ceb74804-ed1402a69b114c72-01
2022-04-21T16:16:10.586Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:10.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-02fe43154de5d423cb4d082df96ac4a59073d745-ac480b887fb413d4-01 outer:exit 2b-02fe43154de5d423cb4d082df96ac4a59073d745-0285178d71609e33-01
2022-04-21T16:16:10.589Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:10.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1adc3ebf56520dd5721be267b5341e8a8a9b9c2-2860e14249b16b0f-01 outer:exit 2b-d1adc3ebf56520dd5721be267b5341e8a8a9b9c2-62b23c5f66561eb8-01
2022-04-21T16:16:10.592Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:10.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-12bc31d60afe19f0a60e9c574dacbe2e982a3f6f-c6d9580102cd9060-01 outer:exit 2b-12bc31d60afe19f0a60e9c574dacbe2e982a3f6f-9216fd790b73e37e-01
2022-04-21T16:16:10.595Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:10.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba02fce0eb2978997bad3d30c7720b8f26f9b66d-69fbcf70f104fccf-01 outer:exit 2b-ba02fce0eb2978997bad3d30c7720b8f26f9b66d-6b19d5ba52c9f1fc-01
2022-04-21T16:16:10.598Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:10.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-a58c4ceccbd12535d2fe8776fed067051cc33297-b27c4209af4b0216-01 outer:exit 2b-a58c4ceccbd12535d2fe8776fed067051cc33297-95d1ddb668301814-01
2022-04-21T16:16:10.603Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:10.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-741b06462bc845feea9a95e6cce6a725e62e6754-472540bb09602387-01 outer:exit 2b-741b06462bc845feea9a95e6cce6a725e62e6754-f0604b0c8e70d107-01
2022-04-21T16:16:10.606Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:10.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-f27fd22f5d178a56c520443f5882a4cd33829a78-39e690c98ae27983-01 outer:exit 2b-f27fd22f5d178a56c520443f5882a4cd33829a78-669281181041f0eb-01
2022-04-21T16:16:10.608Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:10.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-7943f985fb5940cbe3890013d1cefe9e46b8e72a-fd1062b3042c8de9-01 outer:exit 2b-7943f985fb5940cbe3890013d1cefe9e46b8e72a-590039d877695a48-01
2022-04-21T16:16:10.610Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:10.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-8619c8436718c9f05ae850fdc3eff3f7cea28d35-0c28802a280f6892-01 outer:exit 2b-8619c8436718c9f05ae850fdc3eff3f7cea28d35-d73f2b016e905e9a-01
2022-04-21T16:16:10.615Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:10.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-f27a03de2357868453fd05dbd8d3db680749bcce-fd084f75beaa8b4a-01 outer:exit 2b-f27a03de2357868453fd05dbd8d3db680749bcce-f0f7113b7137e0f8-01
2022-04-21T16:16:10.618Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:10.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfbcf1ed2f7b95129fdd6771e3a19c88b2713601-750e717a4c6a4205-01 outer:exit 2b-bfbcf1ed2f7b95129fdd6771e3a19c88b2713601-0ace29b54030c004-01
2022-04-21T16:16:10.620Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:10.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1f5864b2e12b3618eadbef003334f9cd6775da3-054c6f313bda9c34-01 outer:exit 2b-f1f5864b2e12b3618eadbef003334f9cd6775da3-ef312b9f3906ddd4-01
2022-04-21T16:16:10.623Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:10.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ea86c35b2d967dc4b65b8cf50edfecfef24e683-6fbc356c30f45b3e-01 outer:exit 2b-8ea86c35b2d967dc4b65b8cf50edfecfef24e683-c423f628c3cbef6c-01
2022-04-21T16:16:10.629Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:10.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4ea9a65dbda9c05c535be3575973cdb4df04f09-08e9c9b05e40fd3a-01 outer:exit 2b-b4ea9a65dbda9c05c535be3575973cdb4df04f09-5af7639cd362456a-01
2022-04-21T16:16:10.634Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:10.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5fd644c0eff615356db1efab8aa6dd910063c17-da73e5119b81e12c-01 outer:exit 2b-f5fd644c0eff615356db1efab8aa6dd910063c17-074fba7fd286a15b-01
2022-04-21T16:16:10.642Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:10.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-483578a51b12e59b4d1e624a0c06c54e55afab0d-08ced24bf804e880-01 outer:exit 2b-483578a51b12e59b4d1e624a0c06c54e55afab0d-0b52ff6c1095a266-01
2022-04-21T16:16:10.648Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:10.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-90d32db20a1f5e47ddd80297d4d1a7fc2b9bf85a-589fd3f9569bfb77-01 outer:exit 2b-90d32db20a1f5e47ddd80297d4d1a7fc2b9bf85a-4eab1f238376a8c3-01
2022-04-21T16:16:10.650Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:10.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-3481249064038c20a97057fd9804a18e3ff1b083-d544bac29fb596eb-01 outer:exit 2b-3481249064038c20a97057fd9804a18e3ff1b083-6d4ba38d060725c3-01
2022-04-21T16:16:10.653Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:10.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-015e052ba798c2895baf558af458ef77fd09849e-80431449354184a1-01 outer:exit 2b-015e052ba798c2895baf558af458ef77fd09849e-560d83e2fa954821-01
2022-04-21T16:16:10.659Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:10.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-b04d310640e3f14811dab772671449cea92ece06-00b75abe5b083b03-01 outer:exit 2b-b04d310640e3f14811dab772671449cea92ece06-17c239496746b736-01
2022-04-21T16:16:10.661Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:10.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ec645e114b6703dbe3ceb4fd880705c6add93bb-3deb8af443417b96-01 outer:exit 2b-4ec645e114b6703dbe3ceb4fd880705c6add93bb-74dc8c2f6dcf1b33-01
2022-04-21T16:16:10.663Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:10.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-0db18f89e671985be314c16c31e261addd48932d-02204f83ac3bf13c-01 outer:exit 2b-0db18f89e671985be314c16c31e261addd48932d-5c4e8db086765d8e-01
2022-04-21T16:16:10.665Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:10.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-e224c56a80872727b18c32a9c2b661e4452596aa-cd2462cbacafae07-01 outer:exit 2b-e224c56a80872727b18c32a9c2b661e4452596aa-8d5f26cc203cb7fc-01
2022-04-21T16:16:10.667Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:10.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f41c6cbf9af29e37a81a918489bd1ca7ce609ad-fa2facaa8849d164-01 outer:exit 2b-1f41c6cbf9af29e37a81a918489bd1ca7ce609ad-cb3efb8be5ac3cf8-01
2022-04-21T16:16:10.669Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:10.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bde3680462c1c816e1f2da7349642eeb8c9d21a-ab1857411956b438-01 outer:exit 2b-2bde3680462c1c816e1f2da7349642eeb8c9d21a-f68467809d2a59ff-01
2022-04-21T16:16:10.677Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:10.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8946e6ffe9b7b10d98f51797b3bd37f3647f59e-cf7aba0d7be9216f-01 outer:exit 2b-f8946e6ffe9b7b10d98f51797b3bd37f3647f59e-74cb8a6f7f08ba40-01
2022-04-21T16:16:10.685Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:10.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b4b33668a668e9153c16b9c9babf2c0f6add591-80c526bb9524da5a-01 outer:exit 2b-5b4b33668a668e9153c16b9c9babf2c0f6add591-58bfc1855a5401ed-01
2022-04-21T16:16:10.688Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:10.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5ec2ce7f714a0adfad19bc2a52261601ff85327-1eeac6c154f09610-01 outer:exit 2b-b5ec2ce7f714a0adfad19bc2a52261601ff85327-4296bb13eee7b036-01
2022-04-21T16:16:10.691Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:10.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa1afcf9b49cb0c547cae774a33cab35bebfb099-d3938fbb124c2b3d-01 outer:exit 2b-aa1afcf9b49cb0c547cae774a33cab35bebfb099-415e17d11a8ddc56-01
2022-04-21T16:16:10.693Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:10.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf25d72f7c4bb6e2588008fe0fb21ca3f7f3ed3a-b03f580a38250ad5-01 outer:exit 2b-cf25d72f7c4bb6e2588008fe0fb21ca3f7f3ed3a-4ba751a712de6ce8-01
2022-04-21T16:16:10.718Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (298ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.6
updated 1 package and audited 935 packages in 4.807s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:16.551Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:16.551Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:16.551Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:16.553Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:16.614Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:16.753Z appoptics:patching patched crypto 
2022-04-21T16:16:16.770Z appoptics:patching patched https 
2022-04-21T16:16:16.771Z appoptics:patching patched http 
2022-04-21T16:16:16.818Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:16.818Z appoptics:patching patched fs 
2022-04-21T16:16:16.831Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v14.19.1)
2022-04-21T16:16:16.837Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2022-04-21T16:16:16.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-759dac019bddf105e59317250aeb1b5899bda2f0-79767424815a3429-01 outer:exit 2b-759dac019bddf105e59317250aeb1b5899bda2f0-fdd6e279c06c9467-01
2022-04-21T16:16:16.881Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:16.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-f79a58af99e4ea639b9ddd5d63dec2f5c2d6df6f-21bfcc7aadd76397-01 outer:exit 2b-f79a58af99e4ea639b9ddd5d63dec2f5c2d6df6f-ff00c3aa005cf745-01
2022-04-21T16:16:16.923Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:16.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d53e490ef7e1c40fd6a0de97c962c3c3bab1cfc-f14e47a588380212-01 outer:exit 2b-9d53e490ef7e1c40fd6a0de97c962c3c3bab1cfc-1d8a8b687d224d10-01
2022-04-21T16:16:16.927Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:16.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-dee78f894edb8a3d4840780b3a522211104949e0-ede2c670f36b478f-01 outer:exit 2b-dee78f894edb8a3d4840780b3a522211104949e0-9cdf2bdd6d6714e3-01
2022-04-21T16:16:16.930Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:16.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-add01faee1ba571a7185a1e9b633684f81656a3c-dc677f1696835dca-01 outer:exit 2b-add01faee1ba571a7185a1e9b633684f81656a3c-61a9d93eddd21260-01
2022-04-21T16:16:16.934Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:16.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f0b6fb9553b3174980f23aaa7c9d5cf60a28573-f05063aedbbff2a2-01 outer:exit 2b-1f0b6fb9553b3174980f23aaa7c9d5cf60a28573-d1d38587a90ed0ea-01
2022-04-21T16:16:16.937Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:16.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9fdcee7c7b82c41574b7b412b3bcc9a317bfc5b-a7eb4ce9dd0f7e43-01 outer:exit 2b-f9fdcee7c7b82c41574b7b412b3bcc9a317bfc5b-95036a89e095bb19-01
2022-04-21T16:16:16.940Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:16.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b49b2c4c3b7aafd0c287e0baec17d0252a79054-546c809360b084fc-01 outer:exit 2b-5b49b2c4c3b7aafd0c287e0baec17d0252a79054-d3cda341eb0f2263-01
2022-04-21T16:16:16.942Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:16.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-88c6cabb9eeb10fccd1f6c8cfe3535980a6a8609-1de413a4438de7ca-01 outer:exit 2b-88c6cabb9eeb10fccd1f6c8cfe3535980a6a8609-08f7ed2a4f001fb9-01
2022-04-21T16:16:16.945Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:16.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e59381c5716474c1c8ac3553169c32a987c62a9-093b8a53eb3b8699-01 outer:exit 2b-2e59381c5716474c1c8ac3553169c32a987c62a9-4fb5b5dc20fb0a7f-01
2022-04-21T16:16:16.948Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:16.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2f633929915576abc61ef9f25e506c7a70407e4-8d34ca608ab6afa3-01 outer:exit 2b-f2f633929915576abc61ef9f25e506c7a70407e4-dbc64eb52cff4691-01
2022-04-21T16:16:16.951Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:16.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-cffdbac502566aac40c6c081d5cad20be100132a-550290fcfbfa156d-01 outer:exit 2b-cffdbac502566aac40c6c081d5cad20be100132a-95e1f6a8f355b301-01
2022-04-21T16:16:16.957Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:16.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d0b4667d5dc34f0b7b5a81603b8917a0f940755-298001f2f9a1f2b8-01 outer:exit 2b-0d0b4667d5dc34f0b7b5a81603b8917a0f940755-023668a2b62339db-01
2022-04-21T16:16:16.970Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:17.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-66bafeb35d95273c1d6b70df83aa3d7e643365c2-ba07b621e556e784-01 outer:exit 2b-66bafeb35d95273c1d6b70df83aa3d7e643365c2-a3a53fd36e26cd89-01
2022-04-21T16:16:17.006Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:17.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c1d32a380e143f3da77ed88619efe6d1b93f1fe-898252173d6dab6d-01 outer:exit 2b-4c1d32a380e143f3da77ed88619efe6d1b93f1fe-c2a2fd4c7e3c8e7e-01
2022-04-21T16:16:17.010Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:17.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bfce6fe2036e55fe86791ba0c35945e4e91d5fb-6ba08f6e37bf5775-01 outer:exit 2b-4bfce6fe2036e55fe86791ba0c35945e4e91d5fb-b8a15523185b2e5f-01
2022-04-21T16:16:17.012Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:17.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-f70ea8964e6bbd7cdff698c9a5a3adfb7f1959b1-4bc56ac55d491641-01 outer:exit 2b-f70ea8964e6bbd7cdff698c9a5a3adfb7f1959b1-e7e5178e32bb390c-01
2022-04-21T16:16:17.015Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:17.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-95b194978b101ac1c49067385d6b6ab849dd6271-9a47fc39ff674cf5-01 outer:exit 2b-95b194978b101ac1c49067385d6b6ab849dd6271-6cb7c1871a7311f9-01
2022-04-21T16:16:17.017Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:17.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd61e388ceecb9cbc29dce0667766da1bdcebae6-cf2f11f61a65b7b4-01 outer:exit 2b-fd61e388ceecb9cbc29dce0667766da1bdcebae6-075ef309ad5ba106-01
2022-04-21T16:16:17.023Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:17.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad7d5151e782126d8d860fc8f2257d52f995e4cd-afe7dff7da985417-01 outer:exit 2b-ad7d5151e782126d8d860fc8f2257d52f995e4cd-233fdc140d448510-01
2022-04-21T16:16:17.025Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:17.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-b65788868449cfe9824d484d94d3434adb809e34-0274e05d06c33233-01 outer:exit 2b-b65788868449cfe9824d484d94d3434adb809e34-1feab02164357695-01
2022-04-21T16:16:17.027Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:17.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-cea79cff5c0784fd75626ffd6f219a789769be1f-36bbbb715ad38894-01 outer:exit 2b-cea79cff5c0784fd75626ffd6f219a789769be1f-5e062440e05d6da2-01
2022-04-21T16:16:17.029Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:17.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-b46df660b830557335fc6dff69d9e6dedc509377-b8ba89b735a340b1-01 outer:exit 2b-b46df660b830557335fc6dff69d9e6dedc509377-18092bfafd6255e3-01
2022-04-21T16:16:17.031Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:17.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb51d630b77d278806599a3a1e8c0daf8d97eed5-cb8eef95801087fe-01 outer:exit 2b-cb51d630b77d278806599a3a1e8c0daf8d97eed5-d37dee5e6367b17c-01
2022-04-21T16:16:17.034Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:17.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4efb19da7404e27364f927ca417f96ec48c87a0-83ef3c3e70d0d8de-01 outer:exit 2b-a4efb19da7404e27364f927ca417f96ec48c87a0-56a71799cb810c6a-01
2022-04-21T16:16:17.036Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:17.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf20dbfaa06387862d54efc4051231c30b240659-5c6fd315fc1f6ab8-01 outer:exit 2b-cf20dbfaa06387862d54efc4051231c30b240659-e2dd9085cd904991-01
2022-04-21T16:16:17.039Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:17.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-7df5d7878d1de241339047c65fc47a4fdb02d281-9d8431c99580c754-01 outer:exit 2b-7df5d7878d1de241339047c65fc47a4fdb02d281-fcd9e1109a0e6353-01
2022-04-21T16:16:17.044Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:17.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8de7a17a512a8250bb5cb55c8b7ba9c5eb48e31-8eebe7191d306bad-01 outer:exit 2b-a8de7a17a512a8250bb5cb55c8b7ba9c5eb48e31-a2dd07cda096168c-01
2022-04-21T16:16:17.049Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:17.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-8862ab17e2fcd3fa3cea9fa2849c66d599caa657-dbf1cb1923211db7-01 outer:exit 2b-8862ab17e2fcd3fa3cea9fa2849c66d599caa657-8001e77fd00d66af-01
2022-04-21T16:16:17.057Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:17.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-194539035f8a0bd8d4b563c124f31154c09b413e-df58b946c7ff3998-01 outer:exit 2b-194539035f8a0bd8d4b563c124f31154c09b413e-f72ad0123006d2c8-01
2022-04-21T16:16:17.063Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:17.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf9df48ec241bcb7e226e607b75550d58274d375-1377ba8423cb1c78-01 outer:exit 2b-bf9df48ec241bcb7e226e607b75550d58274d375-3fd773da9bdde632-01
2022-04-21T16:16:17.066Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:17.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2fd0c32a8c6f2398d4afcb6d2fc9888e68d6894-fa0adaa44ab8b099-01 outer:exit 2b-f2fd0c32a8c6f2398d4afcb6d2fc9888e68d6894-b75196278d4d3836-01
2022-04-21T16:16:17.069Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:17.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-135f88f5e462b5ad954ec7060e39adc8e24faf68-79a6d1103d0eb3df-01 outer:exit 2b-135f88f5e462b5ad954ec7060e39adc8e24faf68-7e32bca12d9a590f-01
2022-04-21T16:16:17.076Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:17.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c7f280ea4038f54498e8e003e4ea54c52f694e5-255a67fd0a981037-01 outer:exit 2b-0c7f280ea4038f54498e8e003e4ea54c52f694e5-3c3d75bfcaf93b1b-01
2022-04-21T16:16:17.078Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:17.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-60444063eb694328e0430efb852e2698ed722fc8-5482296cc0853d0f-01 outer:exit 2b-60444063eb694328e0430efb852e2698ed722fc8-e0d4eb9bbc7c7721-01
2022-04-21T16:16:17.081Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:17.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-9538f1983a59d6bc36fe7379e0f0bced09edcd18-fde48dac61cbb5b7-01 outer:exit 2b-9538f1983a59d6bc36fe7379e0f0bced09edcd18-f5d5076b46f02fc3-01
2022-04-21T16:16:17.083Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:17.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dfeefc9b37cdd135dbee95d6115441eb449b4e7-7e60b5f2acb1e900-01 outer:exit 2b-8dfeefc9b37cdd135dbee95d6115441eb449b4e7-f57d429fe8475726-01
2022-04-21T16:16:17.084Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:17.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1ebf3dd95978bd97220825c7e4369e743f67248-aca591719a93a990-01 outer:exit 2b-d1ebf3dd95978bd97220825c7e4369e743f67248-a5507c5cfc4f9a7d-01
2022-04-21T16:16:17.086Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:17.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-425a5f0ea2ddd077753e58d3f888d6d169dc50c4-a886e274290edbed-01 outer:exit 2b-425a5f0ea2ddd077753e58d3f888d6d169dc50c4-0a37834280344360-01
2022-04-21T16:16:17.097Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:17.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-57032ae1277510428a47ae7b25457dbade9bf853-32b30ce3a61ecd17-01 outer:exit 2b-57032ae1277510428a47ae7b25457dbade9bf853-94008b88bc7dc62e-01
2022-04-21T16:16:17.105Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:17.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b7cf31b799e62d82ae7860e8bd29986b9cce2b6-1a58f5192aafb945-01 outer:exit 2b-7b7cf31b799e62d82ae7860e8bd29986b9cce2b6-3050bf202dab4f8a-01
2022-04-21T16:16:17.107Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:17.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a00a114cad7c933c2192eb6149ce7148ab72929-424c0c035bfddb85-01 outer:exit 2b-0a00a114cad7c933c2192eb6149ce7148ab72929-0267fa05c2934944-01
2022-04-21T16:16:17.110Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:17.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b4a5890d494ef709c56af1a2784707f7fac2291-af213bf130ba135f-01 outer:exit 2b-3b4a5890d494ef709c56af1a2784707f7fac2291-a4cddd3354cd1092-01
2022-04-21T16:16:17.112Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:17.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd2f79e5af3362c2e6f0415c75dbf558407e7c76-3ebd377e56f1efe1-01 outer:exit 2b-cd2f79e5af3362c2e6f0415c75dbf558407e7c76-c6c7a0ef00934311-01
2022-04-21T16:16:17.139Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (296ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.7
updated 1 package and audited 935 packages in 3.66s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:21.698Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:21.698Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:21.698Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:21.699Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:21.777Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:22.097Z appoptics:patching patched crypto 
2022-04-21T16:16:22.163Z appoptics:patching patched https 
2022-04-21T16:16:22.164Z appoptics:patching patched http 
2022-04-21T16:16:22.233Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:22.233Z appoptics:patching patched fs 
2022-04-21T16:16:22.247Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v14.19.1)
2022-04-21T16:16:22.253Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2022-04-21T16:16:22.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab9c90312355b3e0e114a4523a94e43b1af00083-491840dc9f91a1ec-01 outer:exit 2b-ab9c90312355b3e0e114a4523a94e43b1af00083-387c74b218a94d2d-01
2022-04-21T16:16:22.297Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:22.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-dce078a504a44eed30d0547256ae55e4a3c0b80b-fc379bbaf3170da2-01 outer:exit 2b-dce078a504a44eed30d0547256ae55e4a3c0b80b-53adc47f2a9119dd-01
2022-04-21T16:16:22.340Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:22.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-58e9f6e9eba1c0afaa61017cbf9bb63de4d8ab6d-be2fa439a8d97ffd-01 outer:exit 2b-58e9f6e9eba1c0afaa61017cbf9bb63de4d8ab6d-af8632dee2362aac-01
2022-04-21T16:16:22.344Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:22.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-35619e051c51266b29ff916ce87a98ccc9d2d4d5-0decd9345048de1b-01 outer:exit 2b-35619e051c51266b29ff916ce87a98ccc9d2d4d5-a136e42684c98960-01
2022-04-21T16:16:22.346Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:22.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-70249c392b30187f87214ab6f08ce0efac30995a-47205e36bf4787cf-01 outer:exit 2b-70249c392b30187f87214ab6f08ce0efac30995a-6e81b57981422c24-01
2022-04-21T16:16:22.352Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:22.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-bed796fc69c26cb0ecb56a4d293dc56242185d6a-724c4657757c5099-01 outer:exit 2b-bed796fc69c26cb0ecb56a4d293dc56242185d6a-bc3a249f393cb800-01
2022-04-21T16:16:22.356Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:22.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-f912657eb71271e97b45aab53c17dfe4719051a8-73123e8862a8ccc9-01 outer:exit 2b-f912657eb71271e97b45aab53c17dfe4719051a8-041f89a6d11d2357-01
2022-04-21T16:16:22.360Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:22.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-e93b0e65a208bf26cc8e3de0a79a2a63e4145c3f-33760d86a0137450-01 outer:exit 2b-e93b0e65a208bf26cc8e3de0a79a2a63e4145c3f-35e1aa2658948d8c-01
2022-04-21T16:16:22.364Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:22.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae0b38bee90fc544fdc7603049fdd468e8fca219-b0b681834141c8a0-01 outer:exit 2b-ae0b38bee90fc544fdc7603049fdd468e8fca219-c3f160c29394d92e-01
2022-04-21T16:16:22.368Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:22.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-b858876608af91145852c40ac7f4ec6992d10018-fc54fa9c53304e91-01 outer:exit 2b-b858876608af91145852c40ac7f4ec6992d10018-6b5013478c9eb5d4-01
2022-04-21T16:16:22.372Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:22.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-519538af5044885dcc6a160841bbcdcd979fe3cb-910590f61092f8ab-01 outer:exit 2b-519538af5044885dcc6a160841bbcdcd979fe3cb-0efb20cd870278c6-01
2022-04-21T16:16:22.377Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:22.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-6354baf7d72782abe933c7c7844947126fc2bee3-c5ecb26312f9654d-01 outer:exit 2b-6354baf7d72782abe933c7c7844947126fc2bee3-3364fa7801af7780-01
2022-04-21T16:16:22.387Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:22.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-51a9effb7f604c4600a4697094ebcb65f467a5f5-416578a369ff6ace-01 outer:exit 2b-51a9effb7f604c4600a4697094ebcb65f467a5f5-6f61b69ccc4e2699-01
2022-04-21T16:16:22.403Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:22.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccfef4e4fe25fe7beb68c9b03f7cd55cf2979249-3ddab99979625080-01 outer:exit 2b-ccfef4e4fe25fe7beb68c9b03f7cd55cf2979249-4489ee07c04ed944-01
2022-04-21T16:16:22.441Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:22.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-367e7b98257829d6f14f5cc8887e2fff48b97237-49c8651c0bf2230b-01 outer:exit 2b-367e7b98257829d6f14f5cc8887e2fff48b97237-3ca682c012a53a77-01
2022-04-21T16:16:22.445Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:22.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-d551ea48b86779a583ad3a5f190ce8d4e337b60c-0b3e6198e66dd711-01 outer:exit 2b-d551ea48b86779a583ad3a5f190ce8d4e337b60c-0fbc4d997440b44b-01
2022-04-21T16:16:22.447Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:22.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-aff1ff351a6c71656372d73c05dab797b15a6b3e-0d6969cb76356fe5-01 outer:exit 2b-aff1ff351a6c71656372d73c05dab797b15a6b3e-ac54e49c56ba8aae-01
2022-04-21T16:16:22.450Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:22.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b488d7ac37a33fa41f43553eeda0769dc2e508a-7e3039ac18368817-01 outer:exit 2b-8b488d7ac37a33fa41f43553eeda0769dc2e508a-62983d331a471aa3-01
2022-04-21T16:16:22.453Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:22.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-8045cb417140141e8b6ade9fa9f73169d8ce5127-e1583e7b9e889715-01 outer:exit 2b-8045cb417140141e8b6ade9fa9f73169d8ce5127-d48a3c526f477e1d-01
2022-04-21T16:16:22.457Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:22.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-8499536323a5531789682a3a4922f1a580c707ef-96e7415fc0d1dd2e-01 outer:exit 2b-8499536323a5531789682a3a4922f1a580c707ef-892700fc984b5846-01
2022-04-21T16:16:22.460Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:22.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbf9338b2174d985bf3fa054d4711606d30a78fe-74e45b7f31642642-01 outer:exit 2b-cbf9338b2174d985bf3fa054d4711606d30a78fe-71d6e2374e52b880-01
2022-04-21T16:16:22.462Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:22.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-389494e1e02d9c1fdaf219bf2386d0e569d02768-6899554ff52ce10a-01 outer:exit 2b-389494e1e02d9c1fdaf219bf2386d0e569d02768-b733d4e50d79477f-01
2022-04-21T16:16:22.464Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:22.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-d024450be952f5336a337c44472eb0a382c9e3d9-c0bcc55d684d8e7f-01 outer:exit 2b-d024450be952f5336a337c44472eb0a382c9e3d9-bb1eccf9b01508be-01
2022-04-21T16:16:22.467Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:22.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-b23ea53b5e2303e0f36ef1e24422a8d91d637fa7-6199204941af6695-01 outer:exit 2b-b23ea53b5e2303e0f36ef1e24422a8d91d637fa7-08e0bada8688cdb8-01
2022-04-21T16:16:22.471Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:22.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c170d231cfaceb094ef1f3c9216c1ea7738f4f8-02495c7e5245a66e-01 outer:exit 2b-6c170d231cfaceb094ef1f3c9216c1ea7738f4f8-5d2488fbc1faaaba-01
2022-04-21T16:16:22.473Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:22.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-abb5111bdf26155eafcda7da66f39252697018ee-6419310ce71bd594-01 outer:exit 2b-abb5111bdf26155eafcda7da66f39252697018ee-8cafe55991625475-01
2022-04-21T16:16:22.476Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:22.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-71ae453e100065be8cbb63f15e7e405411dc682e-e5f499d3b886a58b-01 outer:exit 2b-71ae453e100065be8cbb63f15e7e405411dc682e-262a84ea31b7f1b4-01
2022-04-21T16:16:22.482Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:22.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5bd4593c4611d76e525e5f6f2412869d441ae40-9ca219270b1b977d-01 outer:exit 2b-e5bd4593c4611d76e525e5f6f2412869d441ae40-5576f447487650f3-01
2022-04-21T16:16:22.488Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:22.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f5307ced51240d8905d641dd65de2b9a731b404-fdc623cf0a17502b-01 outer:exit 2b-4f5307ced51240d8905d641dd65de2b9a731b404-b45cdba39f51de03-01
2022-04-21T16:16:22.498Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:22.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd34bc05c5e53db538eb076ec7eaa63e559d7f1a-6a727df45ad2b6cb-01 outer:exit 2b-fd34bc05c5e53db538eb076ec7eaa63e559d7f1a-99c2e95312bcca5c-01
2022-04-21T16:16:22.504Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:22.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-32de0dfd2cfb1fdc40c686d664fbc809e170b76e-279f97d06d66a11f-01 outer:exit 2b-32de0dfd2cfb1fdc40c686d664fbc809e170b76e-d89d2f2ae2e768db-01
2022-04-21T16:16:22.506Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:22.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cc131e0902a9c36d963cb6f72eee2fcb612c6cc-58be443bee7100a8-01 outer:exit 2b-3cc131e0902a9c36d963cb6f72eee2fcb612c6cc-bf7a7571a5d27e7c-01
2022-04-21T16:16:22.509Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:22.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-6942dfcef7c73f78801c36ac12a79ad29a8a4669-2ef18ed1e91a8d5c-01 outer:exit 2b-6942dfcef7c73f78801c36ac12a79ad29a8a4669-b1d83d5b579b2482-01
2022-04-21T16:16:22.516Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:22.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7e1d48ab179eaa98eedc84454a57dbf9e489ca4-e049cbf3660828f9-01 outer:exit 2b-a7e1d48ab179eaa98eedc84454a57dbf9e489ca4-7ca2a3ad06f675d9-01
2022-04-21T16:16:22.519Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:22.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e96cdffb5a374124151845294676e21db670e4c-522880fcc11d43bd-01 outer:exit 2b-0e96cdffb5a374124151845294676e21db670e4c-fb6b5e5f138e2e13-01
2022-04-21T16:16:22.521Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:22.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3868c74ffe3a74536e927015d45a097ac15f456-08a3048a466c6ffd-01 outer:exit 2b-b3868c74ffe3a74536e927015d45a097ac15f456-da84c726bfb8b241-01
2022-04-21T16:16:22.523Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:22.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5d8eb8aa7305f57512c83e2618b7c9abc94082a-aceb8403c599b8cb-01 outer:exit 2b-d5d8eb8aa7305f57512c83e2618b7c9abc94082a-aa6eb9b5ee4c297b-01
2022-04-21T16:16:22.525Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:22.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-b05ebaa4c09e19f8e8ee2b4903da842d44efe84e-2dae49df7d7a6d68-01 outer:exit 2b-b05ebaa4c09e19f8e8ee2b4903da842d44efe84e-aba8df795a1156b0-01
2022-04-21T16:16:22.527Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:22.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-06cdd71e895637831409b0eb78ec2b5a72478926-4f285dbbd988fc1b-01 outer:exit 2b-06cdd71e895637831409b0eb78ec2b5a72478926-461350f4908f8cae-01
2022-04-21T16:16:22.538Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:22.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-6808a2ac10f35978628b889db9c313e1492440e2-3107916a9a747981-01 outer:exit 2b-6808a2ac10f35978628b889db9c313e1492440e2-d1da2cdc109be77b-01
2022-04-21T16:16:22.549Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:22.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-22f1e609f555cf563f90783059f2f47963d8457d-5726a0db343c01ba-01 outer:exit 2b-22f1e609f555cf563f90783059f2f47963d8457d-34f9e255d9f8971f-01
2022-04-21T16:16:22.552Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:22.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-2337e1d828f21bf3a2ebb6398b8ede31ea2cfef9-6f0cb6093863e639-01 outer:exit 2b-2337e1d828f21bf3a2ebb6398b8ede31ea2cfef9-d1c8e578c70af219-01
2022-04-21T16:16:22.555Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:22.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-91dee5645589a096af8c1860ba599672c4b506fa-b6d60a72d04f046d-01 outer:exit 2b-91dee5645589a096af8c1860ba599672c4b506fa-e42a53a53fa3cdaf-01
2022-04-21T16:16:22.557Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:22.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-6467e7e52840258b22d2ce94cd8b7b5bb6f5a974-55c7ab19a9e73688-01 outer:exit 2b-6467e7e52840258b22d2ce94cd8b7b5bb6f5a974-a58d40e80da55351-01
2022-04-21T16:16:22.588Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (330ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.8
updated 1 package and audited 935 packages in 4.43s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:27.875Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:27.876Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:27.876Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:27.876Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:27.935Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:28.069Z appoptics:patching patched crypto 
2022-04-21T16:16:28.087Z appoptics:patching patched https 
2022-04-21T16:16:28.087Z appoptics:patching patched http 
2022-04-21T16:16:28.131Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:28.132Z appoptics:patching patched fs 
2022-04-21T16:16:28.144Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v14.19.1)
2022-04-21T16:16:28.150Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2022-04-21T16:16:28.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-50dd431a32a69a5b585e9e0bd3672c4cff93cdd8-d2b6c4a6a39013d6-01 outer:exit 2b-50dd431a32a69a5b585e9e0bd3672c4cff93cdd8-d47044b41233f49f-01
2022-04-21T16:16:28.191Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:28.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-33bf555f72c481812612053d05f6501847a7c62d-ded2056325d4ff27-01 outer:exit 2b-33bf555f72c481812612053d05f6501847a7c62d-ba2ca4fbb36007ef-01
2022-04-21T16:16:28.233Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:28.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-af8916646ed77e900ad7f074e1223ee505d92b2b-1bcc2caf63c512d0-01 outer:exit 2b-af8916646ed77e900ad7f074e1223ee505d92b2b-469dfe6cee37cf37-01
2022-04-21T16:16:28.237Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:28.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-183776c9dfa67899f1175175a6d32b1d8950b056-779497c6acf43a0e-01 outer:exit 2b-183776c9dfa67899f1175175a6d32b1d8950b056-29027372f2c7f39b-01
2022-04-21T16:16:28.240Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:28.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-3da91771d1b836569b551a733414d0da9e71d825-ba2bdf196501887b-01 outer:exit 2b-3da91771d1b836569b551a733414d0da9e71d825-697f56762eb1030c-01
2022-04-21T16:16:28.244Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:28.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-21aba4318be2ab8d081f7381de5e451680919f07-c00083bd1e6a65cf-01 outer:exit 2b-21aba4318be2ab8d081f7381de5e451680919f07-f748c7c9523ebccf-01
2022-04-21T16:16:28.247Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:28.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-008a5642557bb14a2d2a6a8c65e6090846b18e7b-38089a4ab669db2f-01 outer:exit 2b-008a5642557bb14a2d2a6a8c65e6090846b18e7b-3f8be070abcff9a1-01
2022-04-21T16:16:28.250Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:28.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-839874ed8df3d699fd224fb9b3173c83426c5174-a5d1ac9a43a3d231-01 outer:exit 2b-839874ed8df3d699fd224fb9b3173c83426c5174-cecd37a66abc9b58-01
2022-04-21T16:16:28.252Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:28.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c5784da871101924910acb313fe1c21939da94e-6c5f52b2c2a3a7f6-01 outer:exit 2b-0c5784da871101924910acb313fe1c21939da94e-1fe7fbc0841740dc-01
2022-04-21T16:16:28.255Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:28.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-230bbf480094b4d273bee8783e6597b48d1bf30f-83121a16148f4be7-01 outer:exit 2b-230bbf480094b4d273bee8783e6597b48d1bf30f-472346037a87eef4-01
2022-04-21T16:16:28.257Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:28.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-38c17372fd598e0e743593a3d88fea2e294511dc-a27eceffdc025c9e-01 outer:exit 2b-38c17372fd598e0e743593a3d88fea2e294511dc-882296e9406ae892-01
2022-04-21T16:16:28.261Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:28.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec7c003d9ae77daef3d150539f1d03aed1cc2e77-bde040b99082ce3d-01 outer:exit 2b-ec7c003d9ae77daef3d150539f1d03aed1cc2e77-fe4d164fd50f9ede-01
2022-04-21T16:16:28.267Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:28.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b1f9ac98c8a6e138bbaae1234939f76c0c03112-e5a3742676274abe-01 outer:exit 2b-8b1f9ac98c8a6e138bbaae1234939f76c0c03112-bbadc43dfd3f9295-01
2022-04-21T16:16:28.282Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:28.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-360ce1974b9181f374a6c6201a873a4d1d45473c-2a550b221d24359f-01 outer:exit 2b-360ce1974b9181f374a6c6201a873a4d1d45473c-a2e68c2e3e944b97-01
2022-04-21T16:16:28.320Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:28.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-92792e2ec11ad7202fc10ce6d5f0ab4e4359fd70-ef1a8c1338fd940b-01 outer:exit 2b-92792e2ec11ad7202fc10ce6d5f0ab4e4359fd70-2d50fda0358ce3bd-01
2022-04-21T16:16:28.323Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:28.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d15e516c24360b5fa7733a249738ac5c1b23915-5fc8f5cf282c8bc3-01 outer:exit 2b-9d15e516c24360b5fa7733a249738ac5c1b23915-4a7150ef2b6509a0-01
2022-04-21T16:16:28.326Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:28.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-7faebc95e370e4a6aaf7db842bd2bcdb5d8b272f-518c7ec2ab536d6e-01 outer:exit 2b-7faebc95e370e4a6aaf7db842bd2bcdb5d8b272f-9ab951c1ca978cae-01
2022-04-21T16:16:28.330Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:28.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab0636303edadae421d77f5b2469fbe088079f71-516c7890e68e5c7e-01 outer:exit 2b-ab0636303edadae421d77f5b2469fbe088079f71-61c617673e5a6c91-01
2022-04-21T16:16:28.332Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:28.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cd18ead9c7035a10fd7a63c1402dd24446415e1-3b21807fa51769ce-01 outer:exit 2b-6cd18ead9c7035a10fd7a63c1402dd24446415e1-f5f8f965e98dd800-01
2022-04-21T16:16:28.334Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:28.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-de4d5a11ff0591567bba4dde3a8fc8f431cc9f5c-87174d648081fafa-01 outer:exit 2b-de4d5a11ff0591567bba4dde3a8fc8f431cc9f5c-bd0abf3cc565d89a-01
2022-04-21T16:16:28.336Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:28.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-89846e9acd4ab859bbe17205c40dc5693e21790a-22da5b5d3dfe99fc-01 outer:exit 2b-89846e9acd4ab859bbe17205c40dc5693e21790a-c6ff1806b4f3f7ae-01
2022-04-21T16:16:28.339Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:28.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-951e590a74d93e231e39b9ffeeb2ca43399f6f19-c52bfccc83f3f915-01 outer:exit 2b-951e590a74d93e231e39b9ffeeb2ca43399f6f19-b14fc77831d97100-01
2022-04-21T16:16:28.341Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:28.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cf7fe4ba428833b8353089aca9e821c6752d02c-f2e1652dbdbb07c0-01 outer:exit 2b-3cf7fe4ba428833b8353089aca9e821c6752d02c-3a83c85e7c0ae033-01
2022-04-21T16:16:28.344Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:28.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-f211005865d57bfcf83cf1063c4f5e0b6733921b-fcb3007f859d28f4-01 outer:exit 2b-f211005865d57bfcf83cf1063c4f5e0b6733921b-cbbfe54185a74efe-01
2022-04-21T16:16:28.346Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:28.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-5efb3ba32123aa30aee07e541f2f6177d8a16ec1-a616eb3dccc4e585-01 outer:exit 2b-5efb3ba32123aa30aee07e541f2f6177d8a16ec1-87950d03ea8ef3ff-01
2022-04-21T16:16:28.349Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:28.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-61e2c19bf66226b6f596ec71142336cd5fb77428-208f0f7ba0dd2bc4-01 outer:exit 2b-61e2c19bf66226b6f596ec71142336cd5fb77428-bc288200617703a6-01
2022-04-21T16:16:28.354Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:28.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-099f2531fcdd4a715aa0e0d31bbab545be32dbf5-279c10b7230d6b5a-01 outer:exit 2b-099f2531fcdd4a715aa0e0d31bbab545be32dbf5-da8ce4d1461e82d8-01
2022-04-21T16:16:28.360Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:28.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8620c64c2d7e9f0df1494e95493b24fba3376c4-668fdd49faf3702b-01 outer:exit 2b-e8620c64c2d7e9f0df1494e95493b24fba3376c4-ab7893d04708e5af-01
2022-04-21T16:16:28.364Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:28.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-159a9880ceadd5acdb91c38d1fc6c3f7d27cc405-58941c90f2d490fe-01 outer:exit 2b-159a9880ceadd5acdb91c38d1fc6c3f7d27cc405-b44288c39e73fa64-01
2022-04-21T16:16:28.372Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:28.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4980dac33ddec2194b51f4f944930abe78bd077-f06ba0e8e6ffa3fa-01 outer:exit 2b-b4980dac33ddec2194b51f4f944930abe78bd077-c09b43b318f0e14a-01
2022-04-21T16:16:28.378Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:28.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-71e720ee693e7550c0732d63810c9efa3eb65d79-ba6c22712cacad96-01 outer:exit 2b-71e720ee693e7550c0732d63810c9efa3eb65d79-631a205e94475696-01
2022-04-21T16:16:28.380Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:28.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-b221df0f2acc1eafae0f52233157632ae17d894f-e9d83c9cb7c357b3-01 outer:exit 2b-b221df0f2acc1eafae0f52233157632ae17d894f-26c984ccd7aae5f1-01
2022-04-21T16:16:28.383Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:28.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3fb511c09f932f871a8acf44a6e0b250b32fe40-efd337ab2c3c9197-01 outer:exit 2b-c3fb511c09f932f871a8acf44a6e0b250b32fe40-bdeacc69e397a7e9-01
2022-04-21T16:16:28.389Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:28.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-a224c7909413e1f85a29c4365186237c800e67b2-277fe30ebd2bc7a6-01 outer:exit 2b-a224c7909413e1f85a29c4365186237c800e67b2-ac931916fec13379-01
2022-04-21T16:16:28.391Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:28.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-5063dfe29bb3e86177fe0adf4cf1b5638b44809e-470237175e771ffb-01 outer:exit 2b-5063dfe29bb3e86177fe0adf4cf1b5638b44809e-87deaac227765ce9-01
2022-04-21T16:16:28.393Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:28.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-99e66feebf74fc0421cf8b067ea6bb78e5278ea4-0ab6c550321b9bfa-01 outer:exit 2b-99e66feebf74fc0421cf8b067ea6bb78e5278ea4-eacde622c777e919-01
2022-04-21T16:16:28.395Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:28.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aa583c617a8d9ba9f62366373ec65d44190b476-af0150af4c5d2e19-01 outer:exit 2b-0aa583c617a8d9ba9f62366373ec65d44190b476-9ef21f129f6b7c36-01
2022-04-21T16:16:28.397Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:28.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-4abdc26a5cb59daa48125f771dad6f4d1d45547f-5d6c44fcb42bb4cd-01 outer:exit 2b-4abdc26a5cb59daa48125f771dad6f4d1d45547f-cbec57b652f975c7-01
2022-04-21T16:16:28.399Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:28.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-d80c5762ab645013ded10afd7b6b5f96f10d9459-621f9c773ce6149d-01 outer:exit 2b-d80c5762ab645013ded10afd7b6b5f96f10d9459-d3bb6e538df216d8-01
2022-04-21T16:16:28.407Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:28.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-5514daf82c41fa26704580c47d4c04bac1a85c32-c115c88cd4c58d2b-01 outer:exit 2b-5514daf82c41fa26704580c47d4c04bac1a85c32-b93148dba57fac60-01
2022-04-21T16:16:28.415Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:28.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cd134ca6f9b693174d9fd7f60bacf9b54451e6a-ccc68e5413aa056c-01 outer:exit 2b-1cd134ca6f9b693174d9fd7f60bacf9b54451e6a-9241873d53786ca5-01
2022-04-21T16:16:28.418Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:28.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a6adef1319fb6640ed9c2100a2c1ab0e3b2f28a-b877e21551d0f90e-01 outer:exit 2b-6a6adef1319fb6640ed9c2100a2c1ab0e3b2f28a-2a0ca80a3bfae7a1-01
2022-04-21T16:16:28.421Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:28.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-0077d32399c9e99c17a8d3d8f9b37fc7e96545d8-e54042449978fb9e-01 outer:exit 2b-0077d32399c9e99c17a8d3d8f9b37fc7e96545d8-4f1fd76e1a624be3-01
2022-04-21T16:16:28.423Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:28.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a3d1f0e27b7d1c54967557359c9923324a8d118-0adda92fe16d8976-01 outer:exit 2b-8a3d1f0e27b7d1c54967557359c9923324a8d118-3f615ea7cc28f007-01
2022-04-21T16:16:28.449Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (294ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.9
updated 1 package and audited 935 packages in 3.803s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:33.223Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:33.224Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:33.224Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:33.226Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:33.305Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:33.439Z appoptics:patching patched crypto 
2022-04-21T16:16:33.457Z appoptics:patching patched https 
2022-04-21T16:16:33.457Z appoptics:patching patched http 
2022-04-21T16:16:33.501Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:33.502Z appoptics:patching patched fs 
2022-04-21T16:16:33.515Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v14.19.1)
2022-04-21T16:16:33.520Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2022-04-21T16:16:33.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcf03a09f829abec69ee74921423c704e877b891-c9a897d29093afb4-01 outer:exit 2b-dcf03a09f829abec69ee74921423c704e877b891-bda5408cc49359be-01
2022-04-21T16:16:33.562Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:33.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-32e0382f4d3bfa27413dfff9482ba3fd54564120-a41ef6a8cd6616bf-01 outer:exit 2b-32e0382f4d3bfa27413dfff9482ba3fd54564120-95a2361b468d5f48-01
2022-04-21T16:16:33.605Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:33.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-999fcb46810610b996bd57ec1ea2f0f80de03ea5-1ef1e15615efb6e2-01 outer:exit 2b-999fcb46810610b996bd57ec1ea2f0f80de03ea5-61e4924e39db78b0-01
2022-04-21T16:16:33.609Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:33.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce5b389763a8ff5a76732c5acf2b331f9cb15071-61a3f3f0b8653408-01 outer:exit 2b-ce5b389763a8ff5a76732c5acf2b331f9cb15071-b044ea798e0e3e35-01
2022-04-21T16:16:33.615Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:33.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-40ea68ce9c0bff84dbf63b50b283983281febf5c-3803a36fabec4347-01 outer:exit 2b-40ea68ce9c0bff84dbf63b50b283983281febf5c-6a92f3e335908df7-01
2022-04-21T16:16:33.621Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:33.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-d516230e4471b6d64216ecc0d986343b4e8273f5-406fb8a68daaf209-01 outer:exit 2b-d516230e4471b6d64216ecc0d986343b4e8273f5-8f07733618186895-01
2022-04-21T16:16:33.624Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:33.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-b194b0c0dbc15fb9f9cd4127ead109af9ac79cf8-ef82a5eab8897dab-01 outer:exit 2b-b194b0c0dbc15fb9f9cd4127ead109af9ac79cf8-133bd13e488312b8-01
2022-04-21T16:16:33.626Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:33.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-f57c3bb31b9f1b7becd2c0bbdbb3a4bcc3585aae-3c5ab2c1c966f0a6-01 outer:exit 2b-f57c3bb31b9f1b7becd2c0bbdbb3a4bcc3585aae-d4078a3462e9be7a-01
2022-04-21T16:16:33.628Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:33.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f314f4817fe47416df402daed9c65218bd78a39-74353bb1065b8ee1-01 outer:exit 2b-8f314f4817fe47416df402daed9c65218bd78a39-03232a45d7d41937-01
2022-04-21T16:16:33.631Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:33.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4cad548b40133ee56c73914b97da155bca0561c-3e43d59dcb062e82-01 outer:exit 2b-e4cad548b40133ee56c73914b97da155bca0561c-ba2b42c15cd6a2ae-01
2022-04-21T16:16:33.634Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:33.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-86f790e7473ff811f04b14504394efcfdaec708d-be8303368727a6fb-01 outer:exit 2b-86f790e7473ff811f04b14504394efcfdaec708d-0531d8a81092ef19-01
2022-04-21T16:16:33.637Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:33.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2834027340d0671db02300d32f4bdb32d37e92e-06bd02c8944ae2ac-01 outer:exit 2b-a2834027340d0671db02300d32f4bdb32d37e92e-b575f9e7a5664476-01
2022-04-21T16:16:33.643Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:33.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dd6a610c754888ae9390b5e3aac0a76349c40aa-ea85ca9d150cb048-01 outer:exit 2b-0dd6a610c754888ae9390b5e3aac0a76349c40aa-67d862f8d4950cf1-01
2022-04-21T16:16:33.658Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:33.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-144d16e4e88a535f69b9b8b2dc22bd0e52a6ab08-88d26c15702f459b-01 outer:exit 2b-144d16e4e88a535f69b9b8b2dc22bd0e52a6ab08-c4735fd2e91b8c59-01
2022-04-21T16:16:33.694Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:33.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd06bcffa30ce49f3d99e3f990c3d313b98d4e9e-d938484da9e37d51-01 outer:exit 2b-cd06bcffa30ce49f3d99e3f990c3d313b98d4e9e-15cbc2d1dbb0bd3f-01
2022-04-21T16:16:33.697Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:33.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e21ae3c0583a838ed356a1b9448ed8ee2d2f88b-ac29605e0bed0135-01 outer:exit 2b-8e21ae3c0583a838ed356a1b9448ed8ee2d2f88b-5c48c4d2b09e8585-01
2022-04-21T16:16:33.700Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:33.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b456f1bf2e020c26bbc028c7e8a39cc610fe7e5-aa15acee304029c6-01 outer:exit 2b-6b456f1bf2e020c26bbc028c7e8a39cc610fe7e5-57b645a159e7fd87-01
2022-04-21T16:16:33.703Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:33.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc2fc1fe7bd823c2277cd5b8d6ffb608f97f292f-26a9f8fb91160049-01 outer:exit 2b-bc2fc1fe7bd823c2277cd5b8d6ffb608f97f292f-7352b8a510e4e841-01
2022-04-21T16:16:33.705Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:33.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-9df336551c8304efa2db7ff22daf2477175b4609-3b91ba113bb120d7-01 outer:exit 2b-9df336551c8304efa2db7ff22daf2477175b4609-87425fdce559019b-01
2022-04-21T16:16:33.710Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:33.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6cd5c4dd72174a75a60be7b242913ca42877403-0f3479159dfa6f0e-01 outer:exit 2b-f6cd5c4dd72174a75a60be7b242913ca42877403-ef771fc08848d5fe-01
2022-04-21T16:16:33.712Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:33.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-26bfe127fb2f8e00375636698387b1c6f7623a50-ff84cdb49f097a08-01 outer:exit 2b-26bfe127fb2f8e00375636698387b1c6f7623a50-d45dfbe949b58b20-01
2022-04-21T16:16:33.714Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:33.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-e04dce87e8016c43e1c76d958c164df4f7dbf9d2-86e1f62b5dc5c90a-01 outer:exit 2b-e04dce87e8016c43e1c76d958c164df4f7dbf9d2-d0594850eac0aeb7-01
2022-04-21T16:16:33.716Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:33.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-680c0c508dd3754e5d51e971a11926b3a1944268-72e26536f7f0240f-01 outer:exit 2b-680c0c508dd3754e5d51e971a11926b3a1944268-8a64e0e7076167b9-01
2022-04-21T16:16:33.719Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:33.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-92b1af402651ff111fd7ea7c8a61d8615038868c-b89a8fa30cacaffa-01 outer:exit 2b-92b1af402651ff111fd7ea7c8a61d8615038868c-a39c542415ae4665-01
2022-04-21T16:16:33.721Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:33.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-01de7d355e7145343dd976103e49d8a2cd47c2be-d28728228e8a108e-01 outer:exit 2b-01de7d355e7145343dd976103e49d8a2cd47c2be-da94c8c588e6e5f5-01
2022-04-21T16:16:33.723Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:33.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-c12e0ff136d6fcfacaceb2cd4f4119f6b874d91c-4cb488f07a98e3d0-01 outer:exit 2b-c12e0ff136d6fcfacaceb2cd4f4119f6b874d91c-e682bbd4e1a8fa07-01
2022-04-21T16:16:33.726Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:33.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-051c7267c3870dd045f9c7b88f09517d1c6796ab-2c008171a174ed76-01 outer:exit 2b-051c7267c3870dd045f9c7b88f09517d1c6796ab-afd0f07214aa88cf-01
2022-04-21T16:16:33.731Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:33.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-31bd17f8594fa894d6075f06bb99887a071bc08c-06b1f1578c31a26b-01 outer:exit 2b-31bd17f8594fa894d6075f06bb99887a071bc08c-049e30d0c81ca68c-01
2022-04-21T16:16:33.736Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:33.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-c98a9f72e7620588205bb4d06cdf8fbbcedd1d76-20371bd460d1d3d1-01 outer:exit 2b-c98a9f72e7620588205bb4d06cdf8fbbcedd1d76-952273537bc85b69-01
2022-04-21T16:16:33.743Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:33.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e2084a71941a5c59a1b1a2ee83daa0fac092323-233c0d4f388ad124-01 outer:exit 2b-1e2084a71941a5c59a1b1a2ee83daa0fac092323-de16af7e161d90d8-01
2022-04-21T16:16:33.749Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:33.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-51017f4e7d126a29ae637599793cc7736c0882b0-18188e82ef6e1485-01 outer:exit 2b-51017f4e7d126a29ae637599793cc7736c0882b0-22ae2d7e5355e944-01
2022-04-21T16:16:33.751Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:33.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-39beb94fef0c0359a57d1c9bd8903f04d16159b7-13859bd03f2dd5e0-01 outer:exit 2b-39beb94fef0c0359a57d1c9bd8903f04d16159b7-815f2c305e6e31e5-01
2022-04-21T16:16:33.754Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:33.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-a19783cead4ef17675c92e5f528842e4a4b63314-e046cd67969f9e87-01 outer:exit 2b-a19783cead4ef17675c92e5f528842e4a4b63314-5eb6e8afe69a49a5-01
2022-04-21T16:16:33.759Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:33.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec00fd1475db628a1ef0ff4a79f38089cc297b22-2d9d118eb90b48da-01 outer:exit 2b-ec00fd1475db628a1ef0ff4a79f38089cc297b22-b7109e8ea9fd096e-01
2022-04-21T16:16:33.762Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:33.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fc8cf24d52d53521775e57737f8fd37e421ecee-17d9a44c41aab575-01 outer:exit 2b-4fc8cf24d52d53521775e57737f8fd37e421ecee-e016d2a0f3282064-01
2022-04-21T16:16:33.764Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:33.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-e95120a149fc0f42e07e389d73870cb9c9534a10-08fe0266a7529ee7-01 outer:exit 2b-e95120a149fc0f42e07e389d73870cb9c9534a10-aa2d1d3a6ee4d3c3-01
2022-04-21T16:16:33.765Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:33.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-a68350d921ebc6cb565ee5435714301cbbc5233f-6c4e84d20ad8cced-01 outer:exit 2b-a68350d921ebc6cb565ee5435714301cbbc5233f-e752cce11a4a0477-01
2022-04-21T16:16:33.767Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:33.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f71df20079618acd05717cd109b13dc35b5d876-f6e73073943dfeca-01 outer:exit 2b-4f71df20079618acd05717cd109b13dc35b5d876-38884f413e067394-01
2022-04-21T16:16:33.769Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:33.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7fe25dea71a1ff87fc05ab13f26b41245550f8f-9b0f48ac3bb04ee2-01 outer:exit 2b-f7fe25dea71a1ff87fc05ab13f26b41245550f8f-c92c88eeaaba319e-01
2022-04-21T16:16:33.779Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:33.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-51fa19cbe3205dc1a964ed28e3a5c9ff564a11f2-16f0f7260d68184e-01 outer:exit 2b-51fa19cbe3205dc1a964ed28e3a5c9ff564a11f2-85e028563ca4b0d4-01
2022-04-21T16:16:33.787Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:33.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8433dd2a7bdcb7c0c4a51b3b502db5bceed0b0c-464ed8468bb245c7-01 outer:exit 2b-f8433dd2a7bdcb7c0c4a51b3b502db5bceed0b0c-754daa2aed855874-01
2022-04-21T16:16:33.789Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:33.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-19cc5f726f0b7fd1d1ba94dc40a6e608d8e1ea0b-03a431c83fcfdda9-01 outer:exit 2b-19cc5f726f0b7fd1d1ba94dc40a6e608d8e1ea0b-c12cf0804947a026-01
2022-04-21T16:16:33.792Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:33.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5f13992a2ad2f2fdbf0418def3d84a0ce22c32a-ee1abd3d775aaee4-01 outer:exit 2b-c5f13992a2ad2f2fdbf0418def3d84a0ce22c32a-3ecde469fd6eb1ab-01
2022-04-21T16:16:33.795Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:33.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-949db54bf199a030793014b9afe5c27e1738458a-16dcd56a005a45ba-01 outer:exit 2b-949db54bf199a030793014b9afe5c27e1738458a-d63e303d4f3b0dc2-01
2022-04-21T16:16:33.820Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (294ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.10
updated 1 package and audited 935 packages in 4.687s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:39.378Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:39.379Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:39.379Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:39.379Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:39.436Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:39.597Z appoptics:patching patched crypto 
2022-04-21T16:16:39.616Z appoptics:patching patched https 
2022-04-21T16:16:39.616Z appoptics:patching patched http 
2022-04-21T16:16:39.683Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:39.683Z appoptics:patching patched fs 
2022-04-21T16:16:39.696Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v14.19.1)
2022-04-21T16:16:39.702Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2022-04-21T16:16:39.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce40bf6e772996ce91d553e90cde1c9424e4d3f4-5ced021fafec7f4e-01 outer:exit 2b-ce40bf6e772996ce91d553e90cde1c9424e4d3f4-3cf520a96f8c46f3-01
2022-04-21T16:16:39.744Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:39.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-e22d9bf55bd83ecfc80862f6beba8d19593bd5ee-21750542d546a5d8-01 outer:exit 2b-e22d9bf55bd83ecfc80862f6beba8d19593bd5ee-ef9db017933b8b44-01
2022-04-21T16:16:39.786Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:39.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-27bc38a71dbb802df49d8d8fcf4aef500b2a72e6-1059d37db1dd512b-01 outer:exit 2b-27bc38a71dbb802df49d8d8fcf4aef500b2a72e6-a78462deecd72e3d-01
2022-04-21T16:16:39.790Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:39.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b6d0df64da8f5ef16d6be91e3bdfb80b94cab0e-c96ca32b515d696e-01 outer:exit 2b-4b6d0df64da8f5ef16d6be91e3bdfb80b94cab0e-4cb8540bac99745c-01
2022-04-21T16:16:39.793Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:39.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-05f204cca42f175f5e8c8a97f17d11e4f3218b7b-57981f2b736d2c9f-01 outer:exit 2b-05f204cca42f175f5e8c8a97f17d11e4f3218b7b-77d7bff92680f84d-01
2022-04-21T16:16:39.797Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:39.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f05b15f36da3e2f734a37f0cd280783f562384f-0f8ba7d1ee76a875-01 outer:exit 2b-2f05b15f36da3e2f734a37f0cd280783f562384f-53259704ed7de523-01
2022-04-21T16:16:39.800Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:39.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-7676c955c728fa3d99ded66353401be695eb9e8f-56137758b099a6fa-01 outer:exit 2b-7676c955c728fa3d99ded66353401be695eb9e8f-649e6a1aa2b7277a-01
2022-04-21T16:16:39.803Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:39.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f45fda5113ed3b6b9cefe38e8437b5184d05287-eef1559aba53143a-01 outer:exit 2b-5f45fda5113ed3b6b9cefe38e8437b5184d05287-f4aa19c409b99484-01
2022-04-21T16:16:39.805Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:39.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-69361f867c2c13f4ccd18e41538f06ae986a696d-37319422cd245c23-01 outer:exit 2b-69361f867c2c13f4ccd18e41538f06ae986a696d-d4e47f9197aa3f57-01
2022-04-21T16:16:39.808Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:39.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-293d2f7de9a2535fde15d83a6d7a71730373e92c-99a84d8088bb4fd6-01 outer:exit 2b-293d2f7de9a2535fde15d83a6d7a71730373e92c-63f11e29a82a5dc5-01
2022-04-21T16:16:39.810Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:39.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb18e896999d9b7d71a49f415acbebe393fcce01-78688cf1e119a253-01 outer:exit 2b-eb18e896999d9b7d71a49f415acbebe393fcce01-44520de574e3ea38-01
2022-04-21T16:16:39.814Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:39.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-941a9cf3f8e5aa07daf6344f98f13d397bd6bc40-25ce1fb489af3963-01 outer:exit 2b-941a9cf3f8e5aa07daf6344f98f13d397bd6bc40-af8935c288f19e00-01
2022-04-21T16:16:39.820Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:39.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-83d30ceb414629aaff835131db2f1ad5b27134e9-6a45668e729b2291-01 outer:exit 2b-83d30ceb414629aaff835131db2f1ad5b27134e9-2aa47c9753d62a70-01
2022-04-21T16:16:39.834Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:39.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1bb3da27534bb79011f275a23ac874c06a10f67-c006bb6a7768fdf9-01 outer:exit 2b-a1bb3da27534bb79011f275a23ac874c06a10f67-2ca7dbfa12409cb0-01
2022-04-21T16:16:39.871Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:39.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee275edef18a4b92d7a6d0ffd3387efcf6affd42-f6bebeab1e5f9ce8-01 outer:exit 2b-ee275edef18a4b92d7a6d0ffd3387efcf6affd42-3338d6def3bc052a-01
2022-04-21T16:16:39.874Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:39.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e5a84d954fcf61aa2bc389466b9f06215f78cd2-4aec1962b559cfbd-01 outer:exit 2b-7e5a84d954fcf61aa2bc389466b9f06215f78cd2-fd306325970d9f09-01
2022-04-21T16:16:39.877Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:39.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-e72f8e5b529abc23e953029ff66dcd38915254f5-c1784cfaf01049a9-01 outer:exit 2b-e72f8e5b529abc23e953029ff66dcd38915254f5-358e48291c0f9aae-01
2022-04-21T16:16:39.880Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:39.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2936c5c1183531a2d417a5251a63f8632deba20-05494804fdb5d242-01 outer:exit 2b-c2936c5c1183531a2d417a5251a63f8632deba20-0e138d184619d3d3-01
2022-04-21T16:16:39.882Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:39.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5f497b25c51880cfef11a65093f3cdd1dfe7d56-84ff5970d658e4cb-01 outer:exit 2b-f5f497b25c51880cfef11a65093f3cdd1dfe7d56-3225267a7d85377e-01
2022-04-21T16:16:39.887Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:39.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-43ef540b29697ee289578e804d009dbd59fa2052-24a81b32d71e25d0-01 outer:exit 2b-43ef540b29697ee289578e804d009dbd59fa2052-95bb5630112e3521-01
2022-04-21T16:16:39.889Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:39.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f4080e527629e91bd3eadd835ae2f525f9f8d38-5f2e33e6ded22248-01 outer:exit 2b-0f4080e527629e91bd3eadd835ae2f525f9f8d38-3e06f5a0920dba7b-01
2022-04-21T16:16:39.892Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:39.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-c215d9da91e742dcdba3c1c6eb51b3128913ec8a-dda3a1c230dae331-01 outer:exit 2b-c215d9da91e742dcdba3c1c6eb51b3128913ec8a-cd8e11e8e8bae3be-01
2022-04-21T16:16:39.895Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:39.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b9a70d8d4f23a318cc27d05563644900bfe23c1-3dce080e5e76954e-01 outer:exit 2b-9b9a70d8d4f23a318cc27d05563644900bfe23c1-82b5b61acdfdc1e7-01
2022-04-21T16:16:39.897Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:39.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-469a3434710cbc29dcb60970eaba511310fa7f79-0f9331d902cb7588-01 outer:exit 2b-469a3434710cbc29dcb60970eaba511310fa7f79-bc840a70fe3a493b-01
2022-04-21T16:16:39.901Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:39.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc3851475a841cfa229c97c8285ede7b2aae5772-e9754f5de78cdcef-01 outer:exit 2b-dc3851475a841cfa229c97c8285ede7b2aae5772-60dcb8c2c45012d6-01
2022-04-21T16:16:39.904Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:39.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b3b772e05d81a3472bdfa3725d596da8d944f92-c9659b3384f35a83-01 outer:exit 2b-3b3b772e05d81a3472bdfa3725d596da8d944f92-862515f3a11d8948-01
2022-04-21T16:16:39.907Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:39.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-b03846c286c44b099d836ce2e5437472ad5fc9e8-fbd235e619295373-01 outer:exit 2b-b03846c286c44b099d836ce2e5437472ad5fc9e8-64b813a91c09e836-01
2022-04-21T16:16:39.912Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:39.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-d45406a83265212678dee7b2a0f23ba80738e8c6-3e16071812763cd5-01 outer:exit 2b-d45406a83265212678dee7b2a0f23ba80738e8c6-fb82f06442397010-01
2022-04-21T16:16:39.917Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:39.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6196d8985c023cfb232b29ec95d6c6ef34aa5ce-db9f79f9c56b245d-01 outer:exit 2b-b6196d8985c023cfb232b29ec95d6c6ef34aa5ce-84a1d1b7a39d1030-01
2022-04-21T16:16:39.925Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:39.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fffbf557cdf0a49dddfdc2da86bf452bee843a9-21489f259978bb7e-01 outer:exit 2b-9fffbf557cdf0a49dddfdc2da86bf452bee843a9-0bf42b4c8d38b7ae-01
2022-04-21T16:16:39.931Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:39.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-4989b7c3061ccabb1be34d8d45cfdb2452c85715-d4ef08383c33932d-01 outer:exit 2b-4989b7c3061ccabb1be34d8d45cfdb2452c85715-d403fcf9789cdd73-01
2022-04-21T16:16:39.933Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:39.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e4dfe21022f236cadaffca654c7b9b9a0fb4892-b7e469f5ad93c12c-01 outer:exit 2b-3e4dfe21022f236cadaffca654c7b9b9a0fb4892-dac977d2e7866325-01
2022-04-21T16:16:39.936Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:39.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-d690df12114578aef4fbfec11157d8a9bb657add-68ce598e3d11e6bb-01 outer:exit 2b-d690df12114578aef4fbfec11157d8a9bb657add-930d166f0f2ab14d-01
2022-04-21T16:16:39.942Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:39.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba778a75fae5e0e2d6d898c8aa3d3a591aba1ab6-261df1ea5a11a07a-01 outer:exit 2b-ba778a75fae5e0e2d6d898c8aa3d3a591aba1ab6-d231f69503381e11-01
2022-04-21T16:16:39.944Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:39.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-6997a2ea96712dbcb2f75fdd8a0062ec8a5ed2be-81aa0879acda49c0-01 outer:exit 2b-6997a2ea96712dbcb2f75fdd8a0062ec8a5ed2be-74c65893397d67fd-01
2022-04-21T16:16:39.946Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:39.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff04f09de8d32b2938d2a592ede850bb45162bbe-8ca23367535d9dd8-01 outer:exit 2b-ff04f09de8d32b2938d2a592ede850bb45162bbe-05adc65242f3d269-01
2022-04-21T16:16:39.948Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:39.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1fe61e8f708ad6d5932d0dfdfc10ea0af7aa3ab-0cc0a778a5b56f2b-01 outer:exit 2b-a1fe61e8f708ad6d5932d0dfdfc10ea0af7aa3ab-06304f20066cb697-01
2022-04-21T16:16:39.950Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:39.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-83a7b53f2741bfd41ec649b5097d4d7e4537005f-0da2d3c67719bb68-01 outer:exit 2b-83a7b53f2741bfd41ec649b5097d4d7e4537005f-241d1bddfc652b9a-01
2022-04-21T16:16:39.952Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:39.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-56a188e9f7867bac90a9da37524c446f31599908-33084133e089f26b-01 outer:exit 2b-56a188e9f7867bac90a9da37524c446f31599908-5d4a294fe3a71e3c-01
2022-04-21T16:16:39.961Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:39.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-2335e3efa342e086f6483bab8edfa95e51f0785c-a9ef58e26b3973be-01 outer:exit 2b-2335e3efa342e086f6483bab8edfa95e51f0785c-5934d4bf8c828ecd-01
2022-04-21T16:16:39.970Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:39.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-d04f83f9ebd2298a3519d405715a84b313ebb729-717ed5e98c546cca-01 outer:exit 2b-d04f83f9ebd2298a3519d405715a84b313ebb729-29b6dcd0e440c469-01
2022-04-21T16:16:39.973Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:39.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-51ca2b078949bda1aec3a93e3676d0f4b4b170bc-e703a60d2de2e373-01 outer:exit 2b-51ca2b078949bda1aec3a93e3676d0f4b4b170bc-8a524071b89e1a45-01
2022-04-21T16:16:39.976Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:39.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-765f133d27ea82ff487c0de6656011b0c9b513f6-8967c38d55a35eb5-01 outer:exit 2b-765f133d27ea82ff487c0de6656011b0c9b513f6-ab787d3c08581928-01
2022-04-21T16:16:39.978Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:40.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-114727d73e1f3362d2dd87c48a1a9df5d37c1288-aff8d291582d640f-01 outer:exit 2b-114727d73e1f3362d2dd87c48a1a9df5d37c1288-9ab2d1345ba94ab5-01
2022-04-21T16:16:40.005Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (297ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.11
updated 1 package and audited 935 packages in 3.973s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:44.841Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:44.842Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:44.842Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:44.844Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:44.903Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:45.038Z appoptics:patching patched crypto 
2022-04-21T16:16:45.055Z appoptics:patching patched https 
2022-04-21T16:16:45.056Z appoptics:patching patched http 
2022-04-21T16:16:45.101Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:45.101Z appoptics:patching patched fs 
2022-04-21T16:16:45.114Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v14.19.1)
2022-04-21T16:16:45.120Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2022-04-21T16:16:45.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-01b77767798ee9f21134d8b5c045ee0ae0cf9bd3-972c482fe5744b1d-01 outer:exit 2b-01b77767798ee9f21134d8b5c045ee0ae0cf9bd3-a9ffb43253222e54-01
2022-04-21T16:16:45.161Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:45.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-005bff171dd597e2ade81c53368a1d2fc8aca806-acb7087bc9ceb08f-01 outer:exit 2b-005bff171dd597e2ade81c53368a1d2fc8aca806-bda9d556723e3c66-01
2022-04-21T16:16:45.200Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:45.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-f631774e0247d0d77488216298f820e3f0b6d6bc-e65bb9ad327e04fa-01 outer:exit 2b-f631774e0247d0d77488216298f820e3f0b6d6bc-d14fdf3b6a0a01d3-01
2022-04-21T16:16:45.204Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:45.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-07cd0fd773b7a14a2ea27bfc4af0300fb6a2a772-c59d8084da95c973-01 outer:exit 2b-07cd0fd773b7a14a2ea27bfc4af0300fb6a2a772-6826cec7a075e3c7-01
2022-04-21T16:16:45.207Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:45.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b9e566f81d8d6f04b837102c2dfa0a811d6c932-65486af880481951-01 outer:exit 2b-4b9e566f81d8d6f04b837102c2dfa0a811d6c932-880d4a3d9137efe1-01
2022-04-21T16:16:45.211Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:45.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-10dd9aba1324f284b1457c69a2cbed7e76bc2b4f-b0cbf6224042634d-01 outer:exit 2b-10dd9aba1324f284b1457c69a2cbed7e76bc2b4f-ec8eb2f30176539e-01
2022-04-21T16:16:45.215Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:45.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-9290375ea50d5053cdb0ffa99e3685ccd2b48e7e-add16767c16a6f32-01 outer:exit 2b-9290375ea50d5053cdb0ffa99e3685ccd2b48e7e-d5b389682d07cead-01
2022-04-21T16:16:45.217Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:45.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b2929eed1ca3310af062cb4d3fe9ca223278329-970e2df362c0b630-01 outer:exit 2b-2b2929eed1ca3310af062cb4d3fe9ca223278329-aac9f9c8478f7781-01
2022-04-21T16:16:45.220Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:45.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-008d55839d523c176602127a0ef34a730cc89bab-5fb62bb9aae827c2-01 outer:exit 2b-008d55839d523c176602127a0ef34a730cc89bab-c53fe5bea7ea6d03-01
2022-04-21T16:16:45.222Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:45.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-367cba6d4776e912bf3488f4a000ab0bcd358a2c-f5e640ab56d4c599-01 outer:exit 2b-367cba6d4776e912bf3488f4a000ab0bcd358a2c-ec7fca98bea99911-01
2022-04-21T16:16:45.225Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:45.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e548cc2436a2f20c022868943f562f5943f4d88-f2c005ec90c74be3-01 outer:exit 2b-1e548cc2436a2f20c022868943f562f5943f4d88-3819ec6a0d9899d2-01
2022-04-21T16:16:45.229Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:45.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-776333c4f206c9387842a71392fa36a7e0ee4bce-60b5f8028abfdb9d-01 outer:exit 2b-776333c4f206c9387842a71392fa36a7e0ee4bce-9167474a80273ca9-01
2022-04-21T16:16:45.235Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:45.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b510621e76856d178a736929ffe5660847bf57b-5ad912fb44ae1a3c-01 outer:exit 2b-6b510621e76856d178a736929ffe5660847bf57b-687ded2874bd46f2-01
2022-04-21T16:16:45.250Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:45.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-590f9c6d6908697d190d78035d4e7d365bb549b5-5383ac32bfcbd11a-01 outer:exit 2b-590f9c6d6908697d190d78035d4e7d365bb549b5-70187a298cd881a2-01
2022-04-21T16:16:45.287Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:45.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-153db22d57cedecf2fa91425c20bcb7861195e72-a27e5d947af746c4-01 outer:exit 2b-153db22d57cedecf2fa91425c20bcb7861195e72-7d2300b63980d448-01
2022-04-21T16:16:45.290Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:45.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-e22341b98dc96fe87a78dfd5a5020bf74e29681b-05ab0744406e6ee7-01 outer:exit 2b-e22341b98dc96fe87a78dfd5a5020bf74e29681b-3fdafbd4f58371ca-01
2022-04-21T16:16:45.292Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:45.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-cecb68d40b5811b10c659ff6d4b1c320aabd935d-c865552515d47955-01 outer:exit 2b-cecb68d40b5811b10c659ff6d4b1c320aabd935d-a72b40d22a04c0db-01
2022-04-21T16:16:45.295Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:45.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-09a2533a8d5fa9667e9e5116904ed5a93ce08083-2f06038225a8d7b9-01 outer:exit 2b-09a2533a8d5fa9667e9e5116904ed5a93ce08083-2f9571570cd0383d-01
2022-04-21T16:16:45.297Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:45.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-739ba62e35f338a671e42a887c94b100991594fe-9591a2ba68c79903-01 outer:exit 2b-739ba62e35f338a671e42a887c94b100991594fe-fdba6f8d634a06f8-01
2022-04-21T16:16:45.302Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:45.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cdfe81684c362f795bb83a1f4519c64cbede817-62f0876714a97fc7-01 outer:exit 2b-5cdfe81684c362f795bb83a1f4519c64cbede817-cec604a55158365e-01
2022-04-21T16:16:45.304Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:45.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-16783ff786c093601792a9a850428b2cde4f6f49-6ab00b514f2ef83f-01 outer:exit 2b-16783ff786c093601792a9a850428b2cde4f6f49-fbbb48bd25584b1a-01
2022-04-21T16:16:45.306Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:45.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-22f9d97ee8d37d1923bfe9cfb2dcfb00d4598c15-c4458369ae00955a-01 outer:exit 2b-22f9d97ee8d37d1923bfe9cfb2dcfb00d4598c15-4e2cea70dc9ac378-01
2022-04-21T16:16:45.308Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:45.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-c627cfbb016d067c9174e9e1ae4c9606475c95f9-08290d09717f3abe-01 outer:exit 2b-c627cfbb016d067c9174e9e1ae4c9606475c95f9-89c54abab2ab678f-01
2022-04-21T16:16:45.311Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:45.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-57753fc98f096b73d5f723bb3017bcc5520e5780-4b0a9367e1a7d6db-01 outer:exit 2b-57753fc98f096b73d5f723bb3017bcc5520e5780-c75a164529035726-01
2022-04-21T16:16:45.314Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:45.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-0483682358add2ed568ecd7fcf469f32c2fb9158-37341af551a778e0-01 outer:exit 2b-0483682358add2ed568ecd7fcf469f32c2fb9158-ab26c43c0bfd384a-01
2022-04-21T16:16:45.316Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:45.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-460901775e8ed82c35c672117afcc98a34006f56-5e76c1995dad85db-01 outer:exit 2b-460901775e8ed82c35c672117afcc98a34006f56-6bd4e2e0f347679b-01
2022-04-21T16:16:45.318Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:45.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-c627efb8a9f48355368f17d51bdcfd2ee40b7287-3f3378282a2735c1-01 outer:exit 2b-c627efb8a9f48355368f17d51bdcfd2ee40b7287-4f95ce91ff05335d-01
2022-04-21T16:16:45.324Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:45.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-123f6f96c9020ba0b11200e0b15f09d15bf2413a-7f80ca5d51ac0265-01 outer:exit 2b-123f6f96c9020ba0b11200e0b15f09d15bf2413a-10da1293a5e532d8-01
2022-04-21T16:16:45.330Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:45.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-73748aec533940c482f75eb8ac897ecdaccfafd5-a3150c3ab53631db-01 outer:exit 2b-73748aec533940c482f75eb8ac897ecdaccfafd5-503465e2d2b9b836-01
2022-04-21T16:16:45.338Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:45.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-6649becdc8c1a8e88c0181b03a85859f00611d87-28560de3732894e3-01 outer:exit 2b-6649becdc8c1a8e88c0181b03a85859f00611d87-a1df4db346dacb7d-01
2022-04-21T16:16:45.345Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:45.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-81192af034829f985848a0bd0d79d405249410a7-7726d8a5b5e0bc17-01 outer:exit 2b-81192af034829f985848a0bd0d79d405249410a7-07f94628e54c8423-01
2022-04-21T16:16:45.347Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:45.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d4f773bd8ce54504a608a1808b44ebadc1591ab-5dd23f993887d909-01 outer:exit 2b-3d4f773bd8ce54504a608a1808b44ebadc1591ab-b754545de33cbf6f-01
2022-04-21T16:16:45.350Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:45.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d90d95dd1ee5efe619ca934265a0c25f718f41b-b8f1b9c2c81bea2d-01 outer:exit 2b-0d90d95dd1ee5efe619ca934265a0c25f718f41b-431248ae54652e33-01
2022-04-21T16:16:45.356Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:45.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-51e667c4183533ad5c68f23599b591683e11bce3-0766293e2146c0b6-01 outer:exit 2b-51e667c4183533ad5c68f23599b591683e11bce3-33203461a17c58d2-01
2022-04-21T16:16:45.359Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:45.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-c69d294f93bf4fc6e9f570bc014712a12b9d466e-06560c64c4ec12fa-01 outer:exit 2b-c69d294f93bf4fc6e9f570bc014712a12b9d466e-ab8b29875fbeb9a8-01
2022-04-21T16:16:45.361Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:45.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-85e3f08fe262a4bdc896f7b1123efe6673af3a40-8be9c7a68f3cd4ce-01 outer:exit 2b-85e3f08fe262a4bdc896f7b1123efe6673af3a40-82ef7b929b764a6e-01
2022-04-21T16:16:45.363Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:45.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c7a35bfa4bc61353d8a6602b9d9de67505db7a9-cc32d25712ba70cf-01 outer:exit 2b-6c7a35bfa4bc61353d8a6602b9d9de67505db7a9-6c1325dcd9ff75e3-01
2022-04-21T16:16:45.364Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:45.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-a30b6082cf6e8ea20d386ea4ef4a005a51825f79-860f525d7b2c23ce-01 outer:exit 2b-a30b6082cf6e8ea20d386ea4ef4a005a51825f79-1ac8afbb2e6535a2-01
2022-04-21T16:16:45.367Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:45.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-a243ee10aaaa473f9ed448b9f9c981122204f405-78589704ba60f7fe-01 outer:exit 2b-a243ee10aaaa473f9ed448b9f9c981122204f405-8fb195fb63fbb7ee-01
2022-04-21T16:16:45.376Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:45.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3eab1273d7bc4d56371971b91e5c034ccdfa59e-5fa830f705cff6fd-01 outer:exit 2b-a3eab1273d7bc4d56371971b91e5c034ccdfa59e-b6bdca04143c73ca-01
2022-04-21T16:16:45.385Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:45.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d7790b78c735638124c118f624d0ddbf1769557-7ff4d391e5cec6e0-01 outer:exit 2b-8d7790b78c735638124c118f624d0ddbf1769557-05b787704fb48f3b-01
2022-04-21T16:16:45.388Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:45.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-f963a5cdb1d6800dd6b9eb9ab2a88cf58d7f93d6-dd8bbb02837b01ac-01 outer:exit 2b-f963a5cdb1d6800dd6b9eb9ab2a88cf58d7f93d6-e8d90b77fa7f9523-01
2022-04-21T16:16:45.391Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:45.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-987f6a1545381d1e00123de9c91f44065a888601-f3cd404566cec09a-01 outer:exit 2b-987f6a1545381d1e00123de9c91f44065a888601-4e691eaee84b9146-01
2022-04-21T16:16:45.394Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:45.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-6090fc09e0cab0c504dd71cb6b96825dc6841075-fc247058bcfd2e8d-01 outer:exit 2b-6090fc09e0cab0c504dd71cb6b96825dc6841075-b946f06d84e463f1-01
2022-04-21T16:16:45.422Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (297ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.12
updated 1 package and audited 935 packages in 3.822s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:50.304Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:50.304Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:50.304Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:50.305Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:50.364Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:50.499Z appoptics:patching patched crypto 
2022-04-21T16:16:50.516Z appoptics:patching patched https 
2022-04-21T16:16:50.516Z appoptics:patching patched http 
2022-04-21T16:16:50.560Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:50.560Z appoptics:patching patched fs 
2022-04-21T16:16:50.573Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v14.19.1)
2022-04-21T16:16:50.579Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2022-04-21T16:16:50.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe0c7561046f946e10bdba9176531507235bbb70-2b42d7f47f219d70-01 outer:exit 2b-fe0c7561046f946e10bdba9176531507235bbb70-787e70ed5e3e640f-01
2022-04-21T16:16:50.621Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:50.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-c132694da196831a5559c7720cb5f31ee48b37eb-81337fa974852ce4-01 outer:exit 2b-c132694da196831a5559c7720cb5f31ee48b37eb-e28fc935d930cdc0-01
2022-04-21T16:16:50.661Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:50.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-69096cbacb66f8ecbf6274dcd72c181773fcc6c7-a61d780959968835-01 outer:exit 2b-69096cbacb66f8ecbf6274dcd72c181773fcc6c7-56552d3a15943783-01
2022-04-21T16:16:50.664Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:50.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-65c48dae554eb7f5b7c9d06684bfac29169875ae-6daa71c7ab05ebfd-01 outer:exit 2b-65c48dae554eb7f5b7c9d06684bfac29169875ae-728f9163f592060f-01
2022-04-21T16:16:50.667Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:50.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-98e7aa7a42c21c8d6db9de65a8f050246cbd994b-854349b28d5dfd64-01 outer:exit 2b-98e7aa7a42c21c8d6db9de65a8f050246cbd994b-bdea3ff66e091f6d-01
2022-04-21T16:16:50.672Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:50.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e7b854495f4e2b624727b6a793cc9387381c4ee-1cf426c84e8623cb-01 outer:exit 2b-2e7b854495f4e2b624727b6a793cc9387381c4ee-e596ff37908bab3d-01
2022-04-21T16:16:50.675Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:50.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-2597c3957355148dbf4335cf0566a322a7522b57-08cc294ea5e4bc63-01 outer:exit 2b-2597c3957355148dbf4335cf0566a322a7522b57-5d626d6ccbfca1f5-01
2022-04-21T16:16:50.678Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:50.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8f8848096b9a2882f75d09679e2c0b9d8016534-47eb5357a437fdd0-01 outer:exit 2b-e8f8848096b9a2882f75d09679e2c0b9d8016534-f1130d5dbc911c8a-01
2022-04-21T16:16:50.681Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:50.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ce0cd468577a76545ba864e49a8dbed8e075466-163f9955860a70af-01 outer:exit 2b-6ce0cd468577a76545ba864e49a8dbed8e075466-6c653604d1ba0d27-01
2022-04-21T16:16:50.684Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:50.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-73de3a727944f4e8d8a52b3bb744d3a6dc3345e7-2d72602a2a134c60-01 outer:exit 2b-73de3a727944f4e8d8a52b3bb744d3a6dc3345e7-bcae1445d4d2d8a5-01
2022-04-21T16:16:50.688Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:50.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-31e0eea2f6ac47409701647cf07fe6061173522b-960b905392021c67-01 outer:exit 2b-31e0eea2f6ac47409701647cf07fe6061173522b-4cc78c6b32b10424-01
2022-04-21T16:16:50.692Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:50.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c0f8dbc27e8b2df4e14ffcc560926fa729940ae-a213f47613f5cdd5-01 outer:exit 2b-0c0f8dbc27e8b2df4e14ffcc560926fa729940ae-7e8a5e78d610e97d-01
2022-04-21T16:16:50.710Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:50.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-f466e4ec16281aacca93fc0a18a9784ec7594f84-284949c32e1dc379-01 outer:exit 2b-f466e4ec16281aacca93fc0a18a9784ec7594f84-220e8880ad397c9a-01
2022-04-21T16:16:50.735Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:50.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-66b7a93fbfb1fb7760fa0c89963fee53694fa631-7501ce6a3baf7fca-01 outer:exit 2b-66b7a93fbfb1fb7760fa0c89963fee53694fa631-7d5f8b07638731d6-01
2022-04-21T16:16:50.772Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:50.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-702ea4f9a669ce73ffc9e9eb3e70cbc66fe01f4f-aa36d1955f023f27-01 outer:exit 2b-702ea4f9a669ce73ffc9e9eb3e70cbc66fe01f4f-1ec4473f74cd4b8d-01
2022-04-21T16:16:50.775Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:50.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-83268c05944318c71ab1711cc921eb24627b0bc2-d5a978621d4a34e8-01 outer:exit 2b-83268c05944318c71ab1711cc921eb24627b0bc2-2ed401346a3b80ba-01
2022-04-21T16:16:50.777Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:50.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-82a744bcf8da7ae58a83c41a0f177fb05fdcaf90-c9f68dfa551ab943-01 outer:exit 2b-82a744bcf8da7ae58a83c41a0f177fb05fdcaf90-1db178e2e5361cae-01
2022-04-21T16:16:50.780Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:50.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-1198a1948134cdd4aed8b0d9a1f94f40b55e0970-35988f4be3f20794-01 outer:exit 2b-1198a1948134cdd4aed8b0d9a1f94f40b55e0970-ae28ab1c809cb596-01
2022-04-21T16:16:50.782Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:50.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-eff5a010fe43e8e62d3f9e4cb6f5e29674398040-0b480894e15d6ab1-01 outer:exit 2b-eff5a010fe43e8e62d3f9e4cb6f5e29674398040-8dd041162738f40a-01
2022-04-21T16:16:50.788Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:50.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-488a6bea68b9db6911813b8909149bcb66d5e97a-57b118e104799350-01 outer:exit 2b-488a6bea68b9db6911813b8909149bcb66d5e97a-1268e2081b3e933a-01
2022-04-21T16:16:50.790Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:50.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-b88084dbd986778cb458f9fe259b5f2a20b17713-a16b71824cb4f200-01 outer:exit 2b-b88084dbd986778cb458f9fe259b5f2a20b17713-a8ed64346316569a-01
2022-04-21T16:16:50.792Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:50.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8aeae15777bb936b92851a8528b4c55f9d55957-3f9170979342551e-01 outer:exit 2b-e8aeae15777bb936b92851a8528b4c55f9d55957-918016929c80ea5e-01
2022-04-21T16:16:50.794Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:50.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ed9e7dae225cb767ae692dab270dfa888ebe605-0dc44e3a0e6bce3b-01 outer:exit 2b-5ed9e7dae225cb767ae692dab270dfa888ebe605-5cb01d2780a7993a-01
2022-04-21T16:16:50.797Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:50.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-008c1cc6708bb9fa4bd4c4e8d8dca1ca3bbe9cf1-339e9e9dc365e246-01 outer:exit 2b-008c1cc6708bb9fa4bd4c4e8d8dca1ca3bbe9cf1-b03938b35c86c622-01
2022-04-21T16:16:50.800Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:50.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b3dd712fa077ed3b327ff694d6ca6aed85371f7-0f4a498cc8603c95-01 outer:exit 2b-0b3dd712fa077ed3b327ff694d6ca6aed85371f7-fbb0e0b27f9a1870-01
2022-04-21T16:16:50.802Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:50.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb54a45f9a19c94d290a894787a9fbe179573cc0-f092c4d6009b61f9-01 outer:exit 2b-fb54a45f9a19c94d290a894787a9fbe179573cc0-28bf7a40b0eea508-01
2022-04-21T16:16:50.804Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:50.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-e438524cd3c0518e975eec8de7d743abd3c8ad6b-0bf6f6ad4fbe9d61-01 outer:exit 2b-e438524cd3c0518e975eec8de7d743abd3c8ad6b-d079c6ac98512f44-01
2022-04-21T16:16:50.822Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:50.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b87ade764e8f94b5ebe51e070395112fc5270f7-a13d9322420d17d3-01 outer:exit 2b-2b87ade764e8f94b5ebe51e070395112fc5270f7-c051c50150dc9e48-01
2022-04-21T16:16:50.839Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:50.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcd3f91319f4567321bc8b34f18ce8ff63c6a212-ff28a1a1c9d937d1-01 outer:exit 2b-fcd3f91319f4567321bc8b34f18ce8ff63c6a212-d4812ee5b997af1a-01
2022-04-21T16:16:50.847Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:50.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ae8970fe4bdade645ef52eb18199390af175cfb-0750c921887dd51f-01 outer:exit 2b-7ae8970fe4bdade645ef52eb18199390af175cfb-f9598782d3fbb774-01
2022-04-21T16:16:50.852Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:50.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4248a4e5d682ab67fe876ef01bcdb2dba0bb6d1-8c04e2ea440e7200-01 outer:exit 2b-f4248a4e5d682ab67fe876ef01bcdb2dba0bb6d1-482a0e0031c9c1ec-01
2022-04-21T16:16:50.855Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:50.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-eeacceb12aa8bd27fbe0fc4a6d28231a874b466f-77b86b205bacc788-01 outer:exit 2b-eeacceb12aa8bd27fbe0fc4a6d28231a874b466f-6fcdd101845c8c8d-01
2022-04-21T16:16:50.857Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:50.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-1399c832337d6ed9a5d372194855862c78101059-278fdc64445aa4ff-01 outer:exit 2b-1399c832337d6ed9a5d372194855862c78101059-9f8075e717a71966-01
2022-04-21T16:16:50.863Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:50.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cc1bbef9b53decaad48688bca1f727542b81f8e-5e458fdbc14df8f1-01 outer:exit 2b-3cc1bbef9b53decaad48688bca1f727542b81f8e-ab5fc7e52affa1f1-01
2022-04-21T16:16:50.865Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:50.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-d013d915abe66a67ab9cafb392462abc801387a6-6844b2af33aaa8ac-01 outer:exit 2b-d013d915abe66a67ab9cafb392462abc801387a6-6902ede1e17006aa-01
2022-04-21T16:16:50.867Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:50.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9cede12a89cfc96f7921aeac94902ae97578f9c-524b39ce328025b6-01 outer:exit 2b-a9cede12a89cfc96f7921aeac94902ae97578f9c-73b7694c99cb02da-01
2022-04-21T16:16:50.869Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:50.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdd5da648a45cc5d1974dd4f88d9ba720b025376-5efbda1babef532d-01 outer:exit 2b-fdd5da648a45cc5d1974dd4f88d9ba720b025376-30094e3e0388d572-01
2022-04-21T16:16:50.871Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:50.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b46cc62bd56115b21681eeb4a9d4acb2e9c9799-43e969cdba751608-01 outer:exit 2b-6b46cc62bd56115b21681eeb4a9d4acb2e9c9799-453cf91ac84fc0b3-01
2022-04-21T16:16:50.873Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:50.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbe68c24572c6545328fcd066f47edb9ca7cef99-efad8833a256a3d7-01 outer:exit 2b-bbe68c24572c6545328fcd066f47edb9ca7cef99-c4de22ca80de863b-01
2022-04-21T16:16:50.882Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:50.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-a71708963a5dec48dce86979ade7b91d2339d3eb-0fdf346a15a1c8fc-01 outer:exit 2b-a71708963a5dec48dce86979ade7b91d2339d3eb-8f46774e3e9ea522-01
2022-04-21T16:16:50.890Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:50.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-a660c981a8cfcadd61389cc40ec3425598f2a0bd-d7ad98b302cdf47e-01 outer:exit 2b-a660c981a8cfcadd61389cc40ec3425598f2a0bd-88b291e2894c50bc-01
2022-04-21T16:16:50.893Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:50.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-9643ed834cd9ba3dcf1858b7bf86aa7d0b069af9-e666110e19f49fd9-01 outer:exit 2b-9643ed834cd9ba3dcf1858b7bf86aa7d0b069af9-81b6033063b63646-01
2022-04-21T16:16:50.895Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:50.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-39068e8283babc8074b3ba058242026ac000ea31-b800f09345a7c0c6-01 outer:exit 2b-39068e8283babc8074b3ba058242026ac000ea31-00df8c6eb9082240-01
2022-04-21T16:16:50.919Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:50.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae6797eb9db6aa5733468efcffc064b1750d4cfb-6f125fc792463ede-01 outer:exit 2b-ae6797eb9db6aa5733468efcffc064b1750d4cfb-e722908dd9e3657e-01
2022-04-21T16:16:50.948Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (363ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.13
updated 1 package and audited 935 packages in 4.154s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:55.981Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:55.982Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:55.982Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:55.982Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:56.042Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:56.175Z appoptics:patching patched crypto 
2022-04-21T16:16:56.192Z appoptics:patching patched https 
2022-04-21T16:16:56.193Z appoptics:patching patched http 
2022-04-21T16:16:56.236Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:56.237Z appoptics:patching patched fs 
2022-04-21T16:16:56.250Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v14.19.1)
2022-04-21T16:16:56.259Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2022-04-21T16:16:56.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb7ade9492b38ba73ad677d8e9c0c5df51877cc2-a5a1ea3e8aed318e-01 outer:exit 2b-cb7ade9492b38ba73ad677d8e9c0c5df51877cc2-5fc72ff5bc7f6cb7-01
2022-04-21T16:16:56.315Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:56.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-21ce37fdeff5a75e5f67215266985140b3baee1b-95d47f24032fa365-01 outer:exit 2b-21ce37fdeff5a75e5f67215266985140b3baee1b-384f18f88ada4cce-01
2022-04-21T16:16:56.365Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:56.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-325805d2f94ab31b7deec142442ad444c4d5f54c-9dccf445b4c9ecfa-01 outer:exit 2b-325805d2f94ab31b7deec142442ad444c4d5f54c-25fbfae271c0b00a-01
2022-04-21T16:16:56.368Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:56.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-32910693f086746985f9a231f29bd0c6a046993e-786940798003330c-01 outer:exit 2b-32910693f086746985f9a231f29bd0c6a046993e-37fd53b721002f5d-01
2022-04-21T16:16:56.371Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:56.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b7e350feeb3db1a2cead606957353bba75cfe36-41dfcab403a6f4d8-01 outer:exit 2b-8b7e350feeb3db1a2cead606957353bba75cfe36-fbfb956ecd1a7b97-01
2022-04-21T16:16:56.375Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:56.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbab3f57bf377adecdfba0972ead3cae357f25b1-d3761a2243a75280-01 outer:exit 2b-bbab3f57bf377adecdfba0972ead3cae357f25b1-28dbae464e5c182c-01
2022-04-21T16:16:56.378Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:56.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f21abac4f2276295f019f8502e1cceedb2b16df-9cfc7b5780993252-01 outer:exit 2b-3f21abac4f2276295f019f8502e1cceedb2b16df-c6c70ad9d63c47f8-01
2022-04-21T16:16:56.381Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:56.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7fc244d6b4fa22dc27161f88d34df186cb772e3-6fcdee293e4713a1-01 outer:exit 2b-a7fc244d6b4fa22dc27161f88d34df186cb772e3-beed15b8a66b76b1-01
2022-04-21T16:16:56.383Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:56.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-50bcc1e8ea64584f5fe0fc0878b8e46da1b0e2d9-9f4cc154767f32d8-01 outer:exit 2b-50bcc1e8ea64584f5fe0fc0878b8e46da1b0e2d9-ec9f633a8e249347-01
2022-04-21T16:16:56.386Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:56.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eb2810bc50c423cc8579d2e0f8e1f7e92454ffb-dbddf747c225dc8c-01 outer:exit 2b-9eb2810bc50c423cc8579d2e0f8e1f7e92454ffb-e1f6db80300a94fd-01
2022-04-21T16:16:56.389Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:56.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-34a5f02c45e507da649a66da548cfea2b7d8a9e8-5d1611977ab5cdfc-01 outer:exit 2b-34a5f02c45e507da649a66da548cfea2b7d8a9e8-d2c76d03992f03f5-01
2022-04-21T16:16:56.393Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:56.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ed7fea4adf896c5cb6a895f6646ced0546d98c1-bee038bdd84e56f3-01 outer:exit 2b-9ed7fea4adf896c5cb6a895f6646ced0546d98c1-939f35eb3f21b201-01
2022-04-21T16:16:56.399Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:56.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d3da16f10d1b92440d258db1db545536587444c-72425207ce201f05-01 outer:exit 2b-9d3da16f10d1b92440d258db1db545536587444c-b40841f64a7db94a-01
2022-04-21T16:16:56.413Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:56.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-481955c791680da569d2ca4ae901a7c8e69e75f5-0a93c22ad7b017ff-01 outer:exit 2b-481955c791680da569d2ca4ae901a7c8e69e75f5-42c6806eac7ce5cf-01
2022-04-21T16:16:56.451Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:56.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3b98ac9ac4f574d8ce51a640a06e34083cafdb9-be242f67de9c709f-01 outer:exit 2b-f3b98ac9ac4f574d8ce51a640a06e34083cafdb9-2c050ce0907b6cd5-01
2022-04-21T16:16:56.453Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:56.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-83a632300d05c355affb7227fc8414a7c5afe04c-f3db65f9ce9bafa2-01 outer:exit 2b-83a632300d05c355affb7227fc8414a7c5afe04c-88b106d506390290-01
2022-04-21T16:16:56.456Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:56.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-22cd41c6a8b816e0f75f14141474be85ce22c1d8-58eac0cb48e0f406-01 outer:exit 2b-22cd41c6a8b816e0f75f14141474be85ce22c1d8-9bdb23c380926560-01
2022-04-21T16:16:56.459Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:56.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-f35035b73f545ee5238f02f5d186232c797ab29f-21c33e6878586a7d-01 outer:exit 2b-f35035b73f545ee5238f02f5d186232c797ab29f-df77494f724b1486-01
2022-04-21T16:16:56.464Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:56.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-de06a1d675b38cfdb4530f8c2c70cae329410920-dfe20dc9cec7a446-01 outer:exit 2b-de06a1d675b38cfdb4530f8c2c70cae329410920-2bc5520b1b179e1c-01
2022-04-21T16:16:56.466Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:56.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-b803d97e821a2e57fe3ca3b15f670cb80644a21f-89737a5b1d5bbbc0-01 outer:exit 2b-b803d97e821a2e57fe3ca3b15f670cb80644a21f-bd1e59713a6c795d-01
2022-04-21T16:16:56.468Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:56.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-946086859b6856549da09a17414d66e66cfd2398-96b011ca05dfc629-01 outer:exit 2b-946086859b6856549da09a17414d66e66cfd2398-1eaa4c26f808499d-01
2022-04-21T16:16:56.470Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:56.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea5e31f224997baa92754c7b831f8e465482115c-0c66426af6db2e8b-01 outer:exit 2b-ea5e31f224997baa92754c7b831f8e465482115c-3a6e06335f4624e1-01
2022-04-21T16:16:56.472Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:56.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fae8836d6c479c518e45db23172fe7367616839-c5eb2fdbbcc8db3b-01 outer:exit 2b-0fae8836d6c479c518e45db23172fe7367616839-17075a1ff387f29a-01
2022-04-21T16:16:56.475Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:56.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-a087676b786e905570a3c7292c1c121f27612493-6372ad0fd78b20f6-01 outer:exit 2b-a087676b786e905570a3c7292c1c121f27612493-65bf112dfe4be088-01
2022-04-21T16:16:56.477Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:56.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-0896ddbf7835fa4eed3740f41909f1eaa727c021-978e1e82af8d00b8-01 outer:exit 2b-0896ddbf7835fa4eed3740f41909f1eaa727c021-8f43c1201a1ffc09-01
2022-04-21T16:16:56.480Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:56.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4cd9dbca743161677a48d96e3296bf70a8adf73-6378d36786d6b844-01 outer:exit 2b-d4cd9dbca743161677a48d96e3296bf70a8adf73-6c3e7aafb9c471e1-01
2022-04-21T16:16:56.482Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:56.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbd653eeb5c53fa34aa7b06df015262ff1b721c4-a9d48567fdf24a66-01 outer:exit 2b-cbd653eeb5c53fa34aa7b06df015262ff1b721c4-0fa6846a734cc49a-01
2022-04-21T16:16:56.489Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:56.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-8591d3d218e485bfd1a2aae8da37732cf619e2b5-f200857e0dac0c8a-01 outer:exit 2b-8591d3d218e485bfd1a2aae8da37732cf619e2b5-d3239e58a7376426-01
2022-04-21T16:16:56.493Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:56.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd3a599d007fc3fe9c7024f126df08d6bc15fd26-f0ccf6a4a905e80f-01 outer:exit 2b-fd3a599d007fc3fe9c7024f126df08d6bc15fd26-7c96f506902ddec6-01
2022-04-21T16:16:56.500Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:56.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-947e810c2f2753130925410cb073ce65966e4074-db9ba2f496b6ce7b-01 outer:exit 2b-947e810c2f2753130925410cb073ce65966e4074-011e4fc582f5905a-01
2022-04-21T16:16:56.507Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:56.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-d221204664140366af4715c7257c0b21c1e4c647-50641adaf4929788-01 outer:exit 2b-d221204664140366af4715c7257c0b21c1e4c647-84d9b7192f922953-01
2022-04-21T16:16:56.509Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:56.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-efef4446813914d6f9cca4e019557f08e1a42ad6-e513d6a9345be89c-01 outer:exit 2b-efef4446813914d6f9cca4e019557f08e1a42ad6-892472e36225d049-01
2022-04-21T16:16:56.512Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:56.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-483caa1c68b457ed292d7d4072952b8e4a5246a1-b0a7d43c7d9fc96a-01 outer:exit 2b-483caa1c68b457ed292d7d4072952b8e4a5246a1-0d54abdabb927a27-01
2022-04-21T16:16:56.518Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:56.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-272001267be2b5887d7a57e1c3f4d232fb95d640-201f1eb1039816be-01 outer:exit 2b-272001267be2b5887d7a57e1c3f4d232fb95d640-c647c398942c0e25-01
2022-04-21T16:16:56.520Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:56.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-13c9636a996c6393d98c7ac01ce4cc042a5afb33-9cc9017c82e36e0f-01 outer:exit 2b-13c9636a996c6393d98c7ac01ce4cc042a5afb33-077fe6da4d720509-01
2022-04-21T16:16:56.522Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:56.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-abe2588e83ecd2dbc9f0dd67815f12354dff701d-30712651b20a986a-01 outer:exit 2b-abe2588e83ecd2dbc9f0dd67815f12354dff701d-213d5f287600401f-01
2022-04-21T16:16:56.524Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:56.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb6e16489d82bc3a6c6e265e0a05886d9417b26a-4b506eb5f6c6fa89-01 outer:exit 2b-eb6e16489d82bc3a6c6e265e0a05886d9417b26a-a53412a277bce635-01
2022-04-21T16:16:56.526Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:56.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-8776518b3a914581efe096855ce0f1a0884c0c79-df7ca8d8231e57ae-01 outer:exit 2b-8776518b3a914581efe096855ce0f1a0884c0c79-4daa0ba34948742a-01
2022-04-21T16:16:56.528Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:56.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-5208eb982d267f589e8a6aa6e8859c2257a3526a-41814a754c8f6f37-01 outer:exit 2b-5208eb982d267f589e8a6aa6e8859c2257a3526a-1d4dc9f40f2d9d08-01
2022-04-21T16:16:56.537Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:56.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-87b9e0d8feab27e57a6047b2505b940556c9df40-319e0084c8cf5995-01 outer:exit 2b-87b9e0d8feab27e57a6047b2505b940556c9df40-c462af48c51e811b-01
2022-04-21T16:16:56.545Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:56.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-974ddc1f05387aea07a68f57057f18ef4b73dfab-d743d7c2e1d98f04-01 outer:exit 2b-974ddc1f05387aea07a68f57057f18ef4b73dfab-36b3fde15612d3b0-01
2022-04-21T16:16:56.548Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:56.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-99063b6240d69f3eb5849351030e26ceaa358977-ee32f9de845c9399-01 outer:exit 2b-99063b6240d69f3eb5849351030e26ceaa358977-cd1bdde756454a84-01
2022-04-21T16:16:56.551Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:56.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b135129caac11eb68d93f5eca2b0c510533dd0d-9a4de6ee03d11bd8-01 outer:exit 2b-4b135129caac11eb68d93f5eca2b0c510533dd0d-39a40a6b9a65f5ca-01
2022-04-21T16:16:56.553Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:56.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-4aebc49d2e58be32378a91dd540654522085f57e-4bde15e538b851b1-01 outer:exit 2b-4aebc49d2e58be32378a91dd540654522085f57e-4c196e3fd93e553a-01
2022-04-21T16:16:56.580Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (314ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.14
updated 1 package and audited 935 packages in 4.083s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:01.649Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:01.650Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:01.650Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:01.654Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:01.724Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:01.900Z appoptics:patching patched crypto 
2022-04-21T16:17:01.949Z appoptics:patching patched https 
2022-04-21T16:17:01.950Z appoptics:patching patched http 
2022-04-21T16:17:02.019Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:02.020Z appoptics:patching patched fs 
2022-04-21T16:17:02.042Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v14.19.1)
2022-04-21T16:17:02.048Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2022-04-21T16:17:02.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-689b4da3eb4be182de5a5925f84e952c4d1d52d2-bfdb64c72a91a9f0-01 outer:exit 2b-689b4da3eb4be182de5a5925f84e952c4d1d52d2-b6d0c872c757d583-01
2022-04-21T16:17:02.113Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:02.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-2368b914119c5571a0d90933adc813fcf24413aa-e07306d6dcba41f7-01 outer:exit 2b-2368b914119c5571a0d90933adc813fcf24413aa-900f936dbe1dd152-01
2022-04-21T16:17:02.161Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:02.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-85eb693d4cd319ad5a894ae28d1f3a2de17931ee-a40e699b372e30c9-01 outer:exit 2b-85eb693d4cd319ad5a894ae28d1f3a2de17931ee-9d5c9ff950665b44-01
2022-04-21T16:17:02.165Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:02.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8f9f824b0ab28f6558b8c01487bef7e8c046106-5517579eb9decefe-01 outer:exit 2b-f8f9f824b0ab28f6558b8c01487bef7e8c046106-c189d439431975e8-01
2022-04-21T16:17:02.169Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:02.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a10618587139ecc9b25b424815f4e99bda6bc22-d14e2dc1f022ba43-01 outer:exit 2b-7a10618587139ecc9b25b424815f4e99bda6bc22-41a8576614e7772b-01
2022-04-21T16:17:02.174Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:02.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0449115cc322377a4a48ac85d582e7a00c14989-15f74f72a613b71a-01 outer:exit 2b-b0449115cc322377a4a48ac85d582e7a00c14989-7040e4a8918a673e-01
2022-04-21T16:17:02.177Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:02.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-e873b2f97cfca7f9fd0879a3681fb9a78c5d7377-59feb970ee1d35c5-01 outer:exit 2b-e873b2f97cfca7f9fd0879a3681fb9a78c5d7377-b867224d280f9571-01
2022-04-21T16:17:02.179Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:02.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-929918a6db33921427c0ba66bf7cf1d8eb226964-9100af15f7653acb-01 outer:exit 2b-929918a6db33921427c0ba66bf7cf1d8eb226964-3ee0cbacc917dfa1-01
2022-04-21T16:17:02.181Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:02.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd1e13ecabfe36b7618570c840976b8551155a06-06880f39d2262bc5-01 outer:exit 2b-fd1e13ecabfe36b7618570c840976b8551155a06-5f5a7f40db51331d-01
2022-04-21T16:17:02.184Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:02.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-adc07cb7af674c2d6fa43df0db70e85c198103c8-e243ef9cb24488ab-01 outer:exit 2b-adc07cb7af674c2d6fa43df0db70e85c198103c8-37630340e4ea08fb-01
2022-04-21T16:17:02.187Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:02.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ac421d0041f084c8585f6be14aff5767c1e93da-f58c6c18582073ef-01 outer:exit 2b-3ac421d0041f084c8585f6be14aff5767c1e93da-b0ad5fa24c1cb8a2-01
2022-04-21T16:17:02.190Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:02.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-718082c9737baf4c613f68762bb3b32ed1131ad5-89820694a13d689d-01 outer:exit 2b-718082c9737baf4c613f68762bb3b32ed1131ad5-431def8fe4948299-01
2022-04-21T16:17:02.196Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:02.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d910bb41c7c8d0782e2f3e988afbbaeb23f8d51-6135c26a9dee1302-01 outer:exit 2b-9d910bb41c7c8d0782e2f3e988afbbaeb23f8d51-4e399c0d30fb17e0-01
2022-04-21T16:17:02.211Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:02.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdbb565852653da013fc56960b93d750cb655d01-87578936623b2b2b-01 outer:exit 2b-bdbb565852653da013fc56960b93d750cb655d01-be6754fdda5134b5-01
2022-04-21T16:17:02.247Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:02.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-42cc53ced0b156ba21098f3018ea4f2421fe5f12-8be935c01806d1ee-01 outer:exit 2b-42cc53ced0b156ba21098f3018ea4f2421fe5f12-7e8692e481d9d427-01
2022-04-21T16:17:02.250Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:02.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c7ce3003baa92f10cc9c9d51eb7a42c4200b49c-5ccabe69c5a706e9-01 outer:exit 2b-9c7ce3003baa92f10cc9c9d51eb7a42c4200b49c-d6f8fc9f608b726f-01
2022-04-21T16:17:02.252Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:02.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5f4568273b1367cb8046f551bb5230bf68b0035-42e2a34b8cbd9fc3-01 outer:exit 2b-a5f4568273b1367cb8046f551bb5230bf68b0035-aa9e83f2887206db-01
2022-04-21T16:17:02.256Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:02.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7b1071936d55ba58bc71fd523ad2e66c5eaddff-3984b611415e1b9a-01 outer:exit 2b-a7b1071936d55ba58bc71fd523ad2e66c5eaddff-62a54c69d9d7120d-01
2022-04-21T16:17:02.258Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:02.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-a243561372326b9527112c7c409f401eef6ac078-e715f7c2274c1200-01 outer:exit 2b-a243561372326b9527112c7c409f401eef6ac078-a33bd305cc3d9326-01
2022-04-21T16:17:02.262Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:02.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-1017dcf2343f6e99a2ee5eeae8039fe5fee78f18-b3dee7e1d47e945f-01 outer:exit 2b-1017dcf2343f6e99a2ee5eeae8039fe5fee78f18-bc39d7214bc5449d-01
2022-04-21T16:17:02.264Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:02.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb31d1931df606f047f367a7e6ee6cadcc80a248-92d91cebf8074fec-01 outer:exit 2b-bb31d1931df606f047f367a7e6ee6cadcc80a248-f69df5966686ea62-01
2022-04-21T16:17:02.266Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:02.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-0794d492768bc64d93a7e7308e8c914c1802f7e0-a1a8873d9bca4242-01 outer:exit 2b-0794d492768bc64d93a7e7308e8c914c1802f7e0-0789fa6d629688d4-01
2022-04-21T16:17:02.268Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:02.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9bbfd5f43bc957240e3ace3c3e20a1050ae5ae0-9b018aea2c7938c3-01 outer:exit 2b-e9bbfd5f43bc957240e3ace3c3e20a1050ae5ae0-33d5e2fd4fc22459-01
2022-04-21T16:17:02.271Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:02.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c0bcaecbc8ed423f5048ff56cf3f8dcb0c948af-205e2594b5f694be-01 outer:exit 2b-1c0bcaecbc8ed423f5048ff56cf3f8dcb0c948af-b2cd6a9e26ff86d0-01
2022-04-21T16:17:02.274Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:02.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-8858df2809ab0840247a9be403d8f9e1024014bf-7e4190d3952b5704-01 outer:exit 2b-8858df2809ab0840247a9be403d8f9e1024014bf-5d8474aa1fba8e2a-01
2022-04-21T16:17:02.276Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:02.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-84cfe14947d7d50f149b0320e366622eeed5365a-4436e60251b3e073-01 outer:exit 2b-84cfe14947d7d50f149b0320e366622eeed5365a-247f17e5c188e8c2-01
2022-04-21T16:17:02.278Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:02.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ff9f0fd9feb588093ad0be279475a213cf509c6-3e5a843631cde489-01 outer:exit 2b-6ff9f0fd9feb588093ad0be279475a213cf509c6-8bc63a5bcc6c07f8-01
2022-04-21T16:17:02.285Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:02.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfd5d63f6cd9f9682ea22ae8ecf1803341266189-62f51797356b3c26-01 outer:exit 2b-cfd5d63f6cd9f9682ea22ae8ecf1803341266189-4e20404ffc856177-01
2022-04-21T16:17:02.289Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:02.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d5df08615743679b6f8b8258b8167f6940f68f8-d2cd331b453f8b73-01 outer:exit 2b-9d5df08615743679b6f8b8258b8167f6940f68f8-f50b999a00fea486-01
2022-04-21T16:17:02.297Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:02.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-41a5b5005a75219ef8c3b9ea77f47121f4232873-ae8d4b7b0f2ac11e-01 outer:exit 2b-41a5b5005a75219ef8c3b9ea77f47121f4232873-56c94450735ad4bd-01
2022-04-21T16:17:02.303Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:02.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d6f6f9be6405a5b2666275377b1ef2eb78c2bb9-c56b8d6f83e18586-01 outer:exit 2b-7d6f6f9be6405a5b2666275377b1ef2eb78c2bb9-80f36a25ec0a0034-01
2022-04-21T16:17:02.305Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:02.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec3b8611aa2fa057eadb846645203a190c7a0c8f-b6a81fadb7efe225-01 outer:exit 2b-ec3b8611aa2fa057eadb846645203a190c7a0c8f-08d80e9bbe016444-01
2022-04-21T16:17:02.307Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:02.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-44ce2cf76189777490f61c4cf27b9d30e8fc1111-c5d6ba28e2e50dd1-01 outer:exit 2b-44ce2cf76189777490f61c4cf27b9d30e8fc1111-40081e27118e89ab-01
2022-04-21T16:17:02.313Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:02.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-f943422a59d624b764e584e49b6ce61b09797966-8e26a27bf4ed882d-01 outer:exit 2b-f943422a59d624b764e584e49b6ce61b09797966-26d1d9b00bf890ec-01
2022-04-21T16:17:02.315Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:02.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-0315860e9078863fa5d872ce0c0d58bba01dd73f-d08171cddf640051-01 outer:exit 2b-0315860e9078863fa5d872ce0c0d58bba01dd73f-6a3b0dedc614998a-01
2022-04-21T16:17:02.317Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:02.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb787c65950ed91911686637782ca5caba466e2f-5a3100a454428522-01 outer:exit 2b-fb787c65950ed91911686637782ca5caba466e2f-914dc59532b48b13-01
2022-04-21T16:17:02.319Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:02.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-f943066caa2ff058872d225b49d9a7701364dbbc-9b83bfaed80cc16e-01 outer:exit 2b-f943066caa2ff058872d225b49d9a7701364dbbc-9160777fbea3dab5-01
2022-04-21T16:17:02.321Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:02.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-ded46dcff9dd364aa3f900935c8dcc4cc9d80bca-928ffb8f9452ef9b-01 outer:exit 2b-ded46dcff9dd364aa3f900935c8dcc4cc9d80bca-38b91f9d0668cec8-01
2022-04-21T16:17:02.323Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:02.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-317df410fd2b0d870a3f95b1210d62939e158cb5-fc65602ddd7469f1-01 outer:exit 2b-317df410fd2b0d870a3f95b1210d62939e158cb5-2b1ef8833b66243d-01
2022-04-21T16:17:02.332Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:02.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-38153683371e3d56ff130f084f74085f46564480-cb8bc29cc95c150c-01 outer:exit 2b-38153683371e3d56ff130f084f74085f46564480-754f10ec2351b8c0-01
2022-04-21T16:17:02.339Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:02.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cc88aa6fbad50bf020ba49932e6a5da0842d132-c15f7ef2578e688b-01 outer:exit 2b-0cc88aa6fbad50bf020ba49932e6a5da0842d132-af3ea76549f714be-01
2022-04-21T16:17:02.342Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:02.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-28c925a66f09978f52dd1489d073cf4e65c2750d-a9c7c013a0cb37f5-01 outer:exit 2b-28c925a66f09978f52dd1489d073cf4e65c2750d-6c8fc0b2f5bf7d3a-01
2022-04-21T16:17:02.344Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:02.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-379cb22b6fd9fc8637554c391f82cf9dd87f9b2a-1c54775f18448e74-01 outer:exit 2b-379cb22b6fd9fc8637554c391f82cf9dd87f9b2a-4905005f6dd12e62-01
2022-04-21T16:17:02.347Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:02.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-681c237c6cdfe3d74be37da78fbc91624696b7f4-e8f3fd23b8348a5c-01 outer:exit 2b-681c237c6cdfe3d74be37da78fbc91624696b7f4-9ca86efc394cfead-01
2022-04-21T16:17:02.372Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (312ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.0
updated 2 packages and audited 935 packages in 3.813s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:07.106Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:07.106Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:07.106Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:07.107Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:07.168Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:07.301Z appoptics:patching patched crypto 
2022-04-21T16:17:07.319Z appoptics:patching patched https 
2022-04-21T16:17:07.319Z appoptics:patching patched http 
2022-04-21T16:17:07.358Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:07.359Z appoptics:patching patched fs 
2022-04-21T16:17:07.382Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v14.19.1)
2022-04-21T16:17:07.388Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2022-04-21T16:17:07.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-54ef035d90d5e4452361ea927f0a7d858f6f9bd3-ee4026bc6feea145-01 outer:exit 2b-54ef035d90d5e4452361ea927f0a7d858f6f9bd3-bfaff3c62db0f093-01
2022-04-21T16:17:07.429Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:07.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd0b072f21fb6cc5d24cdd8dcf3add74a12b5ee3-58db831bc8798246-01 outer:exit 2b-fd0b072f21fb6cc5d24cdd8dcf3add74a12b5ee3-14bc2f3234dc6ee3-01
2022-04-21T16:17:07.470Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:07.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-6879fc5fdd626bfd34ed954ad1539b9090a8004d-f01bfb765d899491-01 outer:exit 2b-6879fc5fdd626bfd34ed954ad1539b9090a8004d-b74277be7304ab4d-01
2022-04-21T16:17:07.474Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:07.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0d9cd1739aa07e31b6259498d3527c75c1e89ea-7651876ee812cb34-01 outer:exit 2b-c0d9cd1739aa07e31b6259498d3527c75c1e89ea-83e9a4101d3dc1c7-01
2022-04-21T16:17:07.477Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:07.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd49c3f41b8a26f23dc6ac7cfe066718d83bb3a1-76bf077f06df999b-01 outer:exit 2b-fd49c3f41b8a26f23dc6ac7cfe066718d83bb3a1-cb36c73a98017753-01
2022-04-21T16:17:07.481Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:07.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-da1e0392b834d49a7ad721341284a4e115bfb371-132f1a2a8f2bfc7e-01 outer:exit 2b-da1e0392b834d49a7ad721341284a4e115bfb371-110317c2b003da34-01
2022-04-21T16:17:07.484Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:07.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-d465beecbd725233f5b5eebe60306c160dd79929-e2d8aba4f38c958e-01 outer:exit 2b-d465beecbd725233f5b5eebe60306c160dd79929-c82ecab799725b43-01
2022-04-21T16:17:07.487Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:07.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-41682d97455c4883de25ab3d92f8cda91ffba5ba-a0018954ea59d870-01 outer:exit 2b-41682d97455c4883de25ab3d92f8cda91ffba5ba-b48e300f85e01b91-01
2022-04-21T16:17:07.490Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:07.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-0182b523488b60f0ce7df9a3f805088fa24b489c-97b924333cb0c99f-01 outer:exit 2b-0182b523488b60f0ce7df9a3f805088fa24b489c-0b5e8389f3c03f92-01
2022-04-21T16:17:07.492Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:07.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-d97b8e39d5a5fa6cfa62a144747c1d138fe35a68-ed07f5446ce51404-01 outer:exit 2b-d97b8e39d5a5fa6cfa62a144747c1d138fe35a68-5fd8d57a894609db-01
2022-04-21T16:17:07.495Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:07.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-46ca70345efdf1c3c2c4ae87f4ba9cf9648be195-b6255f6bd174ccf6-01 outer:exit 2b-46ca70345efdf1c3c2c4ae87f4ba9cf9648be195-33ea7d81ab27829c-01
2022-04-21T16:17:07.499Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:07.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ec4eb8a62e21fd3ba81009713009cacccd72c72-957eaa09f00cf3fa-01 outer:exit 2b-4ec4eb8a62e21fd3ba81009713009cacccd72c72-48ef11f0802a76b4-01
2022-04-21T16:17:07.505Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:07.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a87a22fe8ebf781bcb0eea9f63cec273639d522-85650a5bafd91dc4-01 outer:exit 2b-8a87a22fe8ebf781bcb0eea9f63cec273639d522-97d43e68e9c0e4a6-01
2022-04-21T16:17:07.520Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:07.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-717351cbcd13233779078b036ac4556cdeb74c71-9ce15364e5792f62-01 outer:exit 2b-717351cbcd13233779078b036ac4556cdeb74c71-10b50b6a84f1573c-01
2022-04-21T16:17:07.556Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:07.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cb23301f0b7a448d524f91795a9237d8b7ee129-2bca3f7c744e9ddd-01 outer:exit 2b-7cb23301f0b7a448d524f91795a9237d8b7ee129-3172a50a7b3edb7a-01
2022-04-21T16:17:07.559Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:07.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-48c3b422961c5dad9d72f19a247228fa90045571-d2367afa481d55ad-01 outer:exit 2b-48c3b422961c5dad9d72f19a247228fa90045571-764b54db44203132-01
2022-04-21T16:17:07.561Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:07.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f27296ec0fbe1bb565b7d8bea9a7df71a25c207-1bd6bbfa8c094256-01 outer:exit 2b-4f27296ec0fbe1bb565b7d8bea9a7df71a25c207-0e95e9e148f957a2-01
2022-04-21T16:17:07.564Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:07.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-a60535d185f2083a5b3fbdce1971263008756b00-137f6c5810a4911b-01 outer:exit 2b-a60535d185f2083a5b3fbdce1971263008756b00-f7d98f4c7cb2770f-01
2022-04-21T16:17:07.566Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:07.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7ec3360a77eb097c99bd6ff9c6115fd6a510432-96556dca43ea4744-01 outer:exit 2b-b7ec3360a77eb097c99bd6ff9c6115fd6a510432-9b8beb4101ed433b-01
2022-04-21T16:17:07.568Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:07.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-b34adb34c051020a3d040d55b3db6a0f4aa0d81f-4e5bcd840f4efa07-01 outer:exit 2b-b34adb34c051020a3d040d55b3db6a0f4aa0d81f-949eb796f36f0a8f-01
2022-04-21T16:17:07.570Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:07.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1063356691dc64fb8089f342c86cbc714439f69-d39987ec9b8e9086-01 outer:exit 2b-e1063356691dc64fb8089f342c86cbc714439f69-8ee570bbb65552fa-01
2022-04-21T16:17:07.572Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:07.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-af20ae0dc4635170879495102c62d4169dcd5917-f88b410ebc33951f-01 outer:exit 2b-af20ae0dc4635170879495102c62d4169dcd5917-f42d253813499beb-01
2022-04-21T16:17:07.574Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:07.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bffd89f6927c90f7fd9ff095d1d0e31a6733bff-8a669c2994b6f86d-01 outer:exit 2b-5bffd89f6927c90f7fd9ff095d1d0e31a6733bff-8f381cceecc867d5-01
2022-04-21T16:17:07.577Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:07.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecf3a16b4cda82f65578fc41277ab7ed17462543-c39c60b5de9da2cd-01 outer:exit 2b-ecf3a16b4cda82f65578fc41277ab7ed17462543-e691ff8f189bacc4-01
2022-04-21T16:17:07.579Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:07.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9d3ddba4fe183a99c01d21bbe1d02847884db08-9b7a3afcc5dfa804-01 outer:exit 2b-b9d3ddba4fe183a99c01d21bbe1d02847884db08-d012be27e0f4c817-01
2022-04-21T16:17:07.582Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:07.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-543b5d78a122b352ddf4d8c2a471fefcc7ddd4f9-912e35939c05cf20-01 outer:exit 2b-543b5d78a122b352ddf4d8c2a471fefcc7ddd4f9-dffab73957a9c0f7-01
2022-04-21T16:17:07.585Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:07.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-96eada8ff14ad7f5e495be21b7a0af827a26b85f-173c4590899e521a-01 outer:exit 2b-96eada8ff14ad7f5e495be21b7a0af827a26b85f-3a079467d4f7ec26-01
2022-04-21T16:17:07.592Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:07.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1b6a6a15d37e47f1b15e154d2e6d347a3ad7615-c5abab227b782288-01 outer:exit 2b-c1b6a6a15d37e47f1b15e154d2e6d347a3ad7615-a0285809326204c4-01
2022-04-21T16:17:07.596Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:07.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-554243f06f5ac8d1cd3106452fd9095883290575-3aedd56c1db5b96c-01 outer:exit 2b-554243f06f5ac8d1cd3106452fd9095883290575-c7b34ff7b929884d-01
2022-04-21T16:17:07.604Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:07.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4dd6fe5a69974625a2140b827e9addbbff6d5e6-9e8ead22a425cefe-01 outer:exit 2b-e4dd6fe5a69974625a2140b827e9addbbff6d5e6-6b6eb305d279849c-01
2022-04-21T16:17:07.610Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:07.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-d802b75e5e5fa89c870f6a58ff5379036ee0dbb5-ba5f86df8f6dbdb3-01 outer:exit 2b-d802b75e5e5fa89c870f6a58ff5379036ee0dbb5-3cd9ad1907c9f1c6-01
2022-04-21T16:17:07.612Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:07.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d695addda2cd909abf288b67e27acf382b2159a-1877acefc361af93-01 outer:exit 2b-3d695addda2cd909abf288b67e27acf382b2159a-a3218de789831701-01
2022-04-21T16:17:07.614Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:07.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-e97b7aea3bd5904d6d3fa99902e789103b35bf7f-cf49497d2ec3537a-01 outer:exit 2b-e97b7aea3bd5904d6d3fa99902e789103b35bf7f-7e5cb32f1a408af0-01
2022-04-21T16:17:07.621Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:07.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddfac86b826e699e8d97d6958654d1036b7b430a-e983fb6e5fb78a5d-01 outer:exit 2b-ddfac86b826e699e8d97d6958654d1036b7b430a-3ab84ff14f6d8adf-01
2022-04-21T16:17:07.623Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:07.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-75ebf73d10ca703c3252e3333e7f73616680d3cc-4d575a63f46b17e3-01 outer:exit 2b-75ebf73d10ca703c3252e3333e7f73616680d3cc-9ce47bdec15d9dab-01
2022-04-21T16:17:07.625Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:07.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd95e0834e58d949713910711d5bac5143153ef5-404b8fe5da03bef4-01 outer:exit 2b-fd95e0834e58d949713910711d5bac5143153ef5-294fba05554db95c-01
2022-04-21T16:17:07.627Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:07.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-eed288c584f02863ef321f0761ba57c8bc632faf-4744ca5e702f8923-01 outer:exit 2b-eed288c584f02863ef321f0761ba57c8bc632faf-2ef92e333189027e-01
2022-04-21T16:17:07.629Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:07.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d6f463224c894bd4276669f31cfda35f8cccd17-59102f41c15d1bec-01 outer:exit 2b-6d6f463224c894bd4276669f31cfda35f8cccd17-705b0f31ab594585-01
2022-04-21T16:17:07.631Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:07.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0a2c7c621be98419efb07d61d6d81caa9121154-ec444b2069183576-01 outer:exit 2b-a0a2c7c621be98419efb07d61d6d81caa9121154-da96a905e82499b5-01
2022-04-21T16:17:07.639Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:07.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-97a3328da674faa55ae9833f7cf9bba79ec5e5aa-9ba5c0f662ed4f2b-01 outer:exit 2b-97a3328da674faa55ae9833f7cf9bba79ec5e5aa-2f5171cf54605ba5-01
2022-04-21T16:17:07.647Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:07.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-1402a7e0f39a6f2262467cd741441cb8e6592ef7-07248dfc52b7b125-01 outer:exit 2b-1402a7e0f39a6f2262467cd741441cb8e6592ef7-41a1075134c8daf5-01
2022-04-21T16:17:07.649Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:07.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9e5d6a9add5581ac15f05af43b89c88ae768e04-3ec4af86cd1b8237-01 outer:exit 2b-b9e5d6a9add5581ac15f05af43b89c88ae768e04-b00d7da824c530a3-01
2022-04-21T16:17:07.652Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:07.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c4181464a88a5f98b4486bc194cda0add8e8478-554480095bdba433-01 outer:exit 2b-6c4181464a88a5f98b4486bc194cda0add8e8478-bd1447509cf2805b-01
2022-04-21T16:17:07.654Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:07.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-22eb353b6b3a1587b81413e4d443d3939ab7f34e-dbd3bd722a946fb8-01 outer:exit 2b-22eb353b6b3a1587b81413e4d443d3939ab7f34e-bfe8c0b0c4157d45-01
2022-04-21T16:17:07.681Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (287ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.1
updated 1 package and audited 935 packages in 5.706s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:14.416Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:14.417Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:14.417Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:14.419Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:14.501Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:14.638Z appoptics:patching patched crypto 
2022-04-21T16:17:14.655Z appoptics:patching patched https 
2022-04-21T16:17:14.655Z appoptics:patching patched http 
2022-04-21T16:17:14.694Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:14.695Z appoptics:patching patched fs 
2022-04-21T16:17:14.718Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v14.19.1)
2022-04-21T16:17:14.723Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2022-04-21T16:17:14.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ff4ff7177483ede4a856ec6edea3f1eabefd62e-d3af9ca4af928e0f-01 outer:exit 2b-6ff4ff7177483ede4a856ec6edea3f1eabefd62e-0a4b7bab85abf474-01
2022-04-21T16:17:14.768Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:14.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7ba133280724b3deff06a967c480f0d6ddd4951-cc70b75cfaadb884-01 outer:exit 2b-a7ba133280724b3deff06a967c480f0d6ddd4951-bd0a73231ecad303-01
2022-04-21T16:17:14.810Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:14.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-60d3ab1f9c3451de606a6dc646bf064eefaf88eb-2653b5bde302b1e3-01 outer:exit 2b-60d3ab1f9c3451de606a6dc646bf064eefaf88eb-e8b8ae98068eee08-01
2022-04-21T16:17:14.814Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:14.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b5fe5c74a390e893a60bcdb50ed281e80c24356-7856fa8f46a26447-01 outer:exit 2b-0b5fe5c74a390e893a60bcdb50ed281e80c24356-66447ecb5d08e305-01
2022-04-21T16:17:14.817Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:14.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ec07cd0eb7cbae0b4f5a10701430c895f1bcdb6-db99b83f2cd48030-01 outer:exit 2b-6ec07cd0eb7cbae0b4f5a10701430c895f1bcdb6-382f0e8f1bc2053b-01
2022-04-21T16:17:14.822Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:14.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0bcf1d30206e9fce2f81bf1dbb79503f5a05b2c-82c54a7e562ab6e4-01 outer:exit 2b-e0bcf1d30206e9fce2f81bf1dbb79503f5a05b2c-5d5e05c98be1dc9d-01
2022-04-21T16:17:14.825Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:14.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a834c918b516f68c5e8e7aefa5463bf01d72a60-ded556f2fab20e33-01 outer:exit 2b-3a834c918b516f68c5e8e7aefa5463bf01d72a60-ac2137c4f97c85d1-01
2022-04-21T16:17:14.827Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:14.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d5744add25dfeee1c99a14240616e26c76b41c5-2d992273b4a11ea8-01 outer:exit 2b-6d5744add25dfeee1c99a14240616e26c76b41c5-709cb50672ca2679-01
2022-04-21T16:17:14.830Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:14.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-700459ddc32af118df1aa357dff47dc54d8df51b-12cb70bb40a8ef97-01 outer:exit 2b-700459ddc32af118df1aa357dff47dc54d8df51b-d60086383eff0a1e-01
2022-04-21T16:17:14.832Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:14.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d51a1e3c474e5df97f0fa10ef2aa753513450f5-3a7e48337b7baa9f-01 outer:exit 2b-9d51a1e3c474e5df97f0fa10ef2aa753513450f5-f0aba224871b6aff-01
2022-04-21T16:17:14.835Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:14.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e86d217b5344bd811c511c2271ffaaeafe54925-9276ab2c903ec7c9-01 outer:exit 2b-2e86d217b5344bd811c511c2271ffaaeafe54925-8bc1ed3e54b9dc09-01
2022-04-21T16:17:14.839Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:14.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-aeab136ed84e30995d35694c8e0c0f7fa495b295-db00bd4904554b61-01 outer:exit 2b-aeab136ed84e30995d35694c8e0c0f7fa495b295-a463c1b645a989a8-01
2022-04-21T16:17:14.845Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:14.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3d7eaf8f85acb7f070ede50f4d9d3e5577609ed-fe4f46a0b5280c5e-01 outer:exit 2b-e3d7eaf8f85acb7f070ede50f4d9d3e5577609ed-c707b902cddb1230-01
2022-04-21T16:17:14.859Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:14.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-77b7b998e1ae5bf8568d87ce6decb3dc3293489d-757151299ada4f51-01 outer:exit 2b-77b7b998e1ae5bf8568d87ce6decb3dc3293489d-e8eb1e55a0a4c7d2-01
2022-04-21T16:17:14.897Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:14.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-62e81fe847b0350e144923087d8b5ca32002d501-d2d8e31b2db4820c-01 outer:exit 2b-62e81fe847b0350e144923087d8b5ca32002d501-ca9b4c2bc9ed4c49-01
2022-04-21T16:17:14.900Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:14.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e8602dfadd8cc6b41eea78a6da524d58e2c56bc-47e05f2fe2b1bb05-01 outer:exit 2b-8e8602dfadd8cc6b41eea78a6da524d58e2c56bc-dfc3b4975a0caac4-01
2022-04-21T16:17:14.902Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:14.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-b095dfb547cd1b64d0f7e398562beaa9f6cc3ee7-f85d9531f21d4f9d-01 outer:exit 2b-b095dfb547cd1b64d0f7e398562beaa9f6cc3ee7-b9575ec7141f7ac9-01
2022-04-21T16:17:14.905Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:14.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffec25de6c1de6dad6f82d64038a483b72a7dfa2-c1f8958c2de7af94-01 outer:exit 2b-ffec25de6c1de6dad6f82d64038a483b72a7dfa2-279caee7c5028e5c-01
2022-04-21T16:17:14.907Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:14.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-1db6e7a803737ebf4193eef13f1c6763ea4cb5c9-c16f87709156ba06-01 outer:exit 2b-1db6e7a803737ebf4193eef13f1c6763ea4cb5c9-cecf1d1faf99980c-01
2022-04-21T16:17:14.909Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:14.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc05c044941da0c7291242443e4c3b673e808539-ae65334caa95179f-01 outer:exit 2b-fc05c044941da0c7291242443e4c3b673e808539-b1c72ab05a3af772-01
2022-04-21T16:17:14.912Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:14.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e8859cdfc96515defbb2b55e9611fcc7f0482b1-083204da530ca986-01 outer:exit 2b-4e8859cdfc96515defbb2b55e9611fcc7f0482b1-9416a457fcb8d5e5-01
2022-04-21T16:17:14.914Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:14.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-685f725aea0d8d1da5b7ee5ab6bc7838bf8408df-19caddcd99f5ea59-01 outer:exit 2b-685f725aea0d8d1da5b7ee5ab6bc7838bf8408df-7080d4ec23d89de9-01
2022-04-21T16:17:14.916Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:14.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d95ac2873ebac74ec8f15f9b7f5143ab2577a72-954a73cfc0401e6a-01 outer:exit 2b-2d95ac2873ebac74ec8f15f9b7f5143ab2577a72-ca533f4458cf989f-01
2022-04-21T16:17:14.919Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:14.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-4472b9e2f36a4a1c07818bfb6db011313af0e2d4-dea7d2e9064959c7-01 outer:exit 2b-4472b9e2f36a4a1c07818bfb6db011313af0e2d4-d5c9a42b3303b7f6-01
2022-04-21T16:17:14.921Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:14.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-8be969924911711d5f79eef51cbee394857445da-58061e2614b98a54-01 outer:exit 2b-8be969924911711d5f79eef51cbee394857445da-238d40b39252ae30-01
2022-04-21T16:17:14.924Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:14.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa6631f04578367c64c17ae61763a872a4e7d0dd-16d7f4e3ee0378d1-01 outer:exit 2b-aa6631f04578367c64c17ae61763a872a4e7d0dd-c67d20da16ef85db-01
2022-04-21T16:17:14.926Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:14.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a58a501fb0c15bdeb768a8ef9bf5c0fcdfc3cef-fcad8400d12600af-01 outer:exit 2b-3a58a501fb0c15bdeb768a8ef9bf5c0fcdfc3cef-b4e3712bb404192c-01
2022-04-21T16:17:14.934Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:14.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e51c7b292bd3e676dc00e26ed4f86927d6a5925-254ddad0e39a10b9-01 outer:exit 2b-8e51c7b292bd3e676dc00e26ed4f86927d6a5925-75323123d7da2491-01
2022-04-21T16:17:14.939Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:14.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8b124496847cede137d5544d78ceb3688b1596a-5413f3a976cc59a4-01 outer:exit 2b-d8b124496847cede137d5544d78ceb3688b1596a-355b4a327fc66355-01
2022-04-21T16:17:14.947Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:14.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfa9a048f65d0c887ed9fe63ba15dce793fd5e8b-25d464eb0c30c9cb-01 outer:exit 2b-dfa9a048f65d0c887ed9fe63ba15dce793fd5e8b-037feed456674b33-01
2022-04-21T16:17:14.953Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:14.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-a64a6c542f0b211231838b7b316482aa22ee159a-f34216525e66c87f-01 outer:exit 2b-a64a6c542f0b211231838b7b316482aa22ee159a-d4df65f31a45efe1-01
2022-04-21T16:17:14.955Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:14.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-514570bfd932854b859dd03c3f0f38738127bd2e-ad4de91e027049f7-01 outer:exit 2b-514570bfd932854b859dd03c3f0f38738127bd2e-45eeb7a6f10ff810-01
2022-04-21T16:17:14.958Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:14.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-0609165d6e398084a58adab367b8df033b3672cc-44c7d6e08c45a1ae-01 outer:exit 2b-0609165d6e398084a58adab367b8df033b3672cc-7a58957f30493f6f-01
2022-04-21T16:17:14.965Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:14.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-b73f7c1b95f642ed2ba7c240c5fb09a72346b86b-4e4efd5ed156d104-01 outer:exit 2b-b73f7c1b95f642ed2ba7c240c5fb09a72346b86b-9c28aa552ece6dfc-01
2022-04-21T16:17:14.967Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:14.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-9069ab39c58cf4ccba698833b70d9bff78534b26-c6ae88f83a1f7b58-01 outer:exit 2b-9069ab39c58cf4ccba698833b70d9bff78534b26-e1fe63d61c2e0a28-01
2022-04-21T16:17:14.969Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:14.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-863971a96687ad1daf9aa47ab02f07c4978c6c63-9f94a1858a774218-01 outer:exit 2b-863971a96687ad1daf9aa47ab02f07c4978c6c63-014e9c315c5093fa-01
2022-04-21T16:17:14.970Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:14.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-9282cb53a7243ec8f571d2dae44431a4cfa54072-02dc43e1afffdb88-01 outer:exit 2b-9282cb53a7243ec8f571d2dae44431a4cfa54072-ef03866f470acb45-01
2022-04-21T16:17:14.972Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:14.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-f86f9776ddd4d9fd16b209237ca1856b87ac7a50-01fb2152612137c4-01 outer:exit 2b-f86f9776ddd4d9fd16b209237ca1856b87ac7a50-dd39daf05be6a2d6-01
2022-04-21T16:17:14.974Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:14.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6462f572b982c802c99e12499e185e5c2e05110-ad94545e40cdfb00-01 outer:exit 2b-a6462f572b982c802c99e12499e185e5c2e05110-16558ae83bfe8774-01
2022-04-21T16:17:14.983Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:14.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea7864320c50dd4704c33330855dac159a4b00f5-eea7cfc2a8ca97cb-01 outer:exit 2b-ea7864320c50dd4704c33330855dac159a4b00f5-5227db1574a58ed6-01
2022-04-21T16:17:14.991Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:14.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7d331d48a23baff6e2f102c2d2c17000584b5da-5b32747f9fe8f271-01 outer:exit 2b-d7d331d48a23baff6e2f102c2d2c17000584b5da-b9b1816f0f2ca63b-01
2022-04-21T16:17:14.993Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:14.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-85b0e37af2e48a0dabbc5dbcaf8eb5b2d226459e-9f431165210a9117-01 outer:exit 2b-85b0e37af2e48a0dabbc5dbcaf8eb5b2d226459e-6b1f60f79a6932e7-01
2022-04-21T16:17:14.996Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:14.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-502a98533b3c7085061b09b06034879e848258e7-bc811aa6d2952ca8-01 outer:exit 2b-502a98533b3c7085061b09b06034879e848258e7-1bd4ddbb4e560207-01
2022-04-21T16:17:14.998Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:15.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-895e0f979689e26515ba5eb3cfa82a20af1702c5-5071c1332492344c-01 outer:exit 2b-895e0f979689e26515ba5eb3cfa82a20af1702c5-1a1b81c01f620ef1-01
2022-04-21T16:17:15.026Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (297ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.2
updated 1 package and audited 935 packages in 3.943s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:19.835Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:19.835Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:19.835Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:19.836Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:19.896Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:20.032Z appoptics:patching patched crypto 
2022-04-21T16:17:20.049Z appoptics:patching patched https 
2022-04-21T16:17:20.050Z appoptics:patching patched http 
2022-04-21T16:17:20.088Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:20.088Z appoptics:patching patched fs 
2022-04-21T16:17:20.112Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v14.19.1)
2022-04-21T16:17:20.117Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2022-04-21T16:17:20.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4f3d1a4d3021e26bc6881c25790cc57199d0f91-20fe5a79b1ea9bd5-01 outer:exit 2b-f4f3d1a4d3021e26bc6881c25790cc57199d0f91-c9c23b3a867addda-01
2022-04-21T16:17:20.169Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:20.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-731f4f098dd80cbc0856bd64e73f39482afb4650-eb87f2baeb853f06-01 outer:exit 2b-731f4f098dd80cbc0856bd64e73f39482afb4650-935aef00a507bde2-01
2022-04-21T16:17:20.220Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:20.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ddf0bb096e7641da9379e3ad75b36b7c54f8f10-345f7f18f4f566fd-01 outer:exit 2b-7ddf0bb096e7641da9379e3ad75b36b7c54f8f10-c098e6f902c7365e-01
2022-04-21T16:17:20.224Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:20.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-36c556501ea6838401070e6a85406d2577fa1ac9-c4860b9717d86995-01 outer:exit 2b-36c556501ea6838401070e6a85406d2577fa1ac9-cb80bd03dfdcc3ff-01
2022-04-21T16:17:20.229Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:20.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-7de383f0d8e503ef20117a0e1c817b278e2da0e5-fd0497159f31af27-01 outer:exit 2b-7de383f0d8e503ef20117a0e1c817b278e2da0e5-d33027c4459647dd-01
2022-04-21T16:17:20.233Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:20.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-deb7c9084cadd5e4528b0ca5baeda2337aa09ae9-3f97c23b5538a5b8-01 outer:exit 2b-deb7c9084cadd5e4528b0ca5baeda2337aa09ae9-783664a150494cec-01
2022-04-21T16:17:20.239Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:20.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-b60c3575cb450428001a058d758f6cf68e0a123b-facdd3c8bfc18b48-01 outer:exit 2b-b60c3575cb450428001a058d758f6cf68e0a123b-9c6dbb84b808ad1a-01
2022-04-21T16:17:20.242Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:20.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-73fd47abf6f9bc479c36f5934ba8cf74f52f21ba-8d6a69f0fd8bf102-01 outer:exit 2b-73fd47abf6f9bc479c36f5934ba8cf74f52f21ba-b3224089a3511881-01
2022-04-21T16:17:20.244Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:20.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e36987178b701e28f0e3e061347eb7b1af00432-ede7d7d347977904-01 outer:exit 2b-8e36987178b701e28f0e3e061347eb7b1af00432-acd82cd12ad6e6be-01
2022-04-21T16:17:20.247Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:20.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cd100e421a878482e17a896f395f1e43849285c-7976c475f6ceac51-01 outer:exit 2b-0cd100e421a878482e17a896f395f1e43849285c-454ccb54bb80db8c-01
2022-04-21T16:17:20.249Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:20.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-618bcc3a7142accff5a0ba893f28bfcc4827a9a5-3e3a62ec6d7a18a7-01 outer:exit 2b-618bcc3a7142accff5a0ba893f28bfcc4827a9a5-be5da2f9158c8dd2-01
2022-04-21T16:17:20.253Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:20.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7b57b009cd8b48c237042ba3811d99e7d2e141a-8305eeb7d42408f9-01 outer:exit 2b-f7b57b009cd8b48c237042ba3811d99e7d2e141a-c2936941e6723e56-01
2022-04-21T16:17:20.259Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:20.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e8e61ba7319916008dbda78a79055f270227085-7d8009d7be9d923b-01 outer:exit 2b-8e8e61ba7319916008dbda78a79055f270227085-51aa4ec93ba205cc-01
2022-04-21T16:17:20.277Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:20.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-9de69bad1621b98f9d7b181eeb7e9cf625635038-c98ff6db43e09765-01 outer:exit 2b-9de69bad1621b98f9d7b181eeb7e9cf625635038-4ccd6abb50299929-01
2022-04-21T16:17:20.313Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:20.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-9223c938543c0665051b3ea15479fe1ae82a46a9-739b678c81e6c313-01 outer:exit 2b-9223c938543c0665051b3ea15479fe1ae82a46a9-2ae3ba875344a029-01
2022-04-21T16:17:20.316Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:20.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-4872da9a83fb5c6afd055e494fe62bf96cf172d5-c0257659a4d23c8a-01 outer:exit 2b-4872da9a83fb5c6afd055e494fe62bf96cf172d5-7a794616ee0ffa54-01
2022-04-21T16:17:20.319Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:20.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-82ba1c0e14af4a63a19963535be8faa320a1f19e-5cf185e77b05fd44-01 outer:exit 2b-82ba1c0e14af4a63a19963535be8faa320a1f19e-3e93aed13e29700a-01
2022-04-21T16:17:20.322Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:20.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa3a1f7ec797fa6621631d4ecdb7507f878fe0a2-17ea64f277934d59-01 outer:exit 2b-aa3a1f7ec797fa6621631d4ecdb7507f878fe0a2-86dcab8de6227852-01
2022-04-21T16:17:20.324Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:20.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-b763c5463df037f86320dfeff8b794e40f7c93bc-1b34dcd35e89e105-01 outer:exit 2b-b763c5463df037f86320dfeff8b794e40f7c93bc-393353c7e0cbddb4-01
2022-04-21T16:17:20.326Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:20.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb99808a89cc7161be6d5c8830c64356b6d01c2c-5ff0ea8f4c1142d8-01 outer:exit 2b-fb99808a89cc7161be6d5c8830c64356b6d01c2c-29211ec3054d08e1-01
2022-04-21T16:17:20.328Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:20.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-21efa0a4b31baeeb1c6f449a1f11a2d008be3520-996953c141fe4df2-01 outer:exit 2b-21efa0a4b31baeeb1c6f449a1f11a2d008be3520-c1ad1d5a0d8bbd0b-01
2022-04-21T16:17:20.330Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:20.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ce868153c63c0f17b26a4f302ad66b0e95f6f20-0f8aaf459c7604d8-01 outer:exit 2b-1ce868153c63c0f17b26a4f302ad66b0e95f6f20-975e5c118d47ed06-01
2022-04-21T16:17:20.332Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:20.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee8ca02f469cd4c4b253b89305b8342af96b53af-9faf9ef8ba6f4941-01 outer:exit 2b-ee8ca02f469cd4c4b253b89305b8342af96b53af-ec8f1872cec79bb5-01
2022-04-21T16:17:20.335Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:20.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0be74ee707a6f1088eef509b0fed15f32ee592c-e2069a607f0267d1-01 outer:exit 2b-d0be74ee707a6f1088eef509b0fed15f32ee592c-8154641d87f45068-01
2022-04-21T16:17:20.337Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:20.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5303cbfdd299e574f4714adde57ebe7f8f96e8b-739691f25eed6598-01 outer:exit 2b-d5303cbfdd299e574f4714adde57ebe7f8f96e8b-9514802a85be191c-01
2022-04-21T16:17:20.339Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:20.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbc5db37046d55e9dc4676a925c83282f7da7b7f-2c976de932949806-01 outer:exit 2b-fbc5db37046d55e9dc4676a925c83282f7da7b7f-171b879c77e965ba-01
2022-04-21T16:17:20.342Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:20.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-2546f69b9dfbbc777303e7e9b4b1dcb0d68baac5-9d23021d8e757bdf-01 outer:exit 2b-2546f69b9dfbbc777303e7e9b4b1dcb0d68baac5-620100f3c5dd7dbc-01
2022-04-21T16:17:20.350Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:20.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-92c1bd65859e43b4467b61ec3e9ed37de809e319-8371fa01b5cace23-01 outer:exit 2b-92c1bd65859e43b4467b61ec3e9ed37de809e319-96f5ecee7b092ab6-01
2022-04-21T16:17:20.354Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:20.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-38176c8390bfe556dca586951da2efe8fba816e8-eba131da840b5b78-01 outer:exit 2b-38176c8390bfe556dca586951da2efe8fba816e8-abbda3c7845d1474-01
2022-04-21T16:17:20.362Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:20.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-a533246491f3f9687c5a3e2da34318b9895aa203-b6398bad5a52bba5-01 outer:exit 2b-a533246491f3f9687c5a3e2da34318b9895aa203-1b9d9fbae8b6e58b-01
2022-04-21T16:17:20.368Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:20.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebb83d933200c76a6ff55290136453cba2dbc683-b637b1b0598157dd-01 outer:exit 2b-ebb83d933200c76a6ff55290136453cba2dbc683-1a86def349038f1f-01
2022-04-21T16:17:20.370Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:20.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa172075d197798f8a247c0312d69e08043809ae-0d5d0ca983ca68e0-01 outer:exit 2b-fa172075d197798f8a247c0312d69e08043809ae-b5f3141878ea3ea6-01
2022-04-21T16:17:20.373Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:20.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-c26f623338ee0b06c448c6794ccd7171a120a2e0-d7634575f5c18926-01 outer:exit 2b-c26f623338ee0b06c448c6794ccd7171a120a2e0-0ed9448671f1eb92-01
2022-04-21T16:17:20.379Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:20.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-2df246791cf590eb57b8f0d02c129b6a02b25758-8048cf0196f621a8-01 outer:exit 2b-2df246791cf590eb57b8f0d02c129b6a02b25758-2e1c60f1bc446843-01
2022-04-21T16:17:20.381Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:20.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-408113e474b0d78075c9f56f15bc650c603a6159-a333fdac10a8810e-01 outer:exit 2b-408113e474b0d78075c9f56f15bc650c603a6159-2ba1087d65309f51-01
2022-04-21T16:17:20.383Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:20.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dac716245ee00d35281fe1616a8201e56ad2d5e-2d0596e15bb98dd4-01 outer:exit 2b-4dac716245ee00d35281fe1616a8201e56ad2d5e-3fa16a8c835648da-01
2022-04-21T16:17:20.385Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:20.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-6effe0408e539243483b7dbf861d931051916067-f0afa31041b1f293-01 outer:exit 2b-6effe0408e539243483b7dbf861d931051916067-b8f03d61b17988f0-01
2022-04-21T16:17:20.387Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:20.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-67a519b19fcd2482b3e2279ed3d96897ce22a4cb-1002996bf53b6476-01 outer:exit 2b-67a519b19fcd2482b3e2279ed3d96897ce22a4cb-f270eaff53047fa2-01
2022-04-21T16:17:20.389Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:20.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-364392901ed3893d5d19c4978291d6ba3dd9d9f5-677cdb436a4e5b4f-01 outer:exit 2b-364392901ed3893d5d19c4978291d6ba3dd9d9f5-4361222ffef53867-01
2022-04-21T16:17:20.398Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:20.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-33b567e44eba6ae2c6bc232968f3ade0443a7745-e9164acbb6c04d54-01 outer:exit 2b-33b567e44eba6ae2c6bc232968f3ade0443a7745-99dbfb5cbf1413ed-01
2022-04-21T16:17:20.406Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:20.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-f479ad1b6dc9e7b04c11c5f64c07b344d5d8624b-bbb4481f5c248c01-01 outer:exit 2b-f479ad1b6dc9e7b04c11c5f64c07b344d5d8624b-7558e20a0fbe20e1-01
2022-04-21T16:17:20.409Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:20.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f2d6c81b32cf5114a2b4c5c23f934b0e5fb67c6-5484987aec929a94-01 outer:exit 2b-4f2d6c81b32cf5114a2b4c5c23f934b0e5fb67c6-2378363876b9a23c-01
2022-04-21T16:17:20.412Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:20.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-e92a7d56b428f7c960a18c7dad8f2ee1c3de8c67-d5a0fd97e221a466-01 outer:exit 2b-e92a7d56b428f7c960a18c7dad8f2ee1c3de8c67-f2dfe6134f57fbc8-01
2022-04-21T16:17:20.414Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:20.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b8aaed5020d6fd1ee57107c1f996676dfae99a6-451766b3a43b9ba1-01 outer:exit 2b-1b8aaed5020d6fd1ee57107c1f996676dfae99a6-ab6a1887467eb522-01
2022-04-21T16:17:20.440Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (316ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.3
updated 1 package and audited 935 packages in 4.637s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:26.026Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:26.027Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:26.027Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:26.029Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:26.102Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:26.307Z appoptics:patching patched crypto 
2022-04-21T16:17:26.357Z appoptics:patching patched https 
2022-04-21T16:17:26.359Z appoptics:patching patched http 
2022-04-21T16:17:26.412Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:26.412Z appoptics:patching patched fs 
2022-04-21T16:17:26.455Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v14.19.1)
2022-04-21T16:17:26.462Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2022-04-21T16:17:26.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-0feb73d28f2b4e4b951aae0bdf3aafbea60e030e-32f0a46b97c4e351-01 outer:exit 2b-0feb73d28f2b4e4b951aae0bdf3aafbea60e030e-438592be558ffab3-01
2022-04-21T16:17:26.519Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:26.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd931d6ce3bf7061e5a2e591d23239288ffd58b3-e2faafae94a98a30-01 outer:exit 2b-fd931d6ce3bf7061e5a2e591d23239288ffd58b3-16d147528279e763-01
2022-04-21T16:17:26.585Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:26.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-b06915fb3ba28a59d92e4b377701f7a283fdef30-28c4826cdfe5ef59-01 outer:exit 2b-b06915fb3ba28a59d92e4b377701f7a283fdef30-d77d0d77b8e029c3-01
2022-04-21T16:17:26.588Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:26.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-e42c95a27c850704a0dfa84d09da74af5bef7f9f-a22a04d11ae39add-01 outer:exit 2b-e42c95a27c850704a0dfa84d09da74af5bef7f9f-692f3f0560b26611-01
2022-04-21T16:17:26.591Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:26.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-a65a22ed35242cc75dd8e32f8e52df245aa7140e-99bcde999475ffe5-01 outer:exit 2b-a65a22ed35242cc75dd8e32f8e52df245aa7140e-5754cf80b36cdf59-01
2022-04-21T16:17:26.596Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:26.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-79c99f3510d8a7963f243dfc6feecbb93927cdd1-67f4137776a6f373-01 outer:exit 2b-79c99f3510d8a7963f243dfc6feecbb93927cdd1-eddcd7090d2ddfdd-01
2022-04-21T16:17:26.599Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:26.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-c35e53fcdba7050aeb6624187add7366656a4a6d-4b757ddafbeef5cb-01 outer:exit 2b-c35e53fcdba7050aeb6624187add7366656a4a6d-f284c221d8de2ac2-01
2022-04-21T16:17:26.601Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:26.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-abe6bd43c17df7dff9cff5e505daec5a50728a1c-a5c1c2c46036e3fe-01 outer:exit 2b-abe6bd43c17df7dff9cff5e505daec5a50728a1c-303242c0ba637cb8-01
2022-04-21T16:17:26.604Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:26.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-c274a7158be4aa532c0f43bd8342d33bc1062923-d76d419cd027cd6c-01 outer:exit 2b-c274a7158be4aa532c0f43bd8342d33bc1062923-a6df11679633b9fc-01
2022-04-21T16:17:26.606Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:26.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-964c850a9c0c307359b85a29fc3b00684c45335e-9416d26dfc0c8147-01 outer:exit 2b-964c850a9c0c307359b85a29fc3b00684c45335e-ef8532d8f599b347-01
2022-04-21T16:17:26.609Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:26.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-1102a47ab6d5535dd7a6b55dff37ad19581ac803-e5187d05385efbae-01 outer:exit 2b-1102a47ab6d5535dd7a6b55dff37ad19581ac803-e8bad365abc277c5-01
2022-04-21T16:17:26.613Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:26.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b6e9645703920eee9ede5e55d808ed4bedefab4-0248df2f62befc78-01 outer:exit 2b-1b6e9645703920eee9ede5e55d808ed4bedefab4-7768a4a18e3559ec-01
2022-04-21T16:17:26.618Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:26.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-9853536b8e1b2f6fa42cd309ca1f6e99f86d77e6-adc1605c2f3dc7a5-01 outer:exit 2b-9853536b8e1b2f6fa42cd309ca1f6e99f86d77e6-877f1c818bc1c31e-01
2022-04-21T16:17:26.633Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:26.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-386e8bf344f2f3e81cd9bfea1a9f6c7afc1a1a15-966cc848cb12949f-01 outer:exit 2b-386e8bf344f2f3e81cd9bfea1a9f6c7afc1a1a15-cc6a80f706cf5037-01
2022-04-21T16:17:26.673Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:26.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-e509632ff4f02efb063152661821c08ffd843e99-f691d36cba900504-01 outer:exit 2b-e509632ff4f02efb063152661821c08ffd843e99-3c586921df2bb946-01
2022-04-21T16:17:26.676Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:26.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e156acce5fdf37f3f45bb8c75eb0110f0b849be-26b795323d08cd9f-01 outer:exit 2b-0e156acce5fdf37f3f45bb8c75eb0110f0b849be-5882628161d3fe59-01
2022-04-21T16:17:26.679Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:26.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-19ed3c1f4eadea5f448c6a3a42ab558e9f861ae8-2f20ed8dac33177d-01 outer:exit 2b-19ed3c1f4eadea5f448c6a3a42ab558e9f861ae8-c0a6c83a9c1a8c21-01
2022-04-21T16:17:26.681Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:26.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6150aaf25bc75fc02383426adae5be0082fc23f-7197c0a6949ecbc7-01 outer:exit 2b-d6150aaf25bc75fc02383426adae5be0082fc23f-d005beaaa59cd0f6-01
2022-04-21T16:17:26.683Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:26.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b3a0161b17b11a54755832ec807ec22b865bbe9-3a1500c407741e51-01 outer:exit 2b-4b3a0161b17b11a54755832ec807ec22b865bbe9-7bb03522a3ec1a3d-01
2022-04-21T16:17:26.685Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:26.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dad7b8b37939f80f7571560505fffe3c072089a-aede9cb4e80c53ce-01 outer:exit 2b-7dad7b8b37939f80f7571560505fffe3c072089a-29cc613eb00a5bcf-01
2022-04-21T16:17:26.687Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:26.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-36339385271eedb51ba68b2e75fafcd98c2bb83e-8e3e414ac2f1a92f-01 outer:exit 2b-36339385271eedb51ba68b2e75fafcd98c2bb83e-8a4bc3ddebba5d4c-01
2022-04-21T16:17:26.689Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:26.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-0946933e2d698f80dd2dc301f644dbb760f34d54-0a4aca07611a1440-01 outer:exit 2b-0946933e2d698f80dd2dc301f644dbb760f34d54-0c8def034bbfdcbf-01
2022-04-21T16:17:26.691Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:26.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-521f283c10b3ebebb0bcfad75fbe1f9e48327655-d0a7c015cab9f208-01 outer:exit 2b-521f283c10b3ebebb0bcfad75fbe1f9e48327655-7905e298883d45be-01
2022-04-21T16:17:26.694Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:26.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc47e786c29d6b667d675965f432db14732f34ef-1578c4c4d291762c-01 outer:exit 2b-fc47e786c29d6b667d675965f432db14732f34ef-4013f41e8f05cd6b-01
2022-04-21T16:17:26.697Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:26.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e63c7578da36e582af58d931376729014856acd-3b3004cd2cbb3e57-01 outer:exit 2b-8e63c7578da36e582af58d931376729014856acd-4b74b61ed69c0a95-01
2022-04-21T16:17:26.699Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:26.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-44fecf40b4e1644ba98c850bbfcdc7323856587f-a22bd88742d219ac-01 outer:exit 2b-44fecf40b4e1644ba98c850bbfcdc7323856587f-52b47faf78158566-01
2022-04-21T16:17:26.701Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:26.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce8b92190605fdba99ed03f1f0ad4a80c2cae2cc-7fa2e06b4da44704-01 outer:exit 2b-ce8b92190605fdba99ed03f1f0ad4a80c2cae2cc-ed994f7c9d597a93-01
2022-04-21T16:17:26.708Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:26.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-f338d80bd381f33c7655c7bacaca2f328446da85-cdd502443e02d2bd-01 outer:exit 2b-f338d80bd381f33c7655c7bacaca2f328446da85-44ed455d9fc6731b-01
2022-04-21T16:17:26.712Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:26.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6cbe16fdf68d0501ab114793b92aebaea2010f8-e6b69954b8fc17ed-01 outer:exit 2b-a6cbe16fdf68d0501ab114793b92aebaea2010f8-2d68ce8dc16d893e-01
2022-04-21T16:17:26.720Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:26.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4b226573e4b4c76df1454c4fea7432656201cd9-05a1d8e0ea10eaef-01 outer:exit 2b-c4b226573e4b4c76df1454c4fea7432656201cd9-081fefb77115784e-01
2022-04-21T16:17:26.726Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:26.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-240ad1cf772248edbde04824ce9be44c4ba6bea6-4f1edf73cf245b0b-01 outer:exit 2b-240ad1cf772248edbde04824ce9be44c4ba6bea6-24965377586f0edb-01
2022-04-21T16:17:26.729Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:26.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-0604ceea24f470b87532bbe4c3855a9651f26b30-6c29ca8f772c3cbe-01 outer:exit 2b-0604ceea24f470b87532bbe4c3855a9651f26b30-a1684f7eac8fa4e2-01
2022-04-21T16:17:26.731Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:26.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9cd904299221da3fb245862a7efb4c834101a86-83936094a17e8b83-01 outer:exit 2b-d9cd904299221da3fb245862a7efb4c834101a86-895db086443b35e6-01
2022-04-21T16:17:26.737Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:26.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-90ff42d4d170ef79d1a8b37b86886833c5a72ae1-4254316867059a68-01 outer:exit 2b-90ff42d4d170ef79d1a8b37b86886833c5a72ae1-5c405c03394337dd-01
2022-04-21T16:17:26.739Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:26.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-9afbed827af481bdded510fbffd9ed44af0cfedd-258b8b8fab311697-01 outer:exit 2b-9afbed827af481bdded510fbffd9ed44af0cfedd-e2da52b0ab1ba3de-01
2022-04-21T16:17:26.741Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:26.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f8e3429b505b018ad9773c3517a545eb1ae9e3b-46ec9977cc7eb0bb-01 outer:exit 2b-9f8e3429b505b018ad9773c3517a545eb1ae9e3b-94b35921cadaf08a-01
2022-04-21T16:17:26.744Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:26.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-3991c027ae9a59a505c14cc5150ba6a18430d7d2-294f83f6806432f7-01 outer:exit 2b-3991c027ae9a59a505c14cc5150ba6a18430d7d2-a70df23905eb62c1-01
2022-04-21T16:17:26.746Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:26.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcce25e9bbdd25148d7d2cb7b516ea3d5931a2f2-e05bc3f6c8d2aba3-01 outer:exit 2b-dcce25e9bbdd25148d7d2cb7b516ea3d5931a2f2-d6003f47964bea0a-01
2022-04-21T16:17:26.748Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:26.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c51ed965cde1438e175f87deb4601259d6c95a5-80d2728c3c30b582-01 outer:exit 2b-1c51ed965cde1438e175f87deb4601259d6c95a5-313ca72d7ddbd339-01
2022-04-21T16:17:26.756Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:26.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc0cd9626f8086a661f59825f9640413642e95b5-1855443d74dfebfb-01 outer:exit 2b-cc0cd9626f8086a661f59825f9640413642e95b5-54c83b421242001b-01
2022-04-21T16:17:26.764Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:26.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8f9e0b4ca26e4f25911a0554129590985d85687-737db1b10d78b32c-01 outer:exit 2b-d8f9e0b4ca26e4f25911a0554129590985d85687-b93015fab784970f-01
2022-04-21T16:17:26.767Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:26.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-3aa7959cc3bce6d765173c919ff0a661d49d03fd-cfea6aea24b17fbf-01 outer:exit 2b-3aa7959cc3bce6d765173c919ff0a661d49d03fd-973ac4cc218eb34a-01
2022-04-21T16:17:26.769Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:26.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-48a18c4316f5d8b5a75be159bf63e36912980e5d-c1600a12de40a902-01 outer:exit 2b-48a18c4316f5d8b5a75be159bf63e36912980e5d-bc34a9d32ec071d2-01
2022-04-21T16:17:26.772Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:26.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f494ced86bf62ea99bcfe4c995c2fcc781e6414-3bbd837228ab5e2a-01 outer:exit 2b-7f494ced86bf62ea99bcfe4c995c2fcc781e6414-aa55f23f2c77edef-01
2022-04-21T16:17:26.804Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (335ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.4
updated 1 package and audited 935 packages in 3.592s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:31.332Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:31.333Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:31.333Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:31.334Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:31.404Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:31.563Z appoptics:patching patched crypto 
2022-04-21T16:17:31.580Z appoptics:patching patched https 
2022-04-21T16:17:31.581Z appoptics:patching patched http 
2022-04-21T16:17:31.620Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:31.621Z appoptics:patching patched fs 
2022-04-21T16:17:31.643Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v14.19.1)
2022-04-21T16:17:31.649Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2022-04-21T16:17:31.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cbd62d43dabac02a381e371d5593ebe0a36a2a2-c0f528ff31213da6-01 outer:exit 2b-1cbd62d43dabac02a381e371d5593ebe0a36a2a2-c5c2f4fc3ce966f8-01
2022-04-21T16:17:31.691Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:31.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e532118f055d7e01b5a26347c97df24f066ae11-cd60f1790d218db1-01 outer:exit 2b-3e532118f055d7e01b5a26347c97df24f066ae11-a70c83139a31c24a-01
2022-04-21T16:17:31.733Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:31.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-5eecc281ed60bfb12d46ab4817bae54bb0df70de-ef20b1d5363793d9-01 outer:exit 2b-5eecc281ed60bfb12d46ab4817bae54bb0df70de-95e07eec64243765-01
2022-04-21T16:17:31.736Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:31.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-77196e9f28d2a002baa3810df60e3fcb6a8daf01-f3985b9d60a3259a-01 outer:exit 2b-77196e9f28d2a002baa3810df60e3fcb6a8daf01-631beeed96293a71-01
2022-04-21T16:17:31.741Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:31.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-65baf462f4e8e11fc5059a3ca9ecc4d7c8f68e8b-bb189f61c3c58d5a-01 outer:exit 2b-65baf462f4e8e11fc5059a3ca9ecc4d7c8f68e8b-776b9320271e81b0-01
2022-04-21T16:17:31.747Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:31.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-e38d48842c0330e7ce3602e4b34432168d9a76b1-485a81118b3ce347-01 outer:exit 2b-e38d48842c0330e7ce3602e4b34432168d9a76b1-9c05c29669f4af8b-01
2022-04-21T16:17:31.751Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:31.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fcd1358d7beb1e93b39aa5350abdfd5a3f8f33e-f19d077e922531a7-01 outer:exit 2b-6fcd1358d7beb1e93b39aa5350abdfd5a3f8f33e-89994050e6b1eb11-01
2022-04-21T16:17:31.754Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:31.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-95e80391bbefd4f2b7aa5731ca8171cef5443f89-1232130ee1028b23-01 outer:exit 2b-95e80391bbefd4f2b7aa5731ca8171cef5443f89-1200600d48f3e13c-01
2022-04-21T16:17:31.757Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:31.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-926ce75b86be67737bf2c51e7f07918d5ca571c8-00c8335a91a8f3fd-01 outer:exit 2b-926ce75b86be67737bf2c51e7f07918d5ca571c8-b79939eb9c225841-01
2022-04-21T16:17:31.759Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:31.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-46355d523b652473bae3b1350eddf00d4f2708a3-1f7bbbb915c32a60-01 outer:exit 2b-46355d523b652473bae3b1350eddf00d4f2708a3-c3a93254b724606d-01
2022-04-21T16:17:31.762Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:31.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cad83c56f8f8bc2d0a1d2894f478f7e361c03ac-80e9dc042e93a00a-01 outer:exit 2b-5cad83c56f8f8bc2d0a1d2894f478f7e361c03ac-20cf517f5a6b1af7-01
2022-04-21T16:17:31.766Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:31.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cfff0f9c996b1b7d0875b0d84c46e3e90baecca-3bd2edb1d83040a9-01 outer:exit 2b-1cfff0f9c996b1b7d0875b0d84c46e3e90baecca-2543e89a0797a83a-01
2022-04-21T16:17:31.772Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:31.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1e29ae480ca9df1f6654232a793398e9b39f9a7-49eb2e15ebfa3703-01 outer:exit 2b-d1e29ae480ca9df1f6654232a793398e9b39f9a7-4723922c99822446-01
2022-04-21T16:17:31.789Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:31.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-c97bbabb4f8a408b3d04db2c4a1aad299e62ddfc-c9176a20682694c4-01 outer:exit 2b-c97bbabb4f8a408b3d04db2c4a1aad299e62ddfc-61174634118c0071-01
2022-04-21T16:17:31.831Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:31.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-812c171509c1783edc75e33201b57651e52f336a-1faad9d7d42cc44d-01 outer:exit 2b-812c171509c1783edc75e33201b57651e52f336a-91214eb67f40c0ce-01
2022-04-21T16:17:31.833Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:31.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-3361ada4e7c0db8fc8a4f99d6033c83e040e105c-f7d6304da64deac7-01 outer:exit 2b-3361ada4e7c0db8fc8a4f99d6033c83e040e105c-2c9d80d69a8a2468-01
2022-04-21T16:17:31.836Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:31.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9200f87fdb0042aeba34d3ee8f87647bd5c17f5-08275ba9deab9f72-01 outer:exit 2b-a9200f87fdb0042aeba34d3ee8f87647bd5c17f5-75c595b9613988e7-01
2022-04-21T16:17:31.838Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:31.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-99ffc12caa0de3106bf01dbb2648f6d37346e3fd-0183593869e1189b-01 outer:exit 2b-99ffc12caa0de3106bf01dbb2648f6d37346e3fd-8781f053fc75f05a-01
2022-04-21T16:17:31.841Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:31.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc065a72c48566991f43a767b7d0fc084483f0d8-d76abd5f985071ae-01 outer:exit 2b-cc065a72c48566991f43a767b7d0fc084483f0d8-f8e4ceaff5e41a41-01
2022-04-21T16:17:31.843Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:31.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9e13ec2295afb9ec4be142f969d85eaf9f553cb-351a7dd9e894cebe-01 outer:exit 2b-b9e13ec2295afb9ec4be142f969d85eaf9f553cb-bd861477398449a5-01
2022-04-21T16:17:31.844Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:31.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-072e83299b5de78310a47c30a0d7569fc2bfc8f8-08e65a3d4cdd9e2c-01 outer:exit 2b-072e83299b5de78310a47c30a0d7569fc2bfc8f8-22e8ac001e360091-01
2022-04-21T16:17:31.846Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:31.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-edd1160d00b1c3ddf88f553dd9a977192e993f0b-2a8e086e75e2ebef-01 outer:exit 2b-edd1160d00b1c3ddf88f553dd9a977192e993f0b-75a91259779a6aa0-01
2022-04-21T16:17:31.849Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:31.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-8097ac076220d42efa8e3e23f098af3a3ef24820-7d993e7ddcad47c5-01 outer:exit 2b-8097ac076220d42efa8e3e23f098af3a3ef24820-15962965f78942e5-01
2022-04-21T16:17:31.851Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:31.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-8847d0351c872f40033d511abd36a9c30f4f06aa-fae197eda23b3ad1-01 outer:exit 2b-8847d0351c872f40033d511abd36a9c30f4f06aa-3e290792465a76e9-01
2022-04-21T16:17:31.854Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:31.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b77eb2395f245ce1fb8512301e500bc937591c0-5310fb53fe854d4f-01 outer:exit 2b-4b77eb2395f245ce1fb8512301e500bc937591c0-219cf16bdce729f4-01
2022-04-21T16:17:31.856Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:31.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8264517d3996155b3d6be4a80225130a3eb76dd-a43744be95cbef09-01 outer:exit 2b-a8264517d3996155b3d6be4a80225130a3eb76dd-b2cf7cb332ab6af5-01
2022-04-21T16:17:31.859Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:31.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-df7728e7716d131424b9686b4b6ed7e04b01fc8d-9a937ec8fdd08322-01 outer:exit 2b-df7728e7716d131424b9686b4b6ed7e04b01fc8d-1fe9605a0b5335b5-01
2022-04-21T16:17:31.866Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:31.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-85513efe515b62f520d4c8b83a9f07966bfa6b34-0b813405e7780163-01 outer:exit 2b-85513efe515b62f520d4c8b83a9f07966bfa6b34-1059929bbcf27fac-01
2022-04-21T16:17:31.870Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:31.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-08155d94d4124f2b28ec6344f79d91f24fdeb8b5-eb0edd0bdcb46da8-01 outer:exit 2b-08155d94d4124f2b28ec6344f79d91f24fdeb8b5-1a9ac4c0b3dfc4cb-01
2022-04-21T16:17:31.877Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:31.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-cda8862b27962782b5def042878cd7f42b169ddc-82c34960f1c5846e-01 outer:exit 2b-cda8862b27962782b5def042878cd7f42b169ddc-e73f1588978277ac-01
2022-04-21T16:17:31.884Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:31.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-43369f8d51bf34c81cd6e5898898ab6896496014-6523e533b96265d8-01 outer:exit 2b-43369f8d51bf34c81cd6e5898898ab6896496014-18addcbd2629b9a6-01
2022-04-21T16:17:31.886Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:31.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5e0f628cf9525d8fe883dd476da1cd1754a824a-72e20c8bf734a307-01 outer:exit 2b-a5e0f628cf9525d8fe883dd476da1cd1754a824a-6e8ac214325668d3-01
2022-04-21T16:17:31.889Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:31.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb054534768dc1882828f0d639da32fc00a6f6c0-2f132da103c4fbce-01 outer:exit 2b-bb054534768dc1882828f0d639da32fc00a6f6c0-f0cc2a722b6e4025-01
2022-04-21T16:17:31.896Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:31.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-51331e2eb3949d6177b2a3aec9f1af2e55ef5d59-e7ff6fa05de006c3-01 outer:exit 2b-51331e2eb3949d6177b2a3aec9f1af2e55ef5d59-d88843ae9f455a6d-01
2022-04-21T16:17:31.898Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:31.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-074c386491e319fe05d908b05b1b329909001a92-d8c49eb483205d9c-01 outer:exit 2b-074c386491e319fe05d908b05b1b329909001a92-57c17084cfe872e1-01
2022-04-21T16:17:31.900Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:31.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fbff4d4c2a4badf59998ccfdcea8190a4180f78-2d8891dca1305ef3-01 outer:exit 2b-5fbff4d4c2a4badf59998ccfdcea8190a4180f78-efae9b980280d320-01
2022-04-21T16:17:31.902Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:31.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-920b9aeb7dde69e9225fc0ad9399c7181233f9fe-17b972abfa47c85e-01 outer:exit 2b-920b9aeb7dde69e9225fc0ad9399c7181233f9fe-19d1fe78568f3ba5-01
2022-04-21T16:17:31.904Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:31.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-01556af9b66a8b6726b0fdc4e4551276576b3f1a-65c2cb6760cb8ce2-01 outer:exit 2b-01556af9b66a8b6726b0fdc4e4551276576b3f1a-504308b9af13091c-01
2022-04-21T16:17:31.906Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:31.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a4b323fd586043fab3e65c0f76df67f7e15b1b6-09a1a72ecde8aff0-01 outer:exit 2b-5a4b323fd586043fab3e65c0f76df67f7e15b1b6-0aeed97662d6c644-01
2022-04-21T16:17:31.914Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:31.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ccd21ec60d7c13d584d9f7c00e9467e8eb1f3c0-ad4c72ce70178177-01 outer:exit 2b-5ccd21ec60d7c13d584d9f7c00e9467e8eb1f3c0-b6378a1a2aab7ec9-01
2022-04-21T16:17:31.922Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:31.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-01351da23a9d204445ec2164a526b59ed4fabc26-1754ccbabce6a88e-01 outer:exit 2b-01351da23a9d204445ec2164a526b59ed4fabc26-496a27f2e8230dc2-01
2022-04-21T16:17:31.925Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:31.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b1de6278b4909a5434c7c39487d0b13c4312999-f938bef608bc59e3-01 outer:exit 2b-2b1de6278b4909a5434c7c39487d0b13c4312999-ce92649f9a2ef4a9-01
2022-04-21T16:17:31.928Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:31.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb93502b7dbae313874fbd884bcd5b68714beadf-acc7cb1c4bc2727e-01 outer:exit 2b-bb93502b7dbae313874fbd884bcd5b68714beadf-ac6e7fea27e871a6-01
2022-04-21T16:17:31.930Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:31.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b0550a34e16ee1a0f5964e8c1049160a6459f1d-04a952001397f406-01 outer:exit 2b-3b0550a34e16ee1a0f5964e8c1049160a6459f1d-a753b4164abf97ff-01
2022-04-21T16:17:31.956Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (300ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.5
updated 1 package and audited 935 packages in 3.874s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:36.746Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:36.747Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:36.751Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:36.752Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:36.819Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:36.971Z appoptics:patching patched crypto 
2022-04-21T16:17:37.019Z appoptics:patching patched https 
2022-04-21T16:17:37.019Z appoptics:patching patched http 
2022-04-21T16:17:37.055Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:37.056Z appoptics:patching patched fs 
2022-04-21T16:17:37.081Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v14.19.1)
2022-04-21T16:17:37.087Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2022-04-21T16:17:37.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-12c1e727fbc60de0606126530a879ff0d72452e9-4801f7c65d868cda-01 outer:exit 2b-12c1e727fbc60de0606126530a879ff0d72452e9-f941da47e37b64eb-01
2022-04-21T16:17:37.134Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:37.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d156ca014154f9aaccad7219650ec5e7e899f88-3abbc52fdc620417-01 outer:exit 2b-4d156ca014154f9aaccad7219650ec5e7e899f88-a32a2fb6edc91103-01
2022-04-21T16:17:37.179Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:37.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a4e8bf13019873ecd8d992679aad1c0bef55f43-5456f5838c3bb1b7-01 outer:exit 2b-1a4e8bf13019873ecd8d992679aad1c0bef55f43-9b4b7ad0467b8b13-01
2022-04-21T16:17:37.183Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:37.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-e076fd69a9d6f308c7cf37042ade608274e98e63-f0681dc227611119-01 outer:exit 2b-e076fd69a9d6f308c7cf37042ade608274e98e63-2425392d756cb750-01
2022-04-21T16:17:37.186Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:37.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7f2077e3082b995ab8d6aa7d7a9c10757a4a83c-5934fe3ae8d6d0ce-01 outer:exit 2b-d7f2077e3082b995ab8d6aa7d7a9c10757a4a83c-f8f987e4cc2a14a4-01
2022-04-21T16:17:37.192Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:37.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbc9d2c264f68acd24e90a192d5bd126c5ef6413-21b5fb7f2c815a4b-01 outer:exit 2b-dbc9d2c264f68acd24e90a192d5bd126c5ef6413-95ee9ff0e5425321-01
2022-04-21T16:17:37.195Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:37.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-b363ae1f59d0dd7d797d457781a50f99ef2dac43-d906c0246ee80145-01 outer:exit 2b-b363ae1f59d0dd7d797d457781a50f99ef2dac43-697ad1e7463bf850-01
2022-04-21T16:17:37.198Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:37.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-63de16d69dd92c0960a6d7e6d8dfcb0162f18976-2ad719561d488d43-01 outer:exit 2b-63de16d69dd92c0960a6d7e6d8dfcb0162f18976-a32d8dd9c15951ed-01
2022-04-21T16:17:37.205Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:37.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a9aab3ad19c419c248f4c6247a5a9f04d3fbb10-ebdb99746ffc8947-01 outer:exit 2b-1a9aab3ad19c419c248f4c6247a5a9f04d3fbb10-8327c3637a098f28-01
2022-04-21T16:17:37.208Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:37.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1378d1e047f86ed9304699fa852868420ac875d-112ad363751cef7a-01 outer:exit 2b-d1378d1e047f86ed9304699fa852868420ac875d-3cd8be7588a690bd-01
2022-04-21T16:17:37.212Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:37.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-794f243521cd8ef8456d999cc221f36d9eee5fbb-d84cca2f097bf813-01 outer:exit 2b-794f243521cd8ef8456d999cc221f36d9eee5fbb-f13cd01f968bc125-01
2022-04-21T16:17:37.219Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:37.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a5dd20579f079543bc4c0001cacd9316657738f-e8dc42f5039d01e5-01 outer:exit 2b-6a5dd20579f079543bc4c0001cacd9316657738f-7a73006c5d1061b2-01
2022-04-21T16:17:37.225Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:37.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-02c534b68db505809b81406b6fae372348e78296-0c4c92286a40d485-01 outer:exit 2b-02c534b68db505809b81406b6fae372348e78296-6b57459a3e2c8881-01
2022-04-21T16:17:37.242Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:37.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-278f1aa6067a93e0e6377c269309eed902ed7118-139193f76e28a9d6-01 outer:exit 2b-278f1aa6067a93e0e6377c269309eed902ed7118-4ad39acc763df600-01
2022-04-21T16:17:37.288Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:37.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e63320da36171877dbc0d8aabc36c38dd764350-cbc73420594e4be6-01 outer:exit 2b-6e63320da36171877dbc0d8aabc36c38dd764350-d0cf4141274d7adf-01
2022-04-21T16:17:37.291Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:37.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a037ce3bcbf735a5b4c045f10625b81d4181a24-635dc0678ba78c92-01 outer:exit 2b-1a037ce3bcbf735a5b4c045f10625b81d4181a24-030e364478005242-01
2022-04-21T16:17:37.294Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:37.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c6a48e6f11c8c838c76dc4e0a1d74afef248873-84d13035dd43ca40-01 outer:exit 2b-8c6a48e6f11c8c838c76dc4e0a1d74afef248873-4e3c3bcc8d52da0a-01
2022-04-21T16:17:37.297Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:37.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-7aa9f824ca94ee4ca62b05bcf898a3d973743f09-66bf65dbc50dc020-01 outer:exit 2b-7aa9f824ca94ee4ca62b05bcf898a3d973743f09-c782f4970c631f99-01
2022-04-21T16:17:37.300Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:37.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-6492847935dc20e8f114d854977b0c5774b7363a-c8ef6944bc3a1d91-01 outer:exit 2b-6492847935dc20e8f114d854977b0c5774b7363a-a8d6728dce9ef2dc-01
2022-04-21T16:17:37.302Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:37.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e6850d7b2047109f660638529d6c129675ac067-ba22acde442df131-01 outer:exit 2b-3e6850d7b2047109f660638529d6c129675ac067-03265507d9f16f39-01
2022-04-21T16:17:37.304Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:37.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cf7a26d20c6c329a29eb4cb6dda64f8d7f257d5-f06a5db7489c9588-01 outer:exit 2b-5cf7a26d20c6c329a29eb4cb6dda64f8d7f257d5-206dbb94cf3cdaa8-01
2022-04-21T16:17:37.306Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:37.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a04a7da5ff15df2b509300af5adf5a2b70c3150-2cf47ee2dbde8980-01 outer:exit 2b-4a04a7da5ff15df2b509300af5adf5a2b70c3150-4e4b14f035ee724e-01
2022-04-21T16:17:37.308Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:37.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-26ecbdf2c747883c9be1239f5ad9bb7ac6c9b33e-c0e49651ffbd5363-01 outer:exit 2b-26ecbdf2c747883c9be1239f5ad9bb7ac6c9b33e-ae51546fe99be25e-01
2022-04-21T16:17:37.312Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:37.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-268fa758ef815d0258a5a150d7eab098ab486adf-4c7c83097e4dc3f6-01 outer:exit 2b-268fa758ef815d0258a5a150d7eab098ab486adf-06d904260ad5eb35-01
2022-04-21T16:17:37.315Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:37.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-c21d8801f24c5b42afce83d0f0f721c84ca9dd7d-543f49daea6c2235-01 outer:exit 2b-c21d8801f24c5b42afce83d0f0f721c84ca9dd7d-9535639373557f83-01
2022-04-21T16:17:37.318Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:37.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd80c139bb660bfd4117c2be0cde28a93905c91e-0188415ac1e863cd-01 outer:exit 2b-fd80c139bb660bfd4117c2be0cde28a93905c91e-e57b6acef46fafcd-01
2022-04-21T16:17:37.320Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:37.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fc8b60f1379033783182c1be84eda2482000f58-970a141a261c73d9-01 outer:exit 2b-2fc8b60f1379033783182c1be84eda2482000f58-955c8eaf2bc757bb-01
2022-04-21T16:17:37.327Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:37.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ba3f9f2f9864e0022f6fa46042fd55057c60b61-3ac28a58e7cc6ae2-01 outer:exit 2b-5ba3f9f2f9864e0022f6fa46042fd55057c60b61-f76f5f4447d28de6-01
2022-04-21T16:17:37.332Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:37.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad0c6e79d9dfde1c360b21c08879a9c4076c4f6d-ff89b92c5ba6166d-01 outer:exit 2b-ad0c6e79d9dfde1c360b21c08879a9c4076c4f6d-5a63db33e47a2e44-01
2022-04-21T16:17:37.343Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:37.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-757f94f07248bc77e3fbc4da38f9ee01bdde8477-fb3f6f34730d1bc7-01 outer:exit 2b-757f94f07248bc77e3fbc4da38f9ee01bdde8477-bded51614f8dc13e-01
2022-04-21T16:17:37.350Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:37.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd251c7cb260b37c6e7ee5becd45dddb0b220049-5487a768aea5a062-01 outer:exit 2b-bd251c7cb260b37c6e7ee5becd45dddb0b220049-54132c99d6992810-01
2022-04-21T16:17:37.352Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:37.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-b76374aa4908f2ad9186d174a1fd0e1b60e9221b-54e03aa100fcc879-01 outer:exit 2b-b76374aa4908f2ad9186d174a1fd0e1b60e9221b-30162a18e5279c77-01
2022-04-21T16:17:37.355Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:37.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbe67da616b697e91f7977ad3cefcc20a4e47a5b-68839b61a1d4be56-01 outer:exit 2b-fbe67da616b697e91f7977ad3cefcc20a4e47a5b-ea66249bad3af587-01
2022-04-21T16:17:37.365Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:37.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-6816909ee1ed2a691a9711f26e7a50435ed9a293-a5f82cdfa26e040c-01 outer:exit 2b-6816909ee1ed2a691a9711f26e7a50435ed9a293-09cd8e14dd5d7da2-01
2022-04-21T16:17:37.367Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:37.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-44e439fee9f2f59df57b950bef021d83abf3dd1b-1b1cda5450481efd-01 outer:exit 2b-44e439fee9f2f59df57b950bef021d83abf3dd1b-543c0b29792cc449-01
2022-04-21T16:17:37.369Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:37.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-6363015edcf3f9ae116ea89107437ab7a642f2e7-a6a63f2e7477824f-01 outer:exit 2b-6363015edcf3f9ae116ea89107437ab7a642f2e7-c9bfdab95676376a-01
2022-04-21T16:17:37.373Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:37.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-627b492e0e5f0b717f07ef36e012296d37ada028-597addb4c540f3ca-01 outer:exit 2b-627b492e0e5f0b717f07ef36e012296d37ada028-1183ee98c12c54ff-01
2022-04-21T16:17:37.375Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:37.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-dccce13b9fbcffa2c8c17972e9342385a5f9f66e-4bfd11792d5c4999-01 outer:exit 2b-dccce13b9fbcffa2c8c17972e9342385a5f9f66e-f36086d438d9eaf9-01
2022-04-21T16:17:37.377Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:37.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-b23d71059bb245387212df9dde58b6151dc73440-8f978bb39617d145-01 outer:exit 2b-b23d71059bb245387212df9dde58b6151dc73440-1e04366ae628db49-01
2022-04-21T16:17:37.389Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:37.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff052699ea10b9a0ebcf06eee744d805ba4e69e6-020309f444ff2c41-01 outer:exit 2b-ff052699ea10b9a0ebcf06eee744d805ba4e69e6-83f7296181476231-01
2022-04-21T16:17:37.398Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:37.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fa76275a7ded3890ea5c658963660324493bf85-f0a8cbab4e9a03cc-01 outer:exit 2b-1fa76275a7ded3890ea5c658963660324493bf85-40ee336b6836926d-01
2022-04-21T16:17:37.402Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:37.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc3f8dad4fba8fc7bcf312bf6e6ad53349a15c7a-620f76382bc52d93-01 outer:exit 2b-dc3f8dad4fba8fc7bcf312bf6e6ad53349a15c7a-98578f653577ac5b-01
2022-04-21T16:17:37.405Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:37.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b4f98e7c420574783cbb802da0cf12a723e973d-33d759da9351b295-01 outer:exit 2b-1b4f98e7c420574783cbb802da0cf12a723e973d-2636be62080f9e66-01
2022-04-21T16:17:37.412Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:37.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-402de667c72c1fd79b0eae7b7d93e35c9c8fe91d-5c6e5db76263cb4c-01 outer:exit 2b-402de667c72c1fd79b0eae7b7d93e35c9c8fe91d-c0e8a20688333ec3-01
2022-04-21T16:17:37.446Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (353ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.6
updated 1 package and audited 935 packages in 4.138s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:42.610Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:42.611Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:42.611Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:42.612Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:42.670Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:42.803Z appoptics:patching patched crypto 
2022-04-21T16:17:42.822Z appoptics:patching patched https 
2022-04-21T16:17:42.823Z appoptics:patching patched http 
2022-04-21T16:17:42.862Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:42.863Z appoptics:patching patched fs 
2022-04-21T16:17:42.887Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v14.19.1)
2022-04-21T16:17:42.892Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2022-04-21T16:17:42.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9d3d7c209e2f1df0df985ddc26d84267baa5566-e70a8dec6ce2328f-01 outer:exit 2b-d9d3d7c209e2f1df0df985ddc26d84267baa5566-0f3c6600caa78e40-01
2022-04-21T16:17:42.934Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:42.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ced67e297b68e32dd83e465031c10ff9b367cae-1c8a1c6b3e5d1d7f-01 outer:exit 2b-0ced67e297b68e32dd83e465031c10ff9b367cae-3209b7116a17e991-01
2022-04-21T16:17:42.976Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:42.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-57a7725c8e69b94d036d63b7f83e64d78cb68db0-cefbba05bb675e25-01 outer:exit 2b-57a7725c8e69b94d036d63b7f83e64d78cb68db0-e60aa06b5c073d86-01
2022-04-21T16:17:42.979Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:42.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-c92ddb0ff2864e1c65308e323e60fc076d95b456-9e26a755a13326d9-01 outer:exit 2b-c92ddb0ff2864e1c65308e323e60fc076d95b456-bc9a54cf1374ecd1-01
2022-04-21T16:17:42.982Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:42.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-47eb7f0de3d256984cb5ac3a8276166a8e59ed52-b4160d0894d67a02-01 outer:exit 2b-47eb7f0de3d256984cb5ac3a8276166a8e59ed52-4d611175dacfdb7c-01
2022-04-21T16:17:42.987Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:42.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-35200667b4467f9d26a051c5b4945123cbf9cfc3-b20e95c8db5fdbd3-01 outer:exit 2b-35200667b4467f9d26a051c5b4945123cbf9cfc3-4a96b738cf38e25f-01
2022-04-21T16:17:42.990Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:42.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c2a7476e2779157ba40be2d92068a0f2c782c7b-5a1c2f0562ac8980-01 outer:exit 2b-2c2a7476e2779157ba40be2d92068a0f2c782c7b-160414191a2da27f-01
2022-04-21T16:17:42.993Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:42.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3c714186a2559d13bd9ea40b781f0e54fe684b0-80d9508e3e24b85a-01 outer:exit 2b-c3c714186a2559d13bd9ea40b781f0e54fe684b0-07a6b0457593bd27-01
2022-04-21T16:17:42.995Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:42.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-18042e43066984cb32217c61bfdaa3c6fe3bb23b-e214ff8299146c94-01 outer:exit 2b-18042e43066984cb32217c61bfdaa3c6fe3bb23b-fd5a079870ad3e5d-01
2022-04-21T16:17:42.997Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:43.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-72497e219a2f4ad2fdcace0d0be8896a9694aaca-b5a9c2033d8455ee-01 outer:exit 2b-72497e219a2f4ad2fdcace0d0be8896a9694aaca-f24a9317758b1e4b-01
2022-04-21T16:17:43.001Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:43.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-63d6b924a2cb1fe74f5a46406783071ebd59c4a6-b3c9cd76230e381c-01 outer:exit 2b-63d6b924a2cb1fe74f5a46406783071ebd59c4a6-46f3e87d3de5da99-01
2022-04-21T16:17:43.005Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:43.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-071aea782a3492d6195305675a031577d4740609-118b07f82fb4d1a4-01 outer:exit 2b-071aea782a3492d6195305675a031577d4740609-ff986257c05247a4-01
2022-04-21T16:17:43.011Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:43.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-b433c864e3d48504e3e989c125fe03f2d50809af-11c99b7b53ba485a-01 outer:exit 2b-b433c864e3d48504e3e989c125fe03f2d50809af-0b5276a68cde40a8-01
2022-04-21T16:17:43.025Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:43.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-27317f2df57f2fcb4f58636afd61f2061c6b6773-66391a38d00afc62-01 outer:exit 2b-27317f2df57f2fcb4f58636afd61f2061c6b6773-bd998657201ad7c5-01
2022-04-21T16:17:43.067Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:43.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-013576c34277446c28eb120ce090252ad23b14ea-af1ed0780a44ce57-01 outer:exit 2b-013576c34277446c28eb120ce090252ad23b14ea-8292f26e63942786-01
2022-04-21T16:17:43.071Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:43.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-68e42054867594e2a4a71434aadc66e7ae67b990-a8d98cb3aa200441-01 outer:exit 2b-68e42054867594e2a4a71434aadc66e7ae67b990-9beab9f70a57197a-01
2022-04-21T16:17:43.073Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:43.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-6243a09e5d1f61dde0eff94c89da89daa1dd2ef6-1d5cb96d863ce271-01 outer:exit 2b-6243a09e5d1f61dde0eff94c89da89daa1dd2ef6-59ea46fb6cb730bb-01
2022-04-21T16:17:43.077Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:43.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-b52c346661e6ea213ad989c06e9c209785e9fc55-b7a347ee708bcc44-01 outer:exit 2b-b52c346661e6ea213ad989c06e9c209785e9fc55-8abd14ca7cf0ee99-01
2022-04-21T16:17:43.080Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:43.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-158a03e8b277d6583ff0119036d361c18c3b2849-9f3bc373fe87ca38-01 outer:exit 2b-158a03e8b277d6583ff0119036d361c18c3b2849-7ddebaa4bc664695-01
2022-04-21T16:17:43.082Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:43.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-a72b94c4653ce8b399f0859c388038bd51ff5309-e67b8f1654cc834a-01 outer:exit 2b-a72b94c4653ce8b399f0859c388038bd51ff5309-dcd6f099d4a9e9b5-01
2022-04-21T16:17:43.084Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:43.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-da706354b90fcca8ec7e0b4cc2e511ebe47010b8-4ed9502cc53a76fb-01 outer:exit 2b-da706354b90fcca8ec7e0b4cc2e511ebe47010b8-0d6b1a67dabea5f0-01
2022-04-21T16:17:43.086Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:43.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-10f90496d69536328560bd9a7ebda14d4dfe590f-c16e2b5e09a57db3-01 outer:exit 2b-10f90496d69536328560bd9a7ebda14d4dfe590f-3e9f7206e0f00250-01
2022-04-21T16:17:43.090Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:43.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b12698a79c2680cb68cdb4bef4fc19970f30001-15803546aaad5b4e-01 outer:exit 2b-9b12698a79c2680cb68cdb4bef4fc19970f30001-f4ca6c58d087b1d4-01
2022-04-21T16:17:43.093Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:43.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee8c6b8f86e0596f15af36f08faed14f1f89a9a2-66434c158673e04a-01 outer:exit 2b-ee8c6b8f86e0596f15af36f08faed14f1f89a9a2-88d3e62aec8cf5b5-01
2022-04-21T16:17:43.097Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:43.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0ba2a32395c4c4f17d408c965993dda4703bae3-cda6ff599ee0bfbb-01 outer:exit 2b-b0ba2a32395c4c4f17d408c965993dda4703bae3-2f7e8fbc144f811f-01
2022-04-21T16:17:43.100Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:43.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ad1e31f4c1402f142cc05bc1344ac561cbec1be-3b64ea5fce8fc5d7-01 outer:exit 2b-1ad1e31f4c1402f142cc05bc1344ac561cbec1be-21f6a43fb522eff5-01
2022-04-21T16:17:43.102Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:43.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-c79418a4ea424d93b922c1b2c7533ad6e6927646-942f180a9f0c1ecf-01 outer:exit 2b-c79418a4ea424d93b922c1b2c7533ad6e6927646-aaba2c4c06d6b45f-01
2022-04-21T16:17:43.110Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:43.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-f87ab2aacee0119a4aeaade6b16eebbf5a0e1b4a-2b16d0c20363c36d-01 outer:exit 2b-f87ab2aacee0119a4aeaade6b16eebbf5a0e1b4a-c5ff595b59948d7b-01
2022-04-21T16:17:43.114Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:43.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f02e48e0450386d10c442331503f1211b2a977a-56eb6a82754b9582-01 outer:exit 2b-6f02e48e0450386d10c442331503f1211b2a977a-47c1a1b6b858f982-01
2022-04-21T16:17:43.124Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:43.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ea9af0edea26c153a1c7865f97cb638197c7ec7-dc9d0638ccb11b9b-01 outer:exit 2b-8ea9af0edea26c153a1c7865f97cb638197c7ec7-c57b7ee7d155b5b5-01
2022-04-21T16:17:43.131Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:43.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe70a60841ad4d5bbc27e9bded23d80bbb671b9a-84c8f49661dee711-01 outer:exit 2b-fe70a60841ad4d5bbc27e9bded23d80bbb671b9a-bb8c33d541a9e4fc-01
2022-04-21T16:17:43.134Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:43.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-4367026d77a4b1bfa557585abadb12dbe3a00635-70b7441883580e9f-01 outer:exit 2b-4367026d77a4b1bfa557585abadb12dbe3a00635-1e6c2e356a209797-01
2022-04-21T16:17:43.137Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:43.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-47fb5ad64d4b5b541a1b3141acf6a2f5fb495b88-7eb9c5655e1f26f6-01 outer:exit 2b-47fb5ad64d4b5b541a1b3141acf6a2f5fb495b88-5a3dd00bf611d7a2-01
2022-04-21T16:17:43.143Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:43.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-0151c26189f02729498e8bb3a64e388a4b3f86e3-4f29ca23796c8a78-01 outer:exit 2b-0151c26189f02729498e8bb3a64e388a4b3f86e3-9c901419c76f5638-01
2022-04-21T16:17:43.145Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:43.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b5a3f1b011e658901e6f9ee221474365b382f5b-90bd4943d5f0f0c6-01 outer:exit 2b-5b5a3f1b011e658901e6f9ee221474365b382f5b-81783a52e78bf466-01
2022-04-21T16:17:43.148Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:43.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6d5801092ae5a6001cab1497ef31b9b09df4f48-f6b8215cc9b417bb-01 outer:exit 2b-f6d5801092ae5a6001cab1497ef31b9b09df4f48-70c5bf1523970983-01
2022-04-21T16:17:43.150Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:43.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-94986ecab05db2ee73addfc1ef3357bd515b28a7-6c290b19136943f8-01 outer:exit 2b-94986ecab05db2ee73addfc1ef3357bd515b28a7-45c015dec07a4177-01
2022-04-21T16:17:43.152Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:43.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-a97759aaeea803b802ed69cd5973f9bb78e85966-6aed8e9185e17acd-01 outer:exit 2b-a97759aaeea803b802ed69cd5973f9bb78e85966-61d0deb2e445bb28-01
2022-04-21T16:17:43.155Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:43.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-bac7dc61432c08c091c6fc08534413cd67edbda3-9ebe37f7fb3a9fb3-01 outer:exit 2b-bac7dc61432c08c091c6fc08534413cd67edbda3-d4b1506f0a155e35-01
2022-04-21T16:17:43.167Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:43.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-89928f7ac60fafcc185884e9fb37d8fcf0547826-e8ec52cbff0a1b28-01 outer:exit 2b-89928f7ac60fafcc185884e9fb37d8fcf0547826-8d8c896ea0cea398-01
2022-04-21T16:17:43.175Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:43.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dff9daa0d7e0efa5c61ff02a78509a60ba5b36d-f00331c02f2975c4-01 outer:exit 2b-3dff9daa0d7e0efa5c61ff02a78509a60ba5b36d-4eeb5465a7744407-01
2022-04-21T16:17:43.178Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:43.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-d13b7997c2c694c946eb5dadc7597e8ece6d055b-d8f5f1368330c520-01 outer:exit 2b-d13b7997c2c694c946eb5dadc7597e8ece6d055b-1b61a9de7518b66b-01
2022-04-21T16:17:43.181Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:43.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-15fd5bfe69abbe0eb87a88a9f27b91054b151fa5-fef0249e9718a9c3-01 outer:exit 2b-15fd5bfe69abbe0eb87a88a9f27b91054b151fa5-7e1b9021920a5b02-01
2022-04-21T16:17:43.183Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:43.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-f68788761b779d7e45f74562736db5b90f6cbfc2-91c92b6f0b32e449-01 outer:exit 2b-f68788761b779d7e45f74562736db5b90f6cbfc2-6131bf33541b86d7-01
2022-04-21T16:17:43.208Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (309ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.7
updated 1 package and audited 935 packages in 4.212s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:48.292Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:48.293Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:48.293Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:48.293Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:48.352Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:48.485Z appoptics:patching patched crypto 
2022-04-21T16:17:48.502Z appoptics:patching patched https 
2022-04-21T16:17:48.502Z appoptics:patching patched http 
2022-04-21T16:17:48.542Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:48.542Z appoptics:patching patched fs 
2022-04-21T16:17:48.564Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v14.19.1)
2022-04-21T16:17:48.569Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2022-04-21T16:17:48.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e042819501c673c726bf82b7e929730f7eff8b9-a189fb90cb569f3a-01 outer:exit 2b-2e042819501c673c726bf82b7e929730f7eff8b9-ba7e7d81acdf9559-01
2022-04-21T16:17:48.611Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:48.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-56ae9bedb52d59772245ab3568bb3c1daf2760c5-6d73e0cf3f637dce-01 outer:exit 2b-56ae9bedb52d59772245ab3568bb3c1daf2760c5-f08a0bf71a25008f-01
2022-04-21T16:17:48.650Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:48.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-a69b912051e263c4ce2b9859715e0adb4bf1af9d-46dffc39e20125e2-01 outer:exit 2b-a69b912051e263c4ce2b9859715e0adb4bf1af9d-05a942c332d62da1-01
2022-04-21T16:17:48.654Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:48.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-305a522ac1911cc87a4b492c7cee765b63cbb348-64022211c329f638-01 outer:exit 2b-305a522ac1911cc87a4b492c7cee765b63cbb348-891d58b5898635a9-01
2022-04-21T16:17:48.657Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:48.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-eff83a5ecdb686c39dbda1254bdc420fc54937ee-6243392fc8cd8f87-01 outer:exit 2b-eff83a5ecdb686c39dbda1254bdc420fc54937ee-44286af59e3d75db-01
2022-04-21T16:17:48.661Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:48.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cdf8dac1bf069cf7843eb24ed7fb0c0d70d898b-a00fa908f364e220-01 outer:exit 2b-6cdf8dac1bf069cf7843eb24ed7fb0c0d70d898b-2447fe393debe647-01
2022-04-21T16:17:48.664Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:48.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d31fdb37a2b55d622348077e3ee826aef136143-fb248d31156fc952-01 outer:exit 2b-6d31fdb37a2b55d622348077e3ee826aef136143-332e9cd5223457d8-01
2022-04-21T16:17:48.667Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:48.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f6f8b49c481625eb5636dacdbda4b8d6e61a803-4b44c9c0494585f0-01 outer:exit 2b-9f6f8b49c481625eb5636dacdbda4b8d6e61a803-9d42e56f2e28aa98-01
2022-04-21T16:17:48.669Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:48.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b329b6bb7815bffcd52a395e27e3c903b0cf9e4-a2a5e1cad8cef560-01 outer:exit 2b-8b329b6bb7815bffcd52a395e27e3c903b0cf9e4-0a1045d9ebf29b2d-01
2022-04-21T16:17:48.672Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:48.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-b82ad825ee9e9b62c0bb4010990fc41d8fe27431-e350e004601ba90e-01 outer:exit 2b-b82ad825ee9e9b62c0bb4010990fc41d8fe27431-d85be2750c15117d-01
2022-04-21T16:17:48.675Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:48.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-e25d55a4c048d911ea95103c5f3c07c4582622c4-95c22e35f066a8c7-01 outer:exit 2b-e25d55a4c048d911ea95103c5f3c07c4582622c4-223f2613a1e07cc9-01
2022-04-21T16:17:48.678Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:48.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-b05afc97c3862593276ace86d44d551ff919a15c-185c837c962a54da-01 outer:exit 2b-b05afc97c3862593276ace86d44d551ff919a15c-f1f38665cd38cb3b-01
2022-04-21T16:17:48.684Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:48.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-220cf34d405851a680fffb382c7668cdb45e9ca2-998f25e870601eb7-01 outer:exit 2b-220cf34d405851a680fffb382c7668cdb45e9ca2-039af65781efb4e2-01
2022-04-21T16:17:48.699Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:48.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-96a72a37a14dbd27afb0fc07cddb96098c9900e9-484fe500a2dce325-01 outer:exit 2b-96a72a37a14dbd27afb0fc07cddb96098c9900e9-60937f8028c90f16-01
2022-04-21T16:17:48.735Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:48.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3dde29767bb7acaf2fef9452c84c75e5a9ebfa5-4e78f11fc45d909b-01 outer:exit 2b-a3dde29767bb7acaf2fef9452c84c75e5a9ebfa5-05509def95e22da7-01
2022-04-21T16:17:48.740Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:48.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-a30c1ca894be2cc74ac6018e3a5b570b18a03d0b-1e4b2a56ac9cbdd4-01 outer:exit 2b-a30c1ca894be2cc74ac6018e3a5b570b18a03d0b-7a3d9440061a5c99-01
2022-04-21T16:17:48.743Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:48.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-e58c034fa2880bffae4bb45653b178aa7b412dba-2dc48127bac2d4ab-01 outer:exit 2b-e58c034fa2880bffae4bb45653b178aa7b412dba-2288f7fab5becc5b-01
2022-04-21T16:17:48.745Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:48.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f961c9afbe975da2544d13d32a0e5fd16bb1665-84df0554d4022a02-01 outer:exit 2b-8f961c9afbe975da2544d13d32a0e5fd16bb1665-41dd83913f201d9f-01
2022-04-21T16:17:48.747Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:48.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-297955df318dad9443149f45a43fb76cfbda4399-dcea2a57d24b86c2-01 outer:exit 2b-297955df318dad9443149f45a43fb76cfbda4399-b5ac3121829a59b9-01
2022-04-21T16:17:48.749Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:48.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-b501d25a8dab0a58b84f5253d88e86256f22c61d-21cfb0086c3eedaa-01 outer:exit 2b-b501d25a8dab0a58b84f5253d88e86256f22c61d-8bb67a311c9d050f-01
2022-04-21T16:17:48.751Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:48.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca0e0401f752f48726a1017a905fd7f0f642c989-0b3bc696254a516b-01 outer:exit 2b-ca0e0401f752f48726a1017a905fd7f0f642c989-016633be66f012e0-01
2022-04-21T16:17:48.753Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:48.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-689e1b5b1ef1dcd1eff5f8e7d251f95a94a78a06-ba2f9b4641db0b5e-01 outer:exit 2b-689e1b5b1ef1dcd1eff5f8e7d251f95a94a78a06-ab79c01546e39712-01
2022-04-21T16:17:48.755Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:48.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-87e4fcd07984db85124e7cb6d926d6ffb183f9b7-fd936ea80e94e509-01 outer:exit 2b-87e4fcd07984db85124e7cb6d926d6ffb183f9b7-7fd33929a03ac6ff-01
2022-04-21T16:17:48.758Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:48.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-218bf5d9ff29445965f7cfb847301776d1600e50-b8e12ebbeb2768e4-01 outer:exit 2b-218bf5d9ff29445965f7cfb847301776d1600e50-58ea2e5a96aa9a59-01
2022-04-21T16:17:48.761Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:48.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c8fc2ffabbc85625e003974e6807187199daef5-736a810f7dbb7d05-01 outer:exit 2b-4c8fc2ffabbc85625e003974e6807187199daef5-89b66002bb7eaf44-01
2022-04-21T16:17:48.763Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:48.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-b85b4bee73e462b14801a7f41f5852484f4ab4e0-6dcf2b20fc7308dd-01 outer:exit 2b-b85b4bee73e462b14801a7f41f5852484f4ab4e0-8f08eb2c1be028d9-01
2022-04-21T16:17:48.765Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:48.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e9a03e218185dd14e8b38aa13b79143b4d0e427-cfe701f2568fbe62-01 outer:exit 2b-8e9a03e218185dd14e8b38aa13b79143b4d0e427-aef87d113022ba5b-01
2022-04-21T16:17:48.772Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:48.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-103209ef9bc0e5d74f0100b50976e27aec2ff16a-1f28e0dd93607ec4-01 outer:exit 2b-103209ef9bc0e5d74f0100b50976e27aec2ff16a-7a284c9138f762fc-01
2022-04-21T16:17:48.776Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:48.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-85ea921d075af636a91f032d1f22f64cba27631b-1efcc7f765871943-01 outer:exit 2b-85ea921d075af636a91f032d1f22f64cba27631b-1ec461c9b12da078-01
2022-04-21T16:17:48.784Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:48.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-9252d660ce8001c72d0ac2339aa8b52cf8b87959-d7f3ab85c7354088-01 outer:exit 2b-9252d660ce8001c72d0ac2339aa8b52cf8b87959-f784467c3c7b102d-01
2022-04-21T16:17:48.790Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:48.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-afe2b2afd1330dfe0aa2d81fc7a198b4e698c57b-d2abb4619d17231c-01 outer:exit 2b-afe2b2afd1330dfe0aa2d81fc7a198b4e698c57b-ec8cfb7e43870ab1-01
2022-04-21T16:17:48.792Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:48.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-25915288f80a0eea4614a1fe4922ab3985e537a5-3e627ad66a502254-01 outer:exit 2b-25915288f80a0eea4614a1fe4922ab3985e537a5-558efd701eff3ecf-01
2022-04-21T16:17:48.794Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:48.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-b00086146c61a226939fc0ae27448f6eaefe8831-fe677df2d0fb3999-01 outer:exit 2b-b00086146c61a226939fc0ae27448f6eaefe8831-28f079dc4da450d9-01
2022-04-21T16:17:48.801Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:48.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c1b493f0e3794c85c5cd516ee3114b98fb0d480-293e897231886f8a-01 outer:exit 2b-9c1b493f0e3794c85c5cd516ee3114b98fb0d480-8f9135ffa306fa52-01
2022-04-21T16:17:48.803Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:48.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-9026a7854d92248ac88dc3618b9854e695a7f0bb-593fc13dc64be603-01 outer:exit 2b-9026a7854d92248ac88dc3618b9854e695a7f0bb-791ade1ae566b41e-01
2022-04-21T16:17:48.805Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:48.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f06709db0508d7ccf7e3e54191c33a9a407eb2d-c6ca636d12323330-01 outer:exit 2b-5f06709db0508d7ccf7e3e54191c33a9a407eb2d-6821ea0a135dee72-01
2022-04-21T16:17:48.807Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:48.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-91ecf24de35877d81e8daa31412fd072fd3739cd-7130e9b5b64fd3b5-01 outer:exit 2b-91ecf24de35877d81e8daa31412fd072fd3739cd-5582608b1f5f0cc2-01
2022-04-21T16:17:48.809Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:48.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-c72d17a7c43bf12957905716f7ee55a62df2931a-86af87a70eacb0de-01 outer:exit 2b-c72d17a7c43bf12957905716f7ee55a62df2931a-34ca30091fe0e3a0-01
2022-04-21T16:17:48.811Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:48.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6d65d6e078baebc36dc13925975ad11cf7ec783-a4fe9d38bea5e83f-01 outer:exit 2b-a6d65d6e078baebc36dc13925975ad11cf7ec783-351e842a8a23672d-01
2022-04-21T16:17:48.820Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:48.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e3a2b8d75232fa250a233004dda563850e7bedb-fd3333f628d4a267-01 outer:exit 2b-6e3a2b8d75232fa250a233004dda563850e7bedb-173ce8ccf407f2d5-01
2022-04-21T16:17:48.831Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:48.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-59adcfb001574d431a5f9800794783b2523f77d3-baa04d25dae105ea-01 outer:exit 2b-59adcfb001574d431a5f9800794783b2523f77d3-264faa8553a7cd88-01
2022-04-21T16:17:48.834Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:48.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-a971ff34c91f9a1e73e7d3e2b20be794852f9113-d251d6520efd5091-01 outer:exit 2b-a971ff34c91f9a1e73e7d3e2b20be794852f9113-6542f4cc31f0ef12-01
2022-04-21T16:17:48.836Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:48.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-648c48b127d81868e8b35c0c3ce49c7d7f3ea22d-1ca72fd7d656ea5c-01 outer:exit 2b-648c48b127d81868e8b35c0c3ce49c7d7f3ea22d-0b6fe150945c81a3-01
2022-04-21T16:17:48.839Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:48.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-a27de57eeecc8961557fe2e2ebe26702ffca56f1-c7fc653e30f53ee5-01 outer:exit 2b-a27de57eeecc8961557fe2e2ebe26702ffca56f1-dcc6df5c3517219a-01
2022-04-21T16:17:48.864Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (288ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.8
updated 1 package and audited 935 packages in 4.615s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:54.510Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:54.511Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:54.511Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:54.511Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:54.567Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:54.703Z appoptics:patching patched crypto 
2022-04-21T16:17:54.720Z appoptics:patching patched https 
2022-04-21T16:17:54.720Z appoptics:patching patched http 
2022-04-21T16:17:54.759Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:54.759Z appoptics:patching patched fs 
2022-04-21T16:17:54.782Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v14.19.1)
2022-04-21T16:17:54.787Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2022-04-21T16:17:54.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-41681ba5bea61df08503f641be9301b45d098f6c-1a9b21018c1e3deb-01 outer:exit 2b-41681ba5bea61df08503f641be9301b45d098f6c-ed08db0ce0a33316-01
2022-04-21T16:17:54.829Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:54.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca9e29de8f873a5bb329088cd2a14cf4f6cbef7a-6b6cf79a92136676-01 outer:exit 2b-ca9e29de8f873a5bb329088cd2a14cf4f6cbef7a-a0a6c7ad9ea4068e-01
2022-04-21T16:17:54.871Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:54.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-99e53fb8ac84498e4c3c6f2f42519741a7d0173f-6675b1fbefacd57d-01 outer:exit 2b-99e53fb8ac84498e4c3c6f2f42519741a7d0173f-13f169b3e3e2ab3e-01
2022-04-21T16:17:54.875Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:54.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-24143d82ee6b9ed0d509c05d39e9d451c3f102e5-46e534f5530c660b-01 outer:exit 2b-24143d82ee6b9ed0d509c05d39e9d451c3f102e5-a35487dbc864bf21-01
2022-04-21T16:17:54.878Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:54.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6ee6332b2db019b409eba4e2cb59f5940759d8b-05205b322083444d-01 outer:exit 2b-c6ee6332b2db019b409eba4e2cb59f5940759d8b-bb6cd479c5233105-01
2022-04-21T16:17:54.882Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:54.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9f6ba0c8149e85515fa62b9f5ffee42dbecb93a-98a07485e6f80abd-01 outer:exit 2b-f9f6ba0c8149e85515fa62b9f5ffee42dbecb93a-59b3d12cf39cd922-01
2022-04-21T16:17:54.885Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:54.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e7c6f5226882f5ba1c0de06a2367835a9c7e562-379e07f7f996390f-01 outer:exit 2b-1e7c6f5226882f5ba1c0de06a2367835a9c7e562-61a5fb50006a3055-01
2022-04-21T16:17:54.888Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:54.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d39a7153c6b363b6181a83688f481b6bb0a1047-2a088023d5ee4abe-01 outer:exit 2b-2d39a7153c6b363b6181a83688f481b6bb0a1047-132ce7ab9d9dadea-01
2022-04-21T16:17:54.890Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:54.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3dddd39cd4b167a2da4b530f2c1c610702b267f-87c5ea2baa2a5873-01 outer:exit 2b-d3dddd39cd4b167a2da4b530f2c1c610702b267f-5c875264cadbcb1e-01
2022-04-21T16:17:54.893Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:54.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4d39ee4091241864c35b5e9ff55072fda992541-47089c2f9e91ac9e-01 outer:exit 2b-e4d39ee4091241864c35b5e9ff55072fda992541-61e18b2d85214f99-01
2022-04-21T16:17:54.896Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:54.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5389312c03a6cb3691afca1ee329fdea2662c0b-18d264eaef5951f7-01 outer:exit 2b-c5389312c03a6cb3691afca1ee329fdea2662c0b-0a5167d3d613ac6e-01
2022-04-21T16:17:54.899Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:54.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-02962b678bc8eb5455b22777e373ce7fc2d21fa6-c61c249c5e223b42-01 outer:exit 2b-02962b678bc8eb5455b22777e373ce7fc2d21fa6-1f68eafb1aa2f843-01
2022-04-21T16:17:54.906Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:54.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8dcb2fb64993306bb58d4daebef89d580db65ab-0b02743758da9512-01 outer:exit 2b-e8dcb2fb64993306bb58d4daebef89d580db65ab-6b04d0a579f308bd-01
2022-04-21T16:17:54.920Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:54.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ee216f7f1cde0bb3759d58812c8afbdaf0a1545-f7054df57e2ec7e8-01 outer:exit 2b-8ee216f7f1cde0bb3759d58812c8afbdaf0a1545-d29ac3a79c5c0f4f-01
2022-04-21T16:17:54.957Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:54.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c476690e0f704c20022a04a376aa7bf3fc2e616-5e67e454e3e8394b-01 outer:exit 2b-5c476690e0f704c20022a04a376aa7bf3fc2e616-3186882b497cc4a4-01
2022-04-21T16:17:54.962Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:54.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f0f12c26fe51261cd01b43d277e7af0ed08279d-df4523668fd1d3f3-01 outer:exit 2b-6f0f12c26fe51261cd01b43d277e7af0ed08279d-68f021eda3ba0846-01
2022-04-21T16:17:54.964Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:54.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-eba25fdb23f60d3e3da8c06f9bd46ad68f0329aa-59d63d4b2b546666-01 outer:exit 2b-eba25fdb23f60d3e3da8c06f9bd46ad68f0329aa-457007711eef8b1f-01
2022-04-21T16:17:54.967Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:54.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d8345728c2e05e285a4818547f984ba4b7a0c74-2b595df0ab158d45-01 outer:exit 2b-5d8345728c2e05e285a4818547f984ba4b7a0c74-5e74326a20643027-01
2022-04-21T16:17:54.969Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:54.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8e212788078feee5f93368f903280f685406c4d-85da62445bf37876-01 outer:exit 2b-f8e212788078feee5f93368f903280f685406c4d-6c50c635d799cd37-01
2022-04-21T16:17:54.971Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:54.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb83ab2e1808897c64bf95fc676b5c6eaa532d0f-38a8ef079141afc5-01 outer:exit 2b-fb83ab2e1808897c64bf95fc676b5c6eaa532d0f-ce2aaf65c61ebd7d-01
2022-04-21T16:17:54.973Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:54.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-920ccfa9907a8378cd50ec9bd741d8905705ea08-5499db8f05ec550c-01 outer:exit 2b-920ccfa9907a8378cd50ec9bd741d8905705ea08-18056ae4f078da5a-01
2022-04-21T16:17:54.975Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:54.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-be5988261439df9e27c7992df06a71994a495499-47383e3af36ec45b-01 outer:exit 2b-be5988261439df9e27c7992df06a71994a495499-23a9c6cba9982710-01
2022-04-21T16:17:54.977Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:54.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4b7841c93c2222f648f58305779858fa97a39ce-6749be8f5c0a7762-01 outer:exit 2b-f4b7841c93c2222f648f58305779858fa97a39ce-50875abcd4ea3dc6-01
2022-04-21T16:17:54.980Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:54.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-683510ce31c3491e540f1fd9aacda406c0248bb4-e201b684713a9685-01 outer:exit 2b-683510ce31c3491e540f1fd9aacda406c0248bb4-2a9dbde885366cef-01
2022-04-21T16:17:54.982Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:54.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e4af21872243f553b69e0d638bfd359087d3189-67c4e9a7206ac7f6-01 outer:exit 2b-0e4af21872243f553b69e0d638bfd359087d3189-faf49c413aa0de1c-01
2022-04-21T16:17:54.984Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:54.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-25b909141a86609ddc83a4af0a39e5909db796f2-d7a5e2facf4da65c-01 outer:exit 2b-25b909141a86609ddc83a4af0a39e5909db796f2-1a3ecfa8c72f117b-01
2022-04-21T16:17:54.987Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:54.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-36eb71a573b924f8e67d07d32735744ecbfd2be0-b93e08c76842e4b0-01 outer:exit 2b-36eb71a573b924f8e67d07d32735744ecbfd2be0-94785205e1385199-01
2022-04-21T16:17:54.995Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:55.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-b77f3b5043d0030201f6c25a6b1e1a122270f63a-f8cc4958c5d2b042-01 outer:exit 2b-b77f3b5043d0030201f6c25a6b1e1a122270f63a-8c6b09eae2729862-01
2022-04-21T16:17:55.000Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:55.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ee12fe3f22cd16e59302eab97f4b285a4524f9b-d95a5e9b21e915c6-01 outer:exit 2b-6ee12fe3f22cd16e59302eab97f4b285a4524f9b-728d0d30eecaa4fc-01
2022-04-21T16:17:55.009Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:55.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-540f779d2be6949f01f0cb4ea12b258584db000f-4f6cbb838a867434-01 outer:exit 2b-540f779d2be6949f01f0cb4ea12b258584db000f-1fea3aa3a52f188b-01
2022-04-21T16:17:55.015Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:55.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c1516d28e3b03fb49b0ced9d9ed1ac3c1a3dcde-9ecb1f862686b14d-01 outer:exit 2b-0c1516d28e3b03fb49b0ced9d9ed1ac3c1a3dcde-8fd534f3b4a1965b-01
2022-04-21T16:17:55.017Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:55.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fe12624746d02c9a1d51924d0969fe78eda9901-a25d64f700ba8f50-01 outer:exit 2b-6fe12624746d02c9a1d51924d0969fe78eda9901-6b9a4a794ac85a1d-01
2022-04-21T16:17:55.019Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:55.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-890c6d61a86a8cf8ffba3ebff03e4c1b9d8cf0c7-03438e131aa42235-01 outer:exit 2b-890c6d61a86a8cf8ffba3ebff03e4c1b9d8cf0c7-57fbeb6bd5618cfe-01
2022-04-21T16:17:55.025Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:55.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b18f6c2e84575c1c700fbef23d6820746cc2a95-4cd98c7fc75165f2-01 outer:exit 2b-8b18f6c2e84575c1c700fbef23d6820746cc2a95-f2d5bc552751ee93-01
2022-04-21T16:17:55.027Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:55.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-3010b309db20fa2f13a1ff1af43ff0c410d01249-71c12af52f8f5b1d-01 outer:exit 2b-3010b309db20fa2f13a1ff1af43ff0c410d01249-00063ca70020dceb-01
2022-04-21T16:17:55.029Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:55.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf73e28e11710bdeb5bf53539d853ccd1bd2f75e-f161d1340a27dd71-01 outer:exit 2b-bf73e28e11710bdeb5bf53539d853ccd1bd2f75e-5746c11a7887338b-01
2022-04-21T16:17:55.031Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:55.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe8fb6b53d0d643f833d04992c9640ebad3043e9-029972faa1f48339-01 outer:exit 2b-fe8fb6b53d0d643f833d04992c9640ebad3043e9-fe2553ce1318e8a5-01
2022-04-21T16:17:55.033Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:55.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa4eb45831b90d5e527be6bcd6e6a5497c93d33c-810adff7ab330b56-01 outer:exit 2b-aa4eb45831b90d5e527be6bcd6e6a5497c93d33c-21740936ead7949f-01
2022-04-21T16:17:55.035Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:55.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-25a3714866b719cc6f096cdc0432b52d077a6f9d-acba84eac07a08d1-01 outer:exit 2b-25a3714866b719cc6f096cdc0432b52d077a6f9d-3a3af2dbfe81227e-01
2022-04-21T16:17:55.043Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:55.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-7badcc65baed7c1f98b7bf8e697fc65818dadfcf-9f759d1fcb8ae709-01 outer:exit 2b-7badcc65baed7c1f98b7bf8e697fc65818dadfcf-f0ddd425b6269404-01
2022-04-21T16:17:55.051Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:55.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-febf17768561119f568a24c0f5d053171a600dd4-b8425992b51a27db-01 outer:exit 2b-febf17768561119f568a24c0f5d053171a600dd4-c7522dc8adae58b1-01
2022-04-21T16:17:55.053Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:55.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bc0a5ad48a4d614208ffbdb0454c6e19ff90217-d5159ce3e89c3f55-01 outer:exit 2b-7bc0a5ad48a4d614208ffbdb0454c6e19ff90217-9ca5aec1aaae0b4a-01
2022-04-21T16:17:55.056Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:55.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c24aefcf01a7ded8f0024c19437482967d8c740-a4b69106f542f0a8-01 outer:exit 2b-2c24aefcf01a7ded8f0024c19437482967d8c740-4cf8f8e32472bc80-01
2022-04-21T16:17:55.059Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:55.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-26ecd3b4c6a69ac6f21d31064cc4e35e78cd32d7-2bc74c5a8743d387-01 outer:exit 2b-26ecd3b4c6a69ac6f21d31064cc4e35e78cd32d7-cfe1c72603129dcc-01
2022-04-21T16:17:55.085Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (292ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.9
updated 1 package and audited 935 packages in 3.641s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:59.577Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:59.578Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:59.578Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:59.579Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:59.637Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:59.772Z appoptics:patching patched crypto 
2022-04-21T16:17:59.816Z appoptics:patching patched https 
2022-04-21T16:17:59.816Z appoptics:patching patched http 
2022-04-21T16:17:59.853Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:59.853Z appoptics:patching patched fs 
2022-04-21T16:17:59.876Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v14.19.1)
2022-04-21T16:17:59.882Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2022-04-21T16:17:59.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f7745ef39443a41c2251a285ec7b18f75f1206c-935b6b24c46bb0e2-01 outer:exit 2b-0f7745ef39443a41c2251a285ec7b18f75f1206c-a0359912e3201dfc-01
2022-04-21T16:17:59.927Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:59.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f62405773497905215c2add8944764eb87de364-063b25f013b3f7df-01 outer:exit 2b-3f62405773497905215c2add8944764eb87de364-a2ce26d251616f1a-01
2022-04-21T16:17:59.970Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:59.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-446b7c0630ed5fd4873568813b8fd2b9cfa50cf0-70a1c81005e77c7d-01 outer:exit 2b-446b7c0630ed5fd4873568813b8fd2b9cfa50cf0-f56e64626839f0e3-01
2022-04-21T16:17:59.973Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:59.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-c01e56d813cabfe1e2774127582c857b9ab195e4-7fd73fbbb52b0053-01 outer:exit 2b-c01e56d813cabfe1e2774127582c857b9ab195e4-b35795e96c51605c-01
2022-04-21T16:17:59.976Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:59.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-a124e6e2bd4604e3b503cbd9e2b8ba53fbaac00b-0ea3d5cb72a6b586-01 outer:exit 2b-a124e6e2bd4604e3b503cbd9e2b8ba53fbaac00b-5ae32864aa109a17-01
2022-04-21T16:17:59.980Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:59.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-43884dc41cfbfe3d28d7a7ff088e96304c23481c-a9237fddf0b2b564-01 outer:exit 2b-43884dc41cfbfe3d28d7a7ff088e96304c23481c-e2da8c352d7c9221-01
2022-04-21T16:17:59.983Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:59.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d368e6a8e0727f72d4a93868ff2b4c7ec31e653-99c4db7d48f3a156-01 outer:exit 2b-5d368e6a8e0727f72d4a93868ff2b4c7ec31e653-e52cbb81ea198e43-01
2022-04-21T16:17:59.986Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:59.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d159cb1dff30fc8543842a4fd171607281de259-4c7dee7112e783d8-01 outer:exit 2b-5d159cb1dff30fc8543842a4fd171607281de259-7b5ed72f088f2a80-01
2022-04-21T16:17:59.988Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:59.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb2691c05f3d7e4064fdf986c3ed4701e08db210-26d98e3d094ebbad-01 outer:exit 2b-cb2691c05f3d7e4064fdf986c3ed4701e08db210-b718de24955191d1-01
2022-04-21T16:17:59.991Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:59.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-f04ea9ff4ab661dff0efa818dfc28ba9731cc7fb-26ad7822e77784e5-01 outer:exit 2b-f04ea9ff4ab661dff0efa818dfc28ba9731cc7fb-39896cfcc6af3d8a-01
2022-04-21T16:17:59.994Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:59.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4d6def9e709488caa62c4b93135bbb25ad6b1fe-1770312398d8bf70-01 outer:exit 2b-b4d6def9e709488caa62c4b93135bbb25ad6b1fe-91f924f8921503ec-01
2022-04-21T16:17:59.997Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:00.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-820e82836781c60637ddcb551dba606d437a50a5-795c81337be1f6cb-01 outer:exit 2b-820e82836781c60637ddcb551dba606d437a50a5-2ac873c396fdefc2-01
2022-04-21T16:18:00.016Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:00.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-de55359b464f7592bbe9cd3af75feceefd4ad7bf-1790a9ebb01ab4b2-01 outer:exit 2b-de55359b464f7592bbe9cd3af75feceefd4ad7bf-3e8da1dfe2abef9c-01
2022-04-21T16:18:00.031Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:00.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3ea96dfac00d3feb6d8f232a68f3c3c4a5c2c1d-04498469ae359f4b-01 outer:exit 2b-a3ea96dfac00d3feb6d8f232a68f3c3c4a5c2c1d-8ff62d8713d8257c-01
2022-04-21T16:18:00.067Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:00.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-5686a60287f14eb344a1c6eeba5963c1634473b9-8cbdfc9377b9cab3-01 outer:exit 2b-5686a60287f14eb344a1c6eeba5963c1634473b9-37c890149753b6b7-01
2022-04-21T16:18:00.072Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:00.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-addade59ddddb76521baa73208c6be66e4840ddd-e45698711401959c-01 outer:exit 2b-addade59ddddb76521baa73208c6be66e4840ddd-7f2a38392678bce7-01
2022-04-21T16:18:00.075Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:00.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-873a4ba34eb5900c022a421a86a54d6f4bacc7d8-4a6c2f6a1620ebf8-01 outer:exit 2b-873a4ba34eb5900c022a421a86a54d6f4bacc7d8-3a1f95a7eadea2b3-01
2022-04-21T16:18:00.077Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:00.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca520434b80097525002652fadaf24f44991c9a8-f7ccb65399df3c1c-01 outer:exit 2b-ca520434b80097525002652fadaf24f44991c9a8-cd4105447d98de77-01
2022-04-21T16:18:00.079Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:00.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaf5b585be933ee6f213858932a99d754a599d8e-253a758b48297b93-01 outer:exit 2b-eaf5b585be933ee6f213858932a99d754a599d8e-d0852478e3689141-01
2022-04-21T16:18:00.081Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:00.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb8ecc4a0475455556274226fdbba84107214889-d2698729308a6340-01 outer:exit 2b-fb8ecc4a0475455556274226fdbba84107214889-8f285ba206b766b6-01
2022-04-21T16:18:00.083Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:00.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-453bf2a59d67b2526c54d2f4895fd95df9a481c9-79bc2dcfb4b55758-01 outer:exit 2b-453bf2a59d67b2526c54d2f4895fd95df9a481c9-9061bd92fa431f62-01
2022-04-21T16:18:00.085Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:00.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b1e755ed99bef7089f62cee8b0ed35e8916539e-5e73173dd2677395-01 outer:exit 2b-7b1e755ed99bef7089f62cee8b0ed35e8916539e-1a96730d8d841b52-01
2022-04-21T16:18:00.087Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:00.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa9c34ca6123f9bbc5334983e274c806348c0f5a-fb28d1a3dbe4efd8-01 outer:exit 2b-fa9c34ca6123f9bbc5334983e274c806348c0f5a-9816ee17c10984ca-01
2022-04-21T16:18:00.090Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:00.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1eba482bfc831f36ff461ab7f52b40f076dafc3-8f1fdfd921d09447-01 outer:exit 2b-f1eba482bfc831f36ff461ab7f52b40f076dafc3-ee03d15f63e7cd70-01
2022-04-21T16:18:00.093Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:00.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1eee95557e7f68a89652642f62d629fee03737a-4f14c6755106a0c4-01 outer:exit 2b-d1eee95557e7f68a89652642f62d629fee03737a-2bac3af97a629090-01
2022-04-21T16:18:00.095Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:00.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-e44b47aeaf966eed375e848c2e8cbb50e65fcad1-1f94625b9eb083ab-01 outer:exit 2b-e44b47aeaf966eed375e848c2e8cbb50e65fcad1-14ab93e36804430c-01
2022-04-21T16:18:00.097Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:00.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ce85f6b90d95ee76c48c0787fd16deaa47637a5-889e2863e3bc5c1b-01 outer:exit 2b-0ce85f6b90d95ee76c48c0787fd16deaa47637a5-2c1195674aeb7c77-01
2022-04-21T16:18:00.116Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:00.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-f69152dfca285d603b652f8d2fb4bdf9cd6811a6-253c4a8691bb594f-01 outer:exit 2b-f69152dfca285d603b652f8d2fb4bdf9cd6811a6-5e3742aaf6f149b0-01
2022-04-21T16:18:00.134Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:00.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b10b582cc675d493ae427e3e83abeb70818fafd-a065df909137165d-01 outer:exit 2b-3b10b582cc675d493ae427e3e83abeb70818fafd-307371c2beb6165f-01
2022-04-21T16:18:00.143Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:00.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-c363fb02bc57766a61abe78566767d4f5be1b4df-45c3bd9a60a1d7f9-01 outer:exit 2b-c363fb02bc57766a61abe78566767d4f5be1b4df-85e322d0af7869a1-01
2022-04-21T16:18:00.149Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:00.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-01e87dd878a5965343bc046b5cef778cbfbb825e-49f784cf78d15d5c-01 outer:exit 2b-01e87dd878a5965343bc046b5cef778cbfbb825e-f186d236a16236c5-01
2022-04-21T16:18:00.153Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:00.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcc93ba3f739e36d501db059165f6e5340fdd9c2-1d293f887c181523-01 outer:exit 2b-dcc93ba3f739e36d501db059165f6e5340fdd9c2-6872346776a331e8-01
2022-04-21T16:18:00.160Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:00.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-b91544e984f1f737f0a5dc0e4acb442f0d67e6e4-6047c0ccb970ea59-01 outer:exit 2b-b91544e984f1f737f0a5dc0e4acb442f0d67e6e4-6bc971276b46e9af-01
2022-04-21T16:18:00.167Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:00.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-050aed70768e9add4794eb06ddf4590b15e35e9e-7ca612807e8832b1-01 outer:exit 2b-050aed70768e9add4794eb06ddf4590b15e35e9e-5be21c90b5bc897d-01
2022-04-21T16:18:00.171Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:00.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bb2143f9871e0521e6722545502c67f1b631a35-a89926ce16b42ece-01 outer:exit 2b-0bb2143f9871e0521e6722545502c67f1b631a35-f3f424d42c45d9df-01
2022-04-21T16:18:00.173Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:00.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-88dc164eb51660a841467452f390b42195a3a973-523512f648daa598-01 outer:exit 2b-88dc164eb51660a841467452f390b42195a3a973-9029a3c4a220018e-01
2022-04-21T16:18:00.175Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:00.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-40c2b67773b14c05abaf689abdb562851a05bd0a-7c25c5fcbc5122cd-01 outer:exit 2b-40c2b67773b14c05abaf689abdb562851a05bd0a-76fbd55de3e96a98-01
2022-04-21T16:18:00.177Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:00.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8b62e25d6effac433abe69d9553b2ce5b7e1abc-4c89d71c923c3d4f-01 outer:exit 2b-d8b62e25d6effac433abe69d9553b2ce5b7e1abc-038e809e47ecba39-01
2022-04-21T16:18:00.182Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:00.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-32432eaa8ea2e61c23fcc97e0ba7b2a083ba2067-0648547627d32675-01 outer:exit 2b-32432eaa8ea2e61c23fcc97e0ba7b2a083ba2067-8e253d3f71839187-01
2022-04-21T16:18:00.191Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:00.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-e167f4c5653d210a7f4567b2c573610f8db0d484-2e02903793c59021-01 outer:exit 2b-e167f4c5653d210a7f4567b2c573610f8db0d484-59bdac4cb258bccb-01
2022-04-21T16:18:00.198Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:00.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-e98e71bc90b7a03e2e494cda188ba8fd0b8ef4be-3792bad9c5d96a2e-01 outer:exit 2b-e98e71bc90b7a03e2e494cda188ba8fd0b8ef4be-d450ef2de18bc4bc-01
2022-04-21T16:18:00.207Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:00.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-229e2579ab410d239a0a406ac8e24f599c38a37d-57e9b41ad0586232-01 outer:exit 2b-229e2579ab410d239a0a406ac8e24f599c38a37d-8fe19c3af5d8079b-01
2022-04-21T16:18:00.210Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:00.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-a00d1071e962adadee20be266671121ab39bf267-ad28521bcf99ef63-01 outer:exit 2b-a00d1071e962adadee20be266671121ab39bf267-9691e1b921b9a77d-01
2022-04-21T16:18:00.226Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:00.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-52d3bc6dc7e74cb8d6e8bc2c26f3d1ae032131e2-2619cf56ca58d453-01 outer:exit 2b-52d3bc6dc7e74cb8d6e8bc2c26f3d1ae032131e2-faef55d59180c057-01
2022-04-21T16:18:00.257Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (368ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.10
updated 1 package and audited 935 packages in 4.469s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:05.647Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:05.648Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:05.648Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:05.649Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:05.709Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:05.843Z appoptics:patching patched crypto 
2022-04-21T16:18:05.860Z appoptics:patching patched https 
2022-04-21T16:18:05.860Z appoptics:patching patched http 
2022-04-21T16:18:05.902Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:05.902Z appoptics:patching patched fs 
2022-04-21T16:18:05.924Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v14.19.1)
2022-04-21T16:18:05.929Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2022-04-21T16:18:05.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-144a21a2683406df8b9356efcee0531654a4948e-e5768f74048d9b9b-01 outer:exit 2b-144a21a2683406df8b9356efcee0531654a4948e-3c5067e392839a21-01
2022-04-21T16:18:05.972Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:06.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-e772525c040acfbcc3cc481ce4cfb53525d095a0-eb78530100cf55ad-01 outer:exit 2b-e772525c040acfbcc3cc481ce4cfb53525d095a0-645354c16f20bce1-01
2022-04-21T16:18:06.013Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:06.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f31a1592b17314c737b3550818f425e62358dd7-af35d7577a5e45da-01 outer:exit 2b-4f31a1592b17314c737b3550818f425e62358dd7-eb1d1baa78f17ddc-01
2022-04-21T16:18:06.017Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:06.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-a55eb7f59f3c9685f40367773abea20e6b0766f7-4fb29cb01f7e4f8f-01 outer:exit 2b-a55eb7f59f3c9685f40367773abea20e6b0766f7-94c3efe010924f8b-01
2022-04-21T16:18:06.020Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:06.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-33f01d657c6034c71555922cd658cf54215efaf6-7124796076ca8047-01 outer:exit 2b-33f01d657c6034c71555922cd658cf54215efaf6-ce108a09d352d330-01
2022-04-21T16:18:06.024Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:06.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fd38908517a5780031018ecdfd144441a2bfda0-75e474e79af4bd29-01 outer:exit 2b-3fd38908517a5780031018ecdfd144441a2bfda0-896c5ce7a0002bf6-01
2022-04-21T16:18:06.027Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:06.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec750029d15bb74c1f267d342d1505a74ef1a9b8-7f42315cd83dc0f2-01 outer:exit 2b-ec750029d15bb74c1f267d342d1505a74ef1a9b8-d22d073e985767f2-01
2022-04-21T16:18:06.030Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:06.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd2825a830b581e04effa94406e0bd9c7b305bb3-96471e30a7bff766-01 outer:exit 2b-cd2825a830b581e04effa94406e0bd9c7b305bb3-9dc0a1ced87be63f-01
2022-04-21T16:18:06.032Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:06.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-662a42052ba4f7a1621ca269fdc556e8e8f62102-ee627556a9e8d65d-01 outer:exit 2b-662a42052ba4f7a1621ca269fdc556e8e8f62102-c61f15140052f608-01
2022-04-21T16:18:06.035Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:06.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-39dff77e73b371a17efd2bb1e68bffcd17fe21f8-7f758ad0c7e9e339-01 outer:exit 2b-39dff77e73b371a17efd2bb1e68bffcd17fe21f8-3f1c0cecae971ca9-01
2022-04-21T16:18:06.038Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:06.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-231d59a538dddfe40fcceae5d785647a86edbb50-845fc6c07498202d-01 outer:exit 2b-231d59a538dddfe40fcceae5d785647a86edbb50-5167b213060d820a-01
2022-04-21T16:18:06.042Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:06.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfc77f12b25eed23bb39dcc7ea91ee956969b6d6-a1a1d4c78461dc94-01 outer:exit 2b-bfc77f12b25eed23bb39dcc7ea91ee956969b6d6-e2bfb80f5d889a4c-01
2022-04-21T16:18:06.048Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:06.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-4853366572e5c3a81e030db01b1c49e436a1de2f-e3ecde634d2feb71-01 outer:exit 2b-4853366572e5c3a81e030db01b1c49e436a1de2f-cf091e2bfbfb3548-01
2022-04-21T16:18:06.063Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:06.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbe8279458283e1b34536a0afa73256b9df272ac-844c4a071a2fd79c-01 outer:exit 2b-dbe8279458283e1b34536a0afa73256b9df272ac-39a12c791e81a7d3-01
2022-04-21T16:18:06.101Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:06.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-79170b6f7127d60d9949ad62fd3d1d67885bb46c-cba111f8e5c54df3-01 outer:exit 2b-79170b6f7127d60d9949ad62fd3d1d67885bb46c-114379cf8b903f84-01
2022-04-21T16:18:06.104Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:06.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-17b469a15c794634f63bf92dc84790518a2466c5-a1fa5a168e6ef717-01 outer:exit 2b-17b469a15c794634f63bf92dc84790518a2466c5-8d8fa49e55846297-01
2022-04-21T16:18:06.106Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:06.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc3bf7c5d8eb2036f44acb22c985b2b1c2e5df24-aa71212921c51f23-01 outer:exit 2b-dc3bf7c5d8eb2036f44acb22c985b2b1c2e5df24-4c56c4305ab5e754-01
2022-04-21T16:18:06.109Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:06.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba06ba6b7c51eae11206607f326549dd2c2fa410-1e3ba9eac08f4876-01 outer:exit 2b-ba06ba6b7c51eae11206607f326549dd2c2fa410-3f19a6d0f0bc085a-01
2022-04-21T16:18:06.111Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:06.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-b96348d9925a26bae6ec7baae9a3e9eb3c4bb364-dcea0a220714476b-01 outer:exit 2b-b96348d9925a26bae6ec7baae9a3e9eb3c4bb364-5344a567b1344fd5-01
2022-04-21T16:18:06.113Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:06.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-d13017fe5156bf86858a661b85b048d7714d40c8-412664eb69763009-01 outer:exit 2b-d13017fe5156bf86858a661b85b048d7714d40c8-94281434332728ae-01
2022-04-21T16:18:06.115Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:06.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-4717803d4e70e621c4abe55906c554b44c886a21-8e1d564db4753578-01 outer:exit 2b-4717803d4e70e621c4abe55906c554b44c886a21-52e60eef0416a0fd-01
2022-04-21T16:18:06.117Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:06.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-8821e840513bf557f089cf058cf141d56ce79a11-2e4d144e49292782-01 outer:exit 2b-8821e840513bf557f089cf058cf141d56ce79a11-5c7f457a12722f60-01
2022-04-21T16:18:06.121Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:06.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e6a0faa28d9dca704a6e8cba8b06cf9c06e2ed0-62be2f043b3f12ca-01 outer:exit 2b-1e6a0faa28d9dca704a6e8cba8b06cf9c06e2ed0-06e903cb9aa7aaa1-01
2022-04-21T16:18:06.124Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:06.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-459537ca592a46d8e06e3d7bda8b0a726fb62c19-d595c70fc443ed99-01 outer:exit 2b-459537ca592a46d8e06e3d7bda8b0a726fb62c19-b80cb0f9f004976e-01
2022-04-21T16:18:06.127Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:06.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-913fc4ccd0893c5befc7a6dd6c08146b127b766d-156dc51c14f2e5eb-01 outer:exit 2b-913fc4ccd0893c5befc7a6dd6c08146b127b766d-c4b38d78f29859b4-01
2022-04-21T16:18:06.129Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:06.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-310ae2757dc41afa21374db919143b04dddf4e5d-f5ceea020985214f-01 outer:exit 2b-310ae2757dc41afa21374db919143b04dddf4e5d-4f74b515d5fe8223-01
2022-04-21T16:18:06.132Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:06.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-2be8520d4dd5ca4293b3c22d41ae2705c3f5a12e-f3345838bde8fe28-01 outer:exit 2b-2be8520d4dd5ca4293b3c22d41ae2705c3f5a12e-4e69a52d96053884-01
2022-04-21T16:18:06.140Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:06.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7ffa2f74804f595dcb164a017c2dc1819d025e6-c832a9911cba6036-01 outer:exit 2b-c7ffa2f74804f595dcb164a017c2dc1819d025e6-56ff0c1b17767b8b-01
2022-04-21T16:18:06.144Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:06.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f508bd7cad39f10178a4d697c099c145779d0e3-ee66d37e91064e91-01 outer:exit 2b-9f508bd7cad39f10178a4d697c099c145779d0e3-f2f0d05eb584447a-01
2022-04-21T16:18:06.152Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:06.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-b46bddc3b8a97cb0741ff079c069b0524a4706ed-c868e7e5c7c44ae5-01 outer:exit 2b-b46bddc3b8a97cb0741ff079c069b0524a4706ed-8d0587a2a4aedff7-01
2022-04-21T16:18:06.157Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:06.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac74aa2bd0996ef9d5a99bed9dba42f86d9053cd-81c872f274310534-01 outer:exit 2b-ac74aa2bd0996ef9d5a99bed9dba42f86d9053cd-bc353d33b4654dea-01
2022-04-21T16:18:06.159Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:06.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-eef59126622c3573d441cd65a95ba607c2299f44-648d90af900edd95-01 outer:exit 2b-eef59126622c3573d441cd65a95ba607c2299f44-27d06b4d22eae39f-01
2022-04-21T16:18:06.162Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:06.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d5cd6f81b48b18f503316bbd1e9c5ee3eef590a-c622836773e5f918-01 outer:exit 2b-7d5cd6f81b48b18f503316bbd1e9c5ee3eef590a-14b8aacec0bbefe2-01
2022-04-21T16:18:06.169Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:06.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-c40ab93f8759a8140136012cc54cd7cfff3f2f30-295f82b55a7fd9ac-01 outer:exit 2b-c40ab93f8759a8140136012cc54cd7cfff3f2f30-4723341be2b4952f-01
2022-04-21T16:18:06.171Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:06.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-f749f1cdeabe6b5cac9649125c83eaa2c59387ef-98913fd005d1f6c6-01 outer:exit 2b-f749f1cdeabe6b5cac9649125c83eaa2c59387ef-e10821b7edc151b5-01
2022-04-21T16:18:06.173Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:06.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-8586c7f1bc21c8a3c9eaf81be53615ee0d37eecc-4cd94241d86410ca-01 outer:exit 2b-8586c7f1bc21c8a3c9eaf81be53615ee0d37eecc-13d1ee928e7308e4-01
2022-04-21T16:18:06.175Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:06.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8e41cf4224628731d65df2cdd746d7d836bb32b-dd6506474a20385c-01 outer:exit 2b-c8e41cf4224628731d65df2cdd746d7d836bb32b-7f91148a9f3d28c8-01
2022-04-21T16:18:06.177Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:06.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b16c645ffbb464c8253a71078578fab9a8573b1-3b9fa81f557c49f0-01 outer:exit 2b-5b16c645ffbb464c8253a71078578fab9a8573b1-f5bfa79fe0a9bbea-01
2022-04-21T16:18:06.179Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:06.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-d760cd0451faef54e3d8c9437af3f5b07663e6a4-c1c472e19f31ff48-01 outer:exit 2b-d760cd0451faef54e3d8c9437af3f5b07663e6a4-a7024c109c213175-01
2022-04-21T16:18:06.187Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:06.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e793e8188c4b1283cd3cb98af0fe94a6f92dc7d-31208660cb836d00-01 outer:exit 2b-2e793e8188c4b1283cd3cb98af0fe94a6f92dc7d-240f34cd6cb7151b-01
2022-04-21T16:18:06.195Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:06.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a1e679517b57fb8e2de241c7e3ea874ed0fae2b-5d7f2284bc02ee31-01 outer:exit 2b-2a1e679517b57fb8e2de241c7e3ea874ed0fae2b-44ffebabfa3eb180-01
2022-04-21T16:18:06.198Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:06.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-05087b17fb26eb40c42553bdd38c17213f59eafc-9c62924fb606ea9f-01 outer:exit 2b-05087b17fb26eb40c42553bdd38c17213f59eafc-87f9dd3eece5fbef-01
2022-04-21T16:18:06.200Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:06.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9125dc24ed437a6eb7941c7b56703879ed65a0b-c26b783935a84245-01 outer:exit 2b-a9125dc24ed437a6eb7941c7b56703879ed65a0b-3fa44b7af79248d8-01
2022-04-21T16:18:06.203Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:06.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-797f5d04055cfcec3ffc72950a67483521c7d1eb-d10fa60a006780e4-01 outer:exit 2b-797f5d04055cfcec3ffc72950a67483521c7d1eb-cd82ad707b42f0c4-01
2022-04-21T16:18:06.228Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (293ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.11
updated 1 package and audited 935 packages in 3.595s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:10.712Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:10.713Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:10.713Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:10.713Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:10.773Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:10.931Z appoptics:patching patched crypto 
2022-04-21T16:18:10.967Z appoptics:patching patched https 
2022-04-21T16:18:10.967Z appoptics:patching patched http 
2022-04-21T16:18:11.006Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:11.006Z appoptics:patching patched fs 
2022-04-21T16:18:11.040Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v14.19.1)
2022-04-21T16:18:11.045Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2022-04-21T16:18:11.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-35f0da1b0297db3927b9f2784911f9a7f63a93fd-c7cef88eb6b1b89d-01 outer:exit 2b-35f0da1b0297db3927b9f2784911f9a7f63a93fd-8bd8f6db57b62ff1-01
2022-04-21T16:18:11.093Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:11.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0869ca6e3521db387396bbb900b53642b646cc9-c5ba4c951a341947-01 outer:exit 2b-f0869ca6e3521db387396bbb900b53642b646cc9-50599bc7acbd07b3-01
2022-04-21T16:18:11.134Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:11.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-24710344625e85d64ec8448621e30a9dd31225d8-5d6367719b81d012-01 outer:exit 2b-24710344625e85d64ec8448621e30a9dd31225d8-4bba6ae22cf5441d-01
2022-04-21T16:18:11.138Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:11.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3908979501e58d1406b3be86579aba15941992f-2fb5c2684748e110-01 outer:exit 2b-e3908979501e58d1406b3be86579aba15941992f-00b683b3bfe1ba0b-01
2022-04-21T16:18:11.142Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:11.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2a4aa882723845cc2f9050439e0db7024e14913-e9afec27a1d30cf3-01 outer:exit 2b-a2a4aa882723845cc2f9050439e0db7024e14913-d878a267ab199c4f-01
2022-04-21T16:18:11.148Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:11.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-f78dff1c94011e41d4aae51b01a6a8481b000075-568087a14ca9a683-01 outer:exit 2b-f78dff1c94011e41d4aae51b01a6a8481b000075-e737fedcb96b7d74-01
2022-04-21T16:18:11.153Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:11.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3afd1235cc548215bfed6fd3a9b92a39c32a188-60845ef36b9d11fd-01 outer:exit 2b-a3afd1235cc548215bfed6fd3a9b92a39c32a188-0bf94a80e427247a-01
2022-04-21T16:18:11.156Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:11.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-66b3e795253a56678caefbdada6d27c306b00428-051618e48c0f6903-01 outer:exit 2b-66b3e795253a56678caefbdada6d27c306b00428-3d38717c8531fb2a-01
2022-04-21T16:18:11.159Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:11.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecb4426810fc6eed53c2bb293e29f7e8765b4454-880ffb88c6aa90cc-01 outer:exit 2b-ecb4426810fc6eed53c2bb293e29f7e8765b4454-67d414eb583fa5e7-01
2022-04-21T16:18:11.163Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:11.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-40fc7780d83a8af4f6d3b826609dca66759b5fac-e2d5c55e4e8d0c72-01 outer:exit 2b-40fc7780d83a8af4f6d3b826609dca66759b5fac-7dbbd49759496b02-01
2022-04-21T16:18:11.166Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:11.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e1e1edaf6bc28b1ed45837bc15165bb7e700e9a-8c8accf28e18e21a-01 outer:exit 2b-3e1e1edaf6bc28b1ed45837bc15165bb7e700e9a-589fbbdc84e367dd-01
2022-04-21T16:18:11.170Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:11.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-b77601452562972c7784999c4f5b5d99cd37c680-e107b7adfed8a14c-01 outer:exit 2b-b77601452562972c7784999c4f5b5d99cd37c680-a3f1698f4f13540a-01
2022-04-21T16:18:11.179Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:11.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-af3ab44ee1657a2cdb6c635c71457de5f208e0de-b791d78d03694986-01 outer:exit 2b-af3ab44ee1657a2cdb6c635c71457de5f208e0de-a441e071074c2a13-01
2022-04-21T16:18:11.196Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:11.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8a1f2caa5bcdc40dde42462799b017646c42d11-3e66342dacbafd78-01 outer:exit 2b-f8a1f2caa5bcdc40dde42462799b017646c42d11-c116547067f45bbf-01
2022-04-21T16:18:11.233Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:11.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-f538d3e0842656104fbb01e8211c2f2743f71d80-0c1a4c714f8de813-01 outer:exit 2b-f538d3e0842656104fbb01e8211c2f2743f71d80-d48e49648569606e-01
2022-04-21T16:18:11.240Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:11.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-95babfe475cf4fa41ebd250934afe8522f9886e3-7d72d9e07fab87d7-01 outer:exit 2b-95babfe475cf4fa41ebd250934afe8522f9886e3-debfffcdfe5acee2-01
2022-04-21T16:18:11.243Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:11.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8e3fc284b9dcbfecca8e25bf0df9521cab54125-7f5ff32322827363-01 outer:exit 2b-e8e3fc284b9dcbfecca8e25bf0df9521cab54125-6ad2f0f5afdf82d7-01
2022-04-21T16:18:11.247Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:11.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3e1baf8025531d2680df891e33f83bc0515afde-54e2760d15d948d5-01 outer:exit 2b-d3e1baf8025531d2680df891e33f83bc0515afde-93d470372fdd55a0-01
2022-04-21T16:18:11.249Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:11.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-659740556dc15ecbbfd7245cdb286fab3e3271c1-8d79c316e9757a73-01 outer:exit 2b-659740556dc15ecbbfd7245cdb286fab3e3271c1-e1d130fee1418b47-01
2022-04-21T16:18:11.251Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:11.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ef2e21beaa896ee3d6238a62603ee122821ff76-dd4be93169163b84-01 outer:exit 2b-0ef2e21beaa896ee3d6238a62603ee122821ff76-d02f4c90c5c82391-01
2022-04-21T16:18:11.255Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:11.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-be3934c763b748a9a59a5fe9f9bcc68dc3d85f57-1931e3768c633dd1-01 outer:exit 2b-be3934c763b748a9a59a5fe9f9bcc68dc3d85f57-01403a5252b5d497-01
2022-04-21T16:18:11.260Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:11.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-d86990f6619bd5f20e4322f13bff0ffd72e664eb-93ba20aa774461ca-01 outer:exit 2b-d86990f6619bd5f20e4322f13bff0ffd72e664eb-6ed9bb318abb61d9-01
2022-04-21T16:18:11.262Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:11.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a650b89b5b961a1cf2aa6a8c87aafa1848428c6-767c83b2053769ab-01 outer:exit 2b-5a650b89b5b961a1cf2aa6a8c87aafa1848428c6-731f1a330c2e635a-01
2022-04-21T16:18:11.265Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:11.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1c867f7db2edeac1e7d3cf31bdcf9ff195dd9f7-5e761d3bedf6f010-01 outer:exit 2b-f1c867f7db2edeac1e7d3cf31bdcf9ff195dd9f7-eceacbc14879a715-01
2022-04-21T16:18:11.269Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:11.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0f2b77e2c2d4c022d3db8f110d30f2d22fe4483-b3da1f1c8a705103-01 outer:exit 2b-d0f2b77e2c2d4c022d3db8f110d30f2d22fe4483-fa274c54b6f625df-01
2022-04-21T16:18:11.271Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:11.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-293b5dd0d373cebfd05e34ba95aeaa70d9a3782d-a44936efca5ebb82-01 outer:exit 2b-293b5dd0d373cebfd05e34ba95aeaa70d9a3782d-30dd7b93809c08a4-01
2022-04-21T16:18:11.274Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:11.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec79e52a5a6e5dfa7aab39f25e5c9556d4fb60bc-3e7b005f7eb10bcb-01 outer:exit 2b-ec79e52a5a6e5dfa7aab39f25e5c9556d4fb60bc-415e86096cbd1452-01
2022-04-21T16:18:11.282Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:11.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-97ff277c0b430763ed6d9fc29f9db055acc84ddc-18e70b9e2c44e929-01 outer:exit 2b-97ff277c0b430763ed6d9fc29f9db055acc84ddc-f8f06ae0391b94dd-01
2022-04-21T16:18:11.287Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:11.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcde0f131428b0a29b7189aa571745ee78f04a1c-64754cb0ce5a351e-01 outer:exit 2b-bcde0f131428b0a29b7189aa571745ee78f04a1c-ed77caac6f9817ca-01
2022-04-21T16:18:11.295Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:11.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-264b1e33fb856dda9386dc38fd8d4623bb511e30-63b2d3cd61f94916-01 outer:exit 2b-264b1e33fb856dda9386dc38fd8d4623bb511e30-d4f74c8fcedfeb53-01
2022-04-21T16:18:11.303Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:11.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-d09e808cfe2d03840fa94c145a24fa3df5e9d37f-799ba07ea842ae02-01 outer:exit 2b-d09e808cfe2d03840fa94c145a24fa3df5e9d37f-fd8be23035fa2b00-01
2022-04-21T16:18:11.306Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:11.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-64c013657858ab2b63b872e39241f7e5584041a8-a85b6ecd249b1315-01 outer:exit 2b-64c013657858ab2b63b872e39241f7e5584041a8-d2321db144c40080-01
2022-04-21T16:18:11.309Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:11.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-96020ea82afabc05136cc587644655eb11073a31-6f8886be6fcd4ac8-01 outer:exit 2b-96020ea82afabc05136cc587644655eb11073a31-50fc7c822b7984f5-01
2022-04-21T16:18:11.316Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:11.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-4868fd13a154fe42199c7c7b6f24f235bf4bd397-2b4f89c4479aa660-01 outer:exit 2b-4868fd13a154fe42199c7c7b6f24f235bf4bd397-b33c30006d5a13b9-01
2022-04-21T16:18:11.318Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:11.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e7ba749e6a59d03eb4c0fd7de69a49b75f98ef3-0f8386853cbd0e6d-01 outer:exit 2b-5e7ba749e6a59d03eb4c0fd7de69a49b75f98ef3-45cdedde7b03de6d-01
2022-04-21T16:18:11.320Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:11.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ebdc4df06e3c415e9f451d5fcbdc92c7d8a61c3-a4e84b178b565169-01 outer:exit 2b-4ebdc4df06e3c415e9f451d5fcbdc92c7d8a61c3-bed615d404b09c88-01
2022-04-21T16:18:11.322Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:11.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-163c2c8e7791f0254cb0c3023ea269eac5de09f3-da3bd41a31e29a8e-01 outer:exit 2b-163c2c8e7791f0254cb0c3023ea269eac5de09f3-e42a781f9a1ae8ef-01
2022-04-21T16:18:11.325Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:11.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd777a10cdcc4d4503510935e1c57b9e70961e94-8cfb9b8053ff8e7c-01 outer:exit 2b-cd777a10cdcc4d4503510935e1c57b9e70961e94-d72f405b8732db03-01
2022-04-21T16:18:11.327Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:11.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ef13e6f4ed395108c5fc98fded321ddf0ff79ca-a9cf55d6a76ffbfa-01 outer:exit 2b-6ef13e6f4ed395108c5fc98fded321ddf0ff79ca-55b2dbb6c2fe3797-01
2022-04-21T16:18:11.336Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:11.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-531a97bb230099d5ee80153b003328a98746db36-aa1d3154f332e653-01 outer:exit 2b-531a97bb230099d5ee80153b003328a98746db36-74028539000934ee-01
2022-04-21T16:18:11.345Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:11.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-68f69d29d58dbf168cac9ee19c9c46fd5f01f985-6c49ae12e31d99a7-01 outer:exit 2b-68f69d29d58dbf168cac9ee19c9c46fd5f01f985-7b087c439a3a69af-01
2022-04-21T16:18:11.348Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:11.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2dcf9c188901f41c0c1aba0c63e4cd2ff30e838-1c59996720b3d186-01 outer:exit 2b-e2dcf9c188901f41c0c1aba0c63e4cd2ff30e838-88192e99db6af18c-01
2022-04-21T16:18:11.350Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:11.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff9c54b26c7d653715e4513dd12952f7b4fedfd5-69051d11ddd0eb32-01 outer:exit 2b-ff9c54b26c7d653715e4513dd12952f7b4fedfd5-74499097c9981383-01
2022-04-21T16:18:11.353Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:11.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-218b308595d820be6873b0f1edba2b5e9d774ce4-8b218309ce73f817-01 outer:exit 2b-218b308595d820be6873b0f1edba2b5e9d774ce4-8a7b535e230e87d1-01
2022-04-21T16:18:11.380Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (329ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.12
updated 1 package and audited 935 packages in 4.221s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:16.556Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:16.557Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:16.557Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:16.558Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:16.619Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:16.774Z appoptics:patching patched crypto 
2022-04-21T16:18:16.791Z appoptics:patching patched https 
2022-04-21T16:18:16.792Z appoptics:patching patched http 
2022-04-21T16:18:16.831Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:16.831Z appoptics:patching patched fs 
2022-04-21T16:18:16.856Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v14.19.1)
2022-04-21T16:18:16.861Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2022-04-21T16:18:16.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d4044bf5276d9d1157a9d69eacd74d08366d76a-8c11842de1cc0792-01 outer:exit 2b-3d4044bf5276d9d1157a9d69eacd74d08366d76a-f8e0758b9ae7ccf8-01
2022-04-21T16:18:16.904Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:16.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-49534a2d4bca60c877cae7f1f1f0e169a4552a20-b056cab3d4591478-01 outer:exit 2b-49534a2d4bca60c877cae7f1f1f0e169a4552a20-809348d0dea07dae-01
2022-04-21T16:18:16.946Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:16.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-2da4f9e18c694835033567c08b8cb7d1d9ec0f59-672bf236150e96c2-01 outer:exit 2b-2da4f9e18c694835033567c08b8cb7d1d9ec0f59-b2ae9633eef7ad00-01
2022-04-21T16:18:16.949Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:16.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-e44ac1290345c98ed01b31888de2040b8977dfe9-0aa446c6a6bdbcfe-01 outer:exit 2b-e44ac1290345c98ed01b31888de2040b8977dfe9-5cad3dde4a167edc-01
2022-04-21T16:18:16.952Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:16.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dc1869364e5c5291a4f7dc6d0bbb1c5b9087bb3-770b2ca6b175f47a-01 outer:exit 2b-3dc1869364e5c5291a4f7dc6d0bbb1c5b9087bb3-1df953d23ce09c34-01
2022-04-21T16:18:16.957Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:16.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7bca75ac1eb9082832d3304f21e883b25689be4-7374612c1e744084-01 outer:exit 2b-d7bca75ac1eb9082832d3304f21e883b25689be4-d78b4564e43252fa-01
2022-04-21T16:18:16.960Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:16.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-41897e7cd98da33962deb3f0d5ff9eba222c544c-d2ba6144b2cd9907-01 outer:exit 2b-41897e7cd98da33962deb3f0d5ff9eba222c544c-22871532e31ac8b6-01
2022-04-21T16:18:16.963Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:16.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6d2d49acf72f6946bbf859e4a3ce0f8d053a38b-20f04a866ec8b2a5-01 outer:exit 2b-c6d2d49acf72f6946bbf859e4a3ce0f8d053a38b-8ef10a19e6d05d60-01
2022-04-21T16:18:16.965Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:16.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c527a1ead950e1a8103a7e418838a1ffc23a322-f7f498e4c14a4c6f-01 outer:exit 2b-7c527a1ead950e1a8103a7e418838a1ffc23a322-148839d3ee2e7b38-01
2022-04-21T16:18:16.968Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:16.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-3285f9d5f6d132a5fb5602664788b4e52e1d87a1-4dda55e86239644e-01 outer:exit 2b-3285f9d5f6d132a5fb5602664788b4e52e1d87a1-254a0ff033bec756-01
2022-04-21T16:18:16.970Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:16.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-21f557c051c16bcd1e927cb1bf17134b15055b98-54ca9ddfa6e7018d-01 outer:exit 2b-21f557c051c16bcd1e927cb1bf17134b15055b98-1a15e7714f585656-01
2022-04-21T16:18:16.974Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:16.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2713b7b43052908298b13ded435fa886ce038ec-25c63d6801463d8f-01 outer:exit 2b-a2713b7b43052908298b13ded435fa886ce038ec-a6eedd756b81d2c7-01
2022-04-21T16:18:16.980Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:16.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-babbc77c7896fbb7fc1b9f541e6c43966f833bbf-72a5fd69ba6b7819-01 outer:exit 2b-babbc77c7896fbb7fc1b9f541e6c43966f833bbf-95345954304634da-01
2022-04-21T16:18:16.993Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:17.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3c3a1d71ff5882c7a43777eb346abf1120283bb-fc60ca2390fe9a2b-01 outer:exit 2b-f3c3a1d71ff5882c7a43777eb346abf1120283bb-eb4b03b508635bbd-01
2022-04-21T16:18:17.034Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:17.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-c32504638eb9d497e288c45e0dc3d5367f8150e2-16071c0b689b0ade-01 outer:exit 2b-c32504638eb9d497e288c45e0dc3d5367f8150e2-f319fcacf178e982-01
2022-04-21T16:18:17.040Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:17.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-811add7cf7c738845011e8170fda501cb4711b5f-f2090cc0d614825e-01 outer:exit 2b-811add7cf7c738845011e8170fda501cb4711b5f-025143a3f21a1ac3-01
2022-04-21T16:18:17.043Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:17.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f745832cd17fa840cba552c9827585e80d8f5fe-9aab94b50f00d188-01 outer:exit 2b-5f745832cd17fa840cba552c9827585e80d8f5fe-ed263ad66f95a256-01
2022-04-21T16:18:17.046Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:17.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-c39d884be196dcbc966656e6d03d3af376158afe-f548f73e217dce5b-01 outer:exit 2b-c39d884be196dcbc966656e6d03d3af376158afe-f5cbe085e598da1a-01
2022-04-21T16:18:17.048Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:17.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa147a3280e11a3115d65962c58c79db0b8b3fdf-76e88439077452a3-01 outer:exit 2b-fa147a3280e11a3115d65962c58c79db0b8b3fdf-51f3d207dc131094-01
2022-04-21T16:18:17.050Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:17.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-8874f21509a0099ed87517088a73aecceaf69d30-32a28dd2f654c515-01 outer:exit 2b-8874f21509a0099ed87517088a73aecceaf69d30-0ca54464aabea157-01
2022-04-21T16:18:17.053Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:17.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-d75debe684d5e337d12d542732f10e2b7cdf1faf-3c125110c0441692-01 outer:exit 2b-d75debe684d5e337d12d542732f10e2b7cdf1faf-dceee2e5e8c07ea2-01
2022-04-21T16:18:17.055Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:17.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf9546ca79f391b7a731a1f2675273dbc9b94196-cee868af773bdc60-01 outer:exit 2b-bf9546ca79f391b7a731a1f2675273dbc9b94196-1dd5c3088ebcdf79-01
2022-04-21T16:18:17.059Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:17.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-a41583fedee4745abff282b291e31c8479323658-d77e6c1d989bc888-01 outer:exit 2b-a41583fedee4745abff282b291e31c8479323658-11e96cd6a38d0292-01
2022-04-21T16:18:17.065Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:17.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f059e13729bb5eb9d95c829fb8a155549b1a241-521d75cca460c1a8-01 outer:exit 2b-7f059e13729bb5eb9d95c829fb8a155549b1a241-9d94b0512e122f9f-01
2022-04-21T16:18:17.068Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:17.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-b88070ee0407f3923fa629344a5e2d9992739aef-e15bcd1637b9338c-01 outer:exit 2b-b88070ee0407f3923fa629344a5e2d9992739aef-c0ce393f1d348a26-01
2022-04-21T16:18:17.071Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:17.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-565b439144585a954cb9e24b1298fb88754f0db2-c8c7bcc4390f9a68-01 outer:exit 2b-565b439144585a954cb9e24b1298fb88754f0db2-a07042ee057b95f4-01
2022-04-21T16:18:17.073Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:17.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-689107b6e440bebfb75d129eb7c567e81c362c3f-ef6a8fc5c8a470f9-01 outer:exit 2b-689107b6e440bebfb75d129eb7c567e81c362c3f-1a16ea274f078738-01
2022-04-21T16:18:17.080Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:17.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a060f8dd3b5b4f8bc1ed5850a85093b31434ad7-d76baa5d1ca6ec95-01 outer:exit 2b-4a060f8dd3b5b4f8bc1ed5850a85093b31434ad7-d5b5002f87406085-01
2022-04-21T16:18:17.085Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:17.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-94b8bd0c346658e6ac62b6432c9f732702aac166-f0799b2ea614794c-01 outer:exit 2b-94b8bd0c346658e6ac62b6432c9f732702aac166-1ceb5eabfa06ad8b-01
2022-04-21T16:18:17.092Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:17.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-0470f6a3cc09eb59bc2480b0a1b5820fe6474b8a-e25dda919e69a93a-01 outer:exit 2b-0470f6a3cc09eb59bc2480b0a1b5820fe6474b8a-4ea2e30fcef3136e-01
2022-04-21T16:18:17.099Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:17.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bb8b691fb3940e5a5ef082a140420d132e5aa8f-60bc9ee604bcd783-01 outer:exit 2b-1bb8b691fb3940e5a5ef082a140420d132e5aa8f-27c90c654aed2585-01
2022-04-21T16:18:17.101Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:17.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-cac8678561bcb0bd1d44db88ecd4a958fe954adf-fb5f88c69c08af04-01 outer:exit 2b-cac8678561bcb0bd1d44db88ecd4a958fe954adf-f41b972b2cda119e-01
2022-04-21T16:18:17.104Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:17.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e095b99a3f3e1ccba9bd641d61966fca8006c2a-72a90e822e4cb73f-01 outer:exit 2b-9e095b99a3f3e1ccba9bd641d61966fca8006c2a-e3a6d8374ca675ff-01
2022-04-21T16:18:17.109Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:17.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-ead2d097c8ece1887e0d5b28833e75dd959098f1-3df83944db3f1c94-01 outer:exit 2b-ead2d097c8ece1887e0d5b28833e75dd959098f1-987b2cb022f50802-01
2022-04-21T16:18:17.111Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:17.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f21b160d4e8f54f5afd8019f56762e79d63fc23-cd7b089cced51d65-01 outer:exit 2b-7f21b160d4e8f54f5afd8019f56762e79d63fc23-d72041d8128d2395-01
2022-04-21T16:18:17.113Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:17.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-4be4dcaf01a3614463e38a0b3e6ae66d460569fa-bb95498e47ece074-01 outer:exit 2b-4be4dcaf01a3614463e38a0b3e6ae66d460569fa-2c003aeabb0b8bde-01
2022-04-21T16:18:17.115Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:17.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a20498807ece7eec22f27abdc01d1d0c62614d3-b2eb928a221d27f3-01 outer:exit 2b-5a20498807ece7eec22f27abdc01d1d0c62614d3-8ee0f71e4ccf284f-01
2022-04-21T16:18:17.117Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:17.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-49aff69182995f0208a073a469cf71486ef8f22a-e7a7d9c829dce987-01 outer:exit 2b-49aff69182995f0208a073a469cf71486ef8f22a-732d15915402ff2f-01
2022-04-21T16:18:17.119Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:17.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-721c04327d3115b4449ce6ba0f204e26a0570927-ae48e3b3e5c64c5a-01 outer:exit 2b-721c04327d3115b4449ce6ba0f204e26a0570927-a5b270e05837e862-01
2022-04-21T16:18:17.129Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:17.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7d2a1589bc4d77ece34ae5735a61614df2f0d60-a500d696245c5f58-01 outer:exit 2b-f7d2a1589bc4d77ece34ae5735a61614df2f0d60-40b51dda40d649fb-01
2022-04-21T16:18:17.137Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:17.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-780ee2f04efdc12e15619d09e0204cdb27bed434-b541c57794570595-01 outer:exit 2b-780ee2f04efdc12e15619d09e0204cdb27bed434-49279a5747daffda-01
2022-04-21T16:18:17.140Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:17.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-43929ffae02ba270f3c67822ade1c9d7d6c7fb33-6e4c18ef5136460b-01 outer:exit 2b-43929ffae02ba270f3c67822ade1c9d7d6c7fb33-0d87a733da0004d7-01
2022-04-21T16:18:17.143Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:17.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-54dca5831b91252b7cb047988cc657178797085d-22cd19be4e9042fd-01 outer:exit 2b-54dca5831b91252b7cb047988cc657178797085d-e3477d5710fbfbfb-01
2022-04-21T16:18:17.145Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:17.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d87747ab29c5965e433b9c9cc4146fa16936e48-f981901759094a6b-01 outer:exit 2b-4d87747ab29c5965e433b9c9cc4146fa16936e48-a4e263cf4f13f807-01
2022-04-21T16:18:17.172Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (304ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.13
updated 1 package and audited 935 packages in 3.62s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:21.679Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:21.680Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:21.680Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:21.680Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:21.766Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:21.912Z appoptics:patching patched crypto 
2022-04-21T16:18:21.949Z appoptics:patching patched https 
2022-04-21T16:18:21.950Z appoptics:patching patched http 
2022-04-21T16:18:21.993Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:21.993Z appoptics:patching patched fs 
2022-04-21T16:18:22.018Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v14.19.1)
2022-04-21T16:18:22.024Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2022-04-21T16:18:22.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5e9d0514dd124c8fafc6801f8de6643a4cfd4b8-fcec1f3207aaf320-01 outer:exit 2b-c5e9d0514dd124c8fafc6801f8de6643a4cfd4b8-e46fa79417393383-01
2022-04-21T16:18:22.073Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:22.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0faa622ad4b26eb5000d0c1454c83c11b8422da-72978b5490749df4-01 outer:exit 2b-c0faa622ad4b26eb5000d0c1454c83c11b8422da-068597955c8cc164-01
2022-04-21T16:18:22.115Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:22.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd210c306b3c1bbaefdca9f9646dce5bcb1c2538-535e26af60bf5fe1-01 outer:exit 2b-fd210c306b3c1bbaefdca9f9646dce5bcb1c2538-0dfbbef114eddd2a-01
2022-04-21T16:18:22.118Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:22.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-54a4fa54cb35a701f6ef3b45482a82167274c796-5ddbe6364ba531f5-01 outer:exit 2b-54a4fa54cb35a701f6ef3b45482a82167274c796-9437d1c705c0b3aa-01
2022-04-21T16:18:22.124Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:22.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3d627d7fd14eef7788346da40640f20a5eb2514-996d59dbe0ab6b24-01 outer:exit 2b-a3d627d7fd14eef7788346da40640f20a5eb2514-65e184f58536d7d5-01
2022-04-21T16:18:22.129Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:22.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-6474c4720e1143e51568261376e26e586e0a1cf0-44cc0671e738317c-01 outer:exit 2b-6474c4720e1143e51568261376e26e586e0a1cf0-57bc00fb7752fff1-01
2022-04-21T16:18:22.132Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:22.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5f6c9d72a5a9db015cde6c11e094dd0da7579bd-9e37c462116c24e1-01 outer:exit 2b-a5f6c9d72a5a9db015cde6c11e094dd0da7579bd-44c60788e469c73b-01
2022-04-21T16:18:22.134Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:22.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-7df36dc54fc52774fe130b0815ae094d893968cf-9601abadb16a7359-01 outer:exit 2b-7df36dc54fc52774fe130b0815ae094d893968cf-282681863b11d081-01
2022-04-21T16:18:22.137Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:22.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-83b22d1a91f2d2abeeb83a77c292e40d7682e36d-f9a27f01a6cb4b7e-01 outer:exit 2b-83b22d1a91f2d2abeeb83a77c292e40d7682e36d-14e8d80ac3a95066-01
2022-04-21T16:18:22.139Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:22.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-f70143081a9d7e5d7c6825aa5ace0c9b39412a06-b2aa6b5374c58ce9-01 outer:exit 2b-f70143081a9d7e5d7c6825aa5ace0c9b39412a06-397c28b52fa6d202-01
2022-04-21T16:18:22.148Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:22.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb2a634839f6c4d6525a5be42c549f950c66d360-3c8dcf1c7a658d46-01 outer:exit 2b-cb2a634839f6c4d6525a5be42c549f950c66d360-c632dc0c2aa636ad-01
2022-04-21T16:18:22.151Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:22.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-e76ac69ee21250e945f24948379c1e2b35f37571-d27cee0374345336-01 outer:exit 2b-e76ac69ee21250e945f24948379c1e2b35f37571-a7437c00a0c54789-01
2022-04-21T16:18:22.158Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:22.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-39539f7a7901722f0b2143c5d7a695aad442ae99-6697f079c0a56d99-01 outer:exit 2b-39539f7a7901722f0b2143c5d7a695aad442ae99-5edc05b4246403b3-01
2022-04-21T16:18:22.175Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:22.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d67b1c52b7286b94728be860b6c2d84546cbb13-ccf679e9e1f32eb5-01 outer:exit 2b-3d67b1c52b7286b94728be860b6c2d84546cbb13-5686e54e334ac0e3-01
2022-04-21T16:18:22.211Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:22.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3612fa71dd9d3066365554086fadcdbf37415d1-420d071c5a95ba7b-01 outer:exit 2b-f3612fa71dd9d3066365554086fadcdbf37415d1-c4d3b90c3d757a55-01
2022-04-21T16:18:22.217Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:22.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-c664e253d42470a8b45ce65d915616759dce3907-bc8d7b77c4c430aa-01 outer:exit 2b-c664e253d42470a8b45ce65d915616759dce3907-4dfbf16905cb6daf-01
2022-04-21T16:18:22.220Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:22.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bf9c066859b089b435b44f828f70b4f9a17d6bf-d72da9c791693632-01 outer:exit 2b-1bf9c066859b089b435b44f828f70b4f9a17d6bf-a82c57b7bca476d9-01
2022-04-21T16:18:22.227Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:22.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d292557c5105c20bfe9a8d5d537c3af32c2dd86-e2d4104c15562fab-01 outer:exit 2b-8d292557c5105c20bfe9a8d5d537c3af32c2dd86-76efb41b64cc7658-01
2022-04-21T16:18:22.230Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:22.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3077b21659c6b4039cb52f1030eb9a724a8d906-fea41f2d704534f9-01 outer:exit 2b-d3077b21659c6b4039cb52f1030eb9a724a8d906-05141f763ff77cf7-01
2022-04-21T16:18:22.232Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:22.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef43fda67687b7fa272ee731030565e982704572-c47394bbd79b573c-01 outer:exit 2b-ef43fda67687b7fa272ee731030565e982704572-2fd2d365d38be773-01
2022-04-21T16:18:22.234Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:22.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-53e3d59ed6e3780986bfeea2572ad810eeb75a0d-c1740078fde8a331-01 outer:exit 2b-53e3d59ed6e3780986bfeea2572ad810eeb75a0d-3a8d70a4f2c17a16-01
2022-04-21T16:18:22.245Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:22.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-6da134c21eaca7f48f68f0c7670217f96aa3d555-da02da9e28ff88a4-01 outer:exit 2b-6da134c21eaca7f48f68f0c7670217f96aa3d555-5de513ffde533416-01
2022-04-21T16:18:22.252Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:22.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-4300424d0c3cd6e9d4737bfafe0789ac506f7ced-49ecfa47c8cbbabb-01 outer:exit 2b-4300424d0c3cd6e9d4737bfafe0789ac506f7ced-48889ce73facb140-01
2022-04-21T16:18:22.256Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:22.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-908131e3b29910b2ca274e55423c5e21d4b93cc2-27e5c77c78e035ff-01 outer:exit 2b-908131e3b29910b2ca274e55423c5e21d4b93cc2-1038def3fc2265b9-01
2022-04-21T16:18:22.261Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:22.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-78cab370973f563dc6be398df3b73553447722d9-eaf142f17f2ad031-01 outer:exit 2b-78cab370973f563dc6be398df3b73553447722d9-40166d6c8fe04576-01
2022-04-21T16:18:22.264Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:22.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dd7ae83ffe815a65d4a81cea7f3d508112ac625-fc28464543acf358-01 outer:exit 2b-7dd7ae83ffe815a65d4a81cea7f3d508112ac625-37953517c21625eb-01
2022-04-21T16:18:22.271Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:22.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd61c73c1343f4fdb4111492d8cc66a72a0e909c-e2cc19dc84f0728d-01 outer:exit 2b-bd61c73c1343f4fdb4111492d8cc66a72a0e909c-7e691e552347218c-01
2022-04-21T16:18:22.284Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:22.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-300ee1ca70d42016115e4d03596671d65098e623-631faaabd3a1f83e-01 outer:exit 2b-300ee1ca70d42016115e4d03596671d65098e623-a82a980d54dd830f-01
2022-04-21T16:18:22.289Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:22.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-788954ba822531c18b8f7d099e1045a1709fef0a-a2aa325282230e58-01 outer:exit 2b-788954ba822531c18b8f7d099e1045a1709fef0a-38cf83ff3ca58610-01
2022-04-21T16:18:22.298Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:22.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dec4cabc3d65359781f783872b56c7117c21db6-9f9f37716bce7512-01 outer:exit 2b-6dec4cabc3d65359781f783872b56c7117c21db6-99b90bca692ffef7-01
2022-04-21T16:18:22.307Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:22.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e3f16e928dd42ee260e3c283890ba674820539d-8edafd6709dfe231-01 outer:exit 2b-0e3f16e928dd42ee260e3c283890ba674820539d-37b0293cd84e725e-01
2022-04-21T16:18:22.312Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:22.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-77d5731e588a61e750b80100f9354e22f92d8913-0d106f56825e96ec-01 outer:exit 2b-77d5731e588a61e750b80100f9354e22f92d8913-c86d85e9163fb24f-01
2022-04-21T16:18:22.316Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:22.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-96d22a4582bba1e44a1109063cfc38c362ad10fd-850c85c7e2900469-01 outer:exit 2b-96d22a4582bba1e44a1109063cfc38c362ad10fd-60563b2dbb11bcee-01
2022-04-21T16:18:22.327Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:22.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-73cd88b29b2d0bd6fc51de497bfd6f899daaf575-f708eb6a1b28d576-01 outer:exit 2b-73cd88b29b2d0bd6fc51de497bfd6f899daaf575-a64f75085c4a7a9e-01
2022-04-21T16:18:22.329Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:22.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-9037bdd2e476b7cbde07e2ab47a898de5e063b27-639e0e11be6961e9-01 outer:exit 2b-9037bdd2e476b7cbde07e2ab47a898de5e063b27-8d6e250915e1fad6-01
2022-04-21T16:18:22.332Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:22.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c245e79dea4d04b9ac1b89248de6573e7421638-beb1b3108cfebf6a-01 outer:exit 2b-4c245e79dea4d04b9ac1b89248de6573e7421638-d19916c0e85d1520-01
2022-04-21T16:18:22.334Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:22.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-1605cf11c8cae874a1bf66f3da172f94702a8b3a-4fccfbcf635e7d8a-01 outer:exit 2b-1605cf11c8cae874a1bf66f3da172f94702a8b3a-1611c665ee736a9e-01
2022-04-21T16:18:22.336Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:22.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-9453dcee86e0795962252c11a5ec6f1fabad11fc-373a7cb620132c5a-01 outer:exit 2b-9453dcee86e0795962252c11a5ec6f1fabad11fc-cde3485b16ed74bc-01
2022-04-21T16:18:22.339Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:22.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-49bea0289f5cc1c6f5f94d23291ea23b39e94e1c-c50702f07df4503e-01 outer:exit 2b-49bea0289f5cc1c6f5f94d23291ea23b39e94e1c-d922488fc4ff24f9-01
2022-04-21T16:18:22.350Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:22.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-c53720ae81b42c906ff09e0b2facc413977f5af5-5135198e1673aab7-01 outer:exit 2b-c53720ae81b42c906ff09e0b2facc413977f5af5-18cfc71dec1cfea3-01
2022-04-21T16:18:22.359Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:22.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-36ca577eb69de4e99f420a19d84eeeb5f56bba6e-20c4c03743a17624-01 outer:exit 2b-36ca577eb69de4e99f420a19d84eeeb5f56bba6e-dd03c9993239edfc-01
2022-04-21T16:18:22.362Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:22.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-3144caa6a7b83f7cc9eeeb98dbe888e38cba21f8-4678c1149119d253-01 outer:exit 2b-3144caa6a7b83f7cc9eeeb98dbe888e38cba21f8-821e195b07f89594-01
2022-04-21T16:18:22.364Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:22.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bf60b1ea5874806fc867d97ff7107f8420c1305-b556748f51ed9d60-01 outer:exit 2b-3bf60b1ea5874806fc867d97ff7107f8420c1305-253f27db17346495-01
2022-04-21T16:18:22.368Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:22.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4c874b76e2924600fcc00b51da73f3f460839d3-01ee9bfd1129b4a7-01 outer:exit 2b-b4c874b76e2924600fcc00b51da73f3f460839d3-ee08dd13a3bd19da-01
2022-04-21T16:18:22.400Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (370ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.14
updated 1 package and audited 935 packages in 3.862s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:27.323Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:27.324Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:27.324Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:27.326Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:27.399Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:27.552Z appoptics:patching patched crypto 
2022-04-21T16:18:27.607Z appoptics:patching patched https 
2022-04-21T16:18:27.608Z appoptics:patching patched http 
2022-04-21T16:18:27.649Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:27.650Z appoptics:patching patched fs 
2022-04-21T16:18:27.681Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v14.19.1)
2022-04-21T16:18:27.688Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2022-04-21T16:18:27.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-36ee5806a5b46318b32713d53711071ba6400f21-d1ab36e199dd2381-01 outer:exit 2b-36ee5806a5b46318b32713d53711071ba6400f21-c0bf0b8f808cc368-01
2022-04-21T16:18:27.745Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:27.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-707b2717e4f90f896b7d2d48ea9c43cf6461229d-8e04aac0c82b1499-01 outer:exit 2b-707b2717e4f90f896b7d2d48ea9c43cf6461229d-d28ca609ecc3fcd6-01
2022-04-21T16:18:27.796Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:27.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-869e764c3a99eb1ac97a964ff5fe1b6b3f2aad3d-0ec2805c8346f06c-01 outer:exit 2b-869e764c3a99eb1ac97a964ff5fe1b6b3f2aad3d-66eeac46979c1674-01
2022-04-21T16:18:27.800Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:27.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-33c520e3a7a2f47388032a189b0bdd2d0ab8af5d-bb1f8c44c4429d5f-01 outer:exit 2b-33c520e3a7a2f47388032a189b0bdd2d0ab8af5d-a4ca19e326aa0640-01
2022-04-21T16:18:27.803Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:27.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8979bd97fe4e0552854e5b2c3ab969b72641304-bb80b31afee32956-01 outer:exit 2b-b8979bd97fe4e0552854e5b2c3ab969b72641304-74b0e69fe7b8c90d-01
2022-04-21T16:18:27.810Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:27.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-b05426a7ee5b0d0228b7f4cabdbada63f50f20ba-306f9f16424bba50-01 outer:exit 2b-b05426a7ee5b0d0228b7f4cabdbada63f50f20ba-b499d2beb2c35708-01
2022-04-21T16:18:27.819Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:27.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb4e9d9c0b3b3a0d37a25d5d941d80511988713f-b709e8e48af62148-01 outer:exit 2b-cb4e9d9c0b3b3a0d37a25d5d941d80511988713f-24ca28d481b7e78d-01
2022-04-21T16:18:27.823Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:27.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-4723ea6526dc59c7fa6e3b168e502961c0df3c6d-7c2f1ba56d785b9a-01 outer:exit 2b-4723ea6526dc59c7fa6e3b168e502961c0df3c6d-865fd5f3625b2666-01
2022-04-21T16:18:27.826Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:27.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea931df9b2b5333c8fdab22d1af9a39dd7d495dc-ff28f484db565f80-01 outer:exit 2b-ea931df9b2b5333c8fdab22d1af9a39dd7d495dc-eda4087edb82564d-01
2022-04-21T16:18:27.831Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:27.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-63828453aec3fc5bdd19b1e638530ba775d191bc-c8eb0eccc95d14cd-01 outer:exit 2b-63828453aec3fc5bdd19b1e638530ba775d191bc-c70b4c0e8dd843f8-01
2022-04-21T16:18:27.840Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:27.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ce05756245106a76471c442c6f37767da5fd1d1-8078390aee7d7250-01 outer:exit 2b-1ce05756245106a76471c442c6f37767da5fd1d1-fba5a9741fefbf1a-01
2022-04-21T16:18:27.846Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:27.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-50523fe4160f80e08c137553f378b552f9b0ca2b-90b0ab5f2d20d9ed-01 outer:exit 2b-50523fe4160f80e08c137553f378b552f9b0ca2b-17ea87e2da505a6f-01
2022-04-21T16:18:27.852Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:27.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dc4aefeee90dd1148ea960e65cb4ad8fbd853b4-b865780c5920b4e4-01 outer:exit 2b-4dc4aefeee90dd1148ea960e65cb4ad8fbd853b4-81dc0b087967e412-01
2022-04-21T16:18:27.876Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:27.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1852179285373dd70481d8acf4cb66bb7d4a637-0222ceccb46a0f3e-01 outer:exit 2b-d1852179285373dd70481d8acf4cb66bb7d4a637-453954100df7db64-01
2022-04-21T16:18:27.919Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:27.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-386b4e0e4b8fcc38477cd9599efaaede02a0621e-08939c3807f35cb4-01 outer:exit 2b-386b4e0e4b8fcc38477cd9599efaaede02a0621e-1c6ab31bb4183016-01
2022-04-21T16:18:27.926Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:27.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-1583ab55422ae3ce73b9dc6f7de2ebcfc40065c6-de0f4f4038bb72b1-01 outer:exit 2b-1583ab55422ae3ce73b9dc6f7de2ebcfc40065c6-c9d6748264dee3ea-01
2022-04-21T16:18:27.928Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:27.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f01eb223bb663024491c73175728c98b0f43c55-5c008069612bbd2e-01 outer:exit 2b-9f01eb223bb663024491c73175728c98b0f43c55-a3c550537392d121-01
2022-04-21T16:18:27.933Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:27.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-639649b8d31ee3bc2c4bc7398cb31649d5f9f940-3723bcfa95405993-01 outer:exit 2b-639649b8d31ee3bc2c4bc7398cb31649d5f9f940-b6f299f296acf705-01
2022-04-21T16:18:27.936Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:27.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9b5f145a75d64afb0cc8e45d9d5345cb64ce799-f8233d8793e8f4e8-01 outer:exit 2b-e9b5f145a75d64afb0cc8e45d9d5345cb64ce799-6d18224a8fe975f2-01
2022-04-21T16:18:27.938Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:27.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bb54cf775db644ccacb546422203f35a0b70a42-27bf0ba51d474810-01 outer:exit 2b-7bb54cf775db644ccacb546422203f35a0b70a42-c7919990e4bd280b-01
2022-04-21T16:18:27.940Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:27.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-23146c8c25d9873ca6ea8ff7c8acc6c41344e48a-0295c2bca3062a5b-01 outer:exit 2b-23146c8c25d9873ca6ea8ff7c8acc6c41344e48a-3c6482a64e6a02ad-01
2022-04-21T16:18:27.946Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:27.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-36030c71b931c3b5d025f986431a589a766e0e85-59a26a18cac9d768-01 outer:exit 2b-36030c71b931c3b5d025f986431a589a766e0e85-0242f75b5e933518-01
2022-04-21T16:18:27.948Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:27.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a5b694bc458761028743f0d2d41ffb48f62eeb7-99d0f1352c047080-01 outer:exit 2b-2a5b694bc458761028743f0d2d41ffb48f62eeb7-00105c8086f226a2-01
2022-04-21T16:18:27.951Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:27.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbf8d6b625f7382716a496d797b63fc0ed823607-00bf46f43d62ce7f-01 outer:exit 2b-fbf8d6b625f7382716a496d797b63fc0ed823607-6f905be83b9fe6c2-01
2022-04-21T16:18:27.954Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:27.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b8345621c2651a7c79334e0b42b3f6ba38c0d5e-d512705cf349833d-01 outer:exit 2b-0b8345621c2651a7c79334e0b42b3f6ba38c0d5e-c9b135a6aa689dc6-01
2022-04-21T16:18:27.956Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:27.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bfd4944017b909296e95d7faefd0215b5344343-4e1e561429efe97b-01 outer:exit 2b-4bfd4944017b909296e95d7faefd0215b5344343-be6f7a103e51981f-01
2022-04-21T16:18:27.959Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:27.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-1297be293a2e74ab7897f4a2aa4c20ae48ab662a-60a7108dddb807a5-01 outer:exit 2b-1297be293a2e74ab7897f4a2aa4c20ae48ab662a-fbb172f22c4e3918-01
2022-04-21T16:18:27.966Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:27.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e5533dabe0d9a82e25345338c2e87b80a6fdb4a-41cdf42561401b89-01 outer:exit 2b-8e5533dabe0d9a82e25345338c2e87b80a6fdb4a-05827c2499ba40a3-01
2022-04-21T16:18:27.970Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:27.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-47aedd1393ed3ff51b65f8fda1c976d920438dc3-c9306d1961a34fd8-01 outer:exit 2b-47aedd1393ed3ff51b65f8fda1c976d920438dc3-97b25c35edad396e-01
2022-04-21T16:18:27.978Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:27.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-24f3f2f6f8284bc151c2eba4d494de430920f46a-dbf2d21080e69f09-01 outer:exit 2b-24f3f2f6f8284bc151c2eba4d494de430920f46a-d259758730f85cd7-01
2022-04-21T16:18:27.990Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:27.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d46ca803c3673d77b58d14917abbeb4efa637c0-dad925aaa952b5e2-01 outer:exit 2b-5d46ca803c3673d77b58d14917abbeb4efa637c0-ece83e1a3072fbd8-01
2022-04-21T16:18:27.992Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:27.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c03f7b5de54a463a0015387c88da12686b39bd5-69a22e6917fb0b6c-01 outer:exit 2b-0c03f7b5de54a463a0015387c88da12686b39bd5-b7854c25cbda9195-01
2022-04-21T16:18:27.995Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:28.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4d576f2b00f318b679122363e5bc20b86cc1e7a-54c97fb5a1c51bda-01 outer:exit 2b-f4d576f2b00f318b679122363e5bc20b86cc1e7a-f22a7281a348d87d-01
2022-04-21T16:18:28.001Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:28.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-132969150c100dc9b0ee6a72c6e60bc698ec3481-6533f4d70eb16b16-01 outer:exit 2b-132969150c100dc9b0ee6a72c6e60bc698ec3481-d3225512013fd5f9-01
2022-04-21T16:18:28.003Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:28.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b03adda02a0e1849a54159d67485e29907a3ea6-af6629ceb2a5b22a-01 outer:exit 2b-2b03adda02a0e1849a54159d67485e29907a3ea6-8b925b452613200a-01
2022-04-21T16:18:28.005Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:28.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ed58da4e3cd23596a50a4890f14de31abbd6d86-9e100f402db0c7fc-01 outer:exit 2b-6ed58da4e3cd23596a50a4890f14de31abbd6d86-62ef1b8723a7932e-01
2022-04-21T16:18:28.007Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:28.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-26d26be1da1054ecb84f539c17de815422cd0613-38dab6f194b3b0d7-01 outer:exit 2b-26d26be1da1054ecb84f539c17de815422cd0613-548dc03eff778c01-01
2022-04-21T16:18:28.009Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:28.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-98b446ea70afa41bb827ca7eda54834ab7117939-a81a33941cce24f1-01 outer:exit 2b-98b446ea70afa41bb827ca7eda54834ab7117939-90f3d00ea9cf8c76-01
2022-04-21T16:18:28.011Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:28.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-92d6a5b3ad61875006815838a9bc7bee312bc1fe-f9433578823a82a8-01 outer:exit 2b-92d6a5b3ad61875006815838a9bc7bee312bc1fe-3d8b555c5d51eb98-01
2022-04-21T16:18:28.019Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:28.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-50d585a0620d6e12793fe6de676f8002380f4c22-1285b4548a6eb81c-01 outer:exit 2b-50d585a0620d6e12793fe6de676f8002380f4c22-ef089d267d1a6818-01
2022-04-21T16:18:28.028Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:28.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-15ae05715a5a0722460fc909168f5170eed7a420-7af18ff7d36e1669-01 outer:exit 2b-15ae05715a5a0722460fc909168f5170eed7a420-4d2239f0827f1ecb-01
2022-04-21T16:18:28.030Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:28.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-a811ff32021d6fc49a786ec55f5a50ea32c9eb2f-488482ddf12f44e7-01 outer:exit 2b-a811ff32021d6fc49a786ec55f5a50ea32c9eb2f-8490633f4715a279-01
2022-04-21T16:18:28.033Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:28.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-875e9f137401578264f3cb21447a58e0c364e8e1-4960df883f902e0c-01 outer:exit 2b-875e9f137401578264f3cb21447a58e0c364e8e1-e5788652305a8d6b-01
2022-04-21T16:18:28.036Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:28.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-b81b441ad869dae111b2e9a2a73112087def20dc-d7a951f4f5151d42-01 outer:exit 2b-b81b441ad869dae111b2e9a2a73112087def20dc-164da45d7257f258-01
2022-04-21T16:18:28.062Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (367ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.15
updated 1 package and audited 935 packages in 3.554s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:32.493Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:32.494Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:32.494Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:32.494Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:32.553Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:32.704Z appoptics:patching patched crypto 
2022-04-21T16:18:32.743Z appoptics:patching patched https 
2022-04-21T16:18:32.744Z appoptics:patching patched http 
2022-04-21T16:18:32.785Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:32.785Z appoptics:patching patched fs 
2022-04-21T16:18:32.812Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v14.19.1)
2022-04-21T16:18:32.817Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2022-04-21T16:18:32.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-89e359a69bfc884280c8b14c4fd0e06d63e4da3c-bb13e20e0cbfccbb-01 outer:exit 2b-89e359a69bfc884280c8b14c4fd0e06d63e4da3c-dd85f159b5d10e82-01
2022-04-21T16:18:32.863Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:32.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba46c71dfcd0d1f50d81a72ce557aa1a1cdf44c6-306f762882927c9a-01 outer:exit 2b-ba46c71dfcd0d1f50d81a72ce557aa1a1cdf44c6-e8be7f2fb5fd9ac0-01
2022-04-21T16:18:32.904Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:32.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-50428306f5cfdf8e2002ee7ca1e78fdec90b624f-da553ab70121c23a-01 outer:exit 2b-50428306f5cfdf8e2002ee7ca1e78fdec90b624f-d6256f2cf041c2ba-01
2022-04-21T16:18:32.908Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:32.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-415343f7e2fc558eb02142e6bb0a3b4b39edfcc3-475ef59571beb8a9-01 outer:exit 2b-415343f7e2fc558eb02142e6bb0a3b4b39edfcc3-d910a989bc5d9d49-01
2022-04-21T16:18:32.911Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:32.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e7516d613304c92b45fd6a271f16d69ec82d84a-f96da85a21f6cf0c-01 outer:exit 2b-1e7516d613304c92b45fd6a271f16d69ec82d84a-167cfb5b32921fe4-01
2022-04-21T16:18:32.916Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:32.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-d212c5446dae7bbae06ed7a78b82ba0fe6cb8c41-7c3bc21b32f673bb-01 outer:exit 2b-d212c5446dae7bbae06ed7a78b82ba0fe6cb8c41-aaa880aea6ad33a4-01
2022-04-21T16:18:32.919Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:32.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-77af7865eb7aad948afb64ef9e97b9c0bbcd0e36-821d7c0ce1e6488a-01 outer:exit 2b-77af7865eb7aad948afb64ef9e97b9c0bbcd0e36-ce6fd5ce96748b4b-01
2022-04-21T16:18:32.922Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:32.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-111bb6fe2869268af106354b9c3c615d9f779d6a-0c4152e25549aab3-01 outer:exit 2b-111bb6fe2869268af106354b9c3c615d9f779d6a-fb9776575b1fab87-01
2022-04-21T16:18:32.924Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:32.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-70fcc2b7d25d5ba4a5071a852c65479ef199f423-1e0f9b74f12b6f0e-01 outer:exit 2b-70fcc2b7d25d5ba4a5071a852c65479ef199f423-5bdc981bb32c505e-01
2022-04-21T16:18:32.926Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:32.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b51c7adf4f4511dfff183b0211867d8c04ef119-550ea1a37f8cb04d-01 outer:exit 2b-7b51c7adf4f4511dfff183b0211867d8c04ef119-51132e357ec4874e-01
2022-04-21T16:18:32.929Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:32.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3473b1261cb1f4780620416e2b34e93e39af0b7-54f00c3d3822302c-01 outer:exit 2b-e3473b1261cb1f4780620416e2b34e93e39af0b7-80944d0def23300d-01
2022-04-21T16:18:32.933Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:32.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-306c56c63fd41b1f689aa5e29137f6558450ea34-a94f8801fa43448a-01 outer:exit 2b-306c56c63fd41b1f689aa5e29137f6558450ea34-bebfe2a1fdd4c3f4-01
2022-04-21T16:18:32.942Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:32.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-23df3702e4fdc3a983c793e104b80a09661ba0bc-37b5e1c83d76f71a-01 outer:exit 2b-23df3702e4fdc3a983c793e104b80a09661ba0bc-a2023b10757e73df-01
2022-04-21T16:18:32.957Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:32.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-a24758d7e669c1a3aa1478974adc364b0f71b509-248a32a03cc89b8e-01 outer:exit 2b-a24758d7e669c1a3aa1478974adc364b0f71b509-5d4ba62deb7d196d-01
2022-04-21T16:18:32.994Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:33.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-93dd5439f290a76f7747e605ffbe384bd7a297b5-6ad26260eddc8001-01 outer:exit 2b-93dd5439f290a76f7747e605ffbe384bd7a297b5-ed135cbee6289396-01
2022-04-21T16:18:33.002Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:33.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f6543477a71bca83fa77bc59efef52a2727d2af-45bbbea438e84746-01 outer:exit 2b-0f6543477a71bca83fa77bc59efef52a2727d2af-032b576d67adfe18-01
2022-04-21T16:18:33.004Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:33.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ac1dc2ccc022373e01727744fe5e424d4d01eab-78c568eaf2947f26-01 outer:exit 2b-2ac1dc2ccc022373e01727744fe5e424d4d01eab-66823e9c2662c961-01
2022-04-21T16:18:33.007Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:33.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bda5cb5754b76321b97fb49e5cff3bc6e119954-580d1db3a5509c06-01 outer:exit 2b-8bda5cb5754b76321b97fb49e5cff3bc6e119954-b28ad4885a760486-01
2022-04-21T16:18:33.010Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:33.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-042d92014a67f93e628abda9f5895a0371490937-c3306ae59269273d-01 outer:exit 2b-042d92014a67f93e628abda9f5895a0371490937-7742d24a5d60d290-01
2022-04-21T16:18:33.012Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:33.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac557c92f8972119fa134756e02901bef6d10a54-117a4dc7e748a107-01 outer:exit 2b-ac557c92f8972119fa134756e02901bef6d10a54-e31f73e75ab90bed-01
2022-04-21T16:18:33.014Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:33.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-56d27d33e5df1a70d7976655aac4fc7ac8e79269-2868dd1afa14cb7f-01 outer:exit 2b-56d27d33e5df1a70d7976655aac4fc7ac8e79269-87ffd1201ab324b4-01
2022-04-21T16:18:33.016Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:33.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2cb0208f3da55f261e8312dffa147fef0ebd23d-f21dded709915bcd-01 outer:exit 2b-c2cb0208f3da55f261e8312dffa147fef0ebd23d-c9f060f1426eb4a0-01
2022-04-21T16:18:33.019Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:33.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa34e3821ed69139529d7fbfb02dce57e57de5a7-bb881bd0edbb03d5-01 outer:exit 2b-aa34e3821ed69139529d7fbfb02dce57e57de5a7-831921ee033a3100-01
2022-04-21T16:18:33.022Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:33.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-658bc032ab262f806fc3b595677e07f062e02974-e385d8a7ae2a3691-01 outer:exit 2b-658bc032ab262f806fc3b595677e07f062e02974-c1ee85e21c542e62-01
2022-04-21T16:18:33.024Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:33.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-24e84c5ea1ae481d03c5fa7b7722cd58ed125b37-3ece1688479b55c2-01 outer:exit 2b-24e84c5ea1ae481d03c5fa7b7722cd58ed125b37-8d462107c6d26ad4-01
2022-04-21T16:18:33.027Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:33.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-598ce44b30c5c66d54e9a727972d5f2297a4842e-b9e7448720514673-01 outer:exit 2b-598ce44b30c5c66d54e9a727972d5f2297a4842e-02895a9a47dd99e5-01
2022-04-21T16:18:33.029Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:33.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1579174e6495da4d1f680dc4d99c417c83a4fdd-8ed6a30875dbc640-01 outer:exit 2b-b1579174e6495da4d1f680dc4d99c417c83a4fdd-7974fbb8589018da-01
2022-04-21T16:18:33.039Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:33.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-382978232c3dd34c14f4599ac0ffc982c70fc49a-f6689695bed98ffe-01 outer:exit 2b-382978232c3dd34c14f4599ac0ffc982c70fc49a-54c4dc0fc6ba69f5-01
2022-04-21T16:18:33.044Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:33.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ff48f25f0d99a126b6af3f193ea93e8389c5ccf-cecac7cf32507969-01 outer:exit 2b-0ff48f25f0d99a126b6af3f193ea93e8389c5ccf-6020e96e016b6eeb-01
2022-04-21T16:18:33.052Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:33.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-3678056755b8243c86f5d127aed76b009b80763c-90c6c1e225077d22-01 outer:exit 2b-3678056755b8243c86f5d127aed76b009b80763c-e5825a5a5d30d4ab-01
2022-04-21T16:18:33.058Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:33.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fd706eaddc26b53bd21a45d5bfbb94fa91ac842-137797780fd39043-01 outer:exit 2b-1fd706eaddc26b53bd21a45d5bfbb94fa91ac842-5784369fbfd45712-01
2022-04-21T16:18:33.060Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:33.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad90a7f0868f52200998155ff268182a03a16530-f80eb2f2a30b43a7-01 outer:exit 2b-ad90a7f0868f52200998155ff268182a03a16530-360ee82bc4c3439b-01
2022-04-21T16:18:33.064Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:33.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-3260f71866df7102136fc68fc7ddc2c95d4d3668-25b716ffbcfd8ae4-01 outer:exit 2b-3260f71866df7102136fc68fc7ddc2c95d4d3668-e49fab81ad366fc8-01
2022-04-21T16:18:33.071Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:33.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea64655b982bfc75839533c2dc1ff99152580f9f-16bf0ae63dd0d2af-01 outer:exit 2b-ea64655b982bfc75839533c2dc1ff99152580f9f-13103678c6c07517-01
2022-04-21T16:18:33.074Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:33.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec2b972b97d2182c468c7b69e946c90fba1a1a4a-ad9d43983e4ac911-01 outer:exit 2b-ec2b972b97d2182c468c7b69e946c90fba1a1a4a-3bdafb5b7448fdcb-01
2022-04-21T16:18:33.078Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:33.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bfbb835549b6b08b58c490d36bbdeb379ddfbf1-f2130924a729fae6-01 outer:exit 2b-7bfbb835549b6b08b58c490d36bbdeb379ddfbf1-dc620f811b13035e-01
2022-04-21T16:18:33.081Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:33.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-a10b318413d3664900da1e8f7652052289b04014-005a58aa2f40d5af-01 outer:exit 2b-a10b318413d3664900da1e8f7652052289b04014-2d66915792b4ed30-01
2022-04-21T16:18:33.084Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:33.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbfae5d932a7e010051069c447f0798ee4c1950b-05283e212b52e456-01 outer:exit 2b-dbfae5d932a7e010051069c447f0798ee4c1950b-c64592b5789e1689-01
2022-04-21T16:18:33.087Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:33.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d35f223d3748ad473fbcab296c88d18984c0511-56a2cf258b326c49-01 outer:exit 2b-1d35f223d3748ad473fbcab296c88d18984c0511-515fc14a64001971-01
2022-04-21T16:18:33.098Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:33.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffe583fb60ed6a2ae143207825cab24327857982-89dfe43e73f2676a-01 outer:exit 2b-ffe583fb60ed6a2ae143207825cab24327857982-fc31933a3a8a8785-01
2022-04-21T16:18:33.107Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:33.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c731a70b41b14a9574a2f7c4dc9d165045995b4-9afaec4cfbe11ce6-01 outer:exit 2b-5c731a70b41b14a9574a2f7c4dc9d165045995b4-7cd2389b0fdb9cac-01
2022-04-21T16:18:33.111Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:33.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-55b4eac28799a1889afe0387807dce4b4493c156-574173f92a4cba3c-01 outer:exit 2b-55b4eac28799a1889afe0387807dce4b4493c156-7d6c17226bc24f2e-01
2022-04-21T16:18:33.114Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:33.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-074b6f948314dbca94ce964008b092dc0ab4cc25-f54a5109bfa3e966-01 outer:exit 2b-074b6f948314dbca94ce964008b092dc0ab4cc25-4071be6dc15ccdb5-01
2022-04-21T16:18:33.118Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:33.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e443de77c912fac32f4b3a8b94936b93aa27457-11515ed753d0ced3-01 outer:exit 2b-3e443de77c912fac32f4b3a8b94936b93aa27457-797f4b1ed0b167e8-01
2022-04-21T16:18:33.148Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (324ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.16
updated 1 package and audited 935 packages in 3.705s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:37.754Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:37.755Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:37.755Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:37.755Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:37.818Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:37.961Z appoptics:patching patched crypto 
2022-04-21T16:18:38.015Z appoptics:patching patched https 
2022-04-21T16:18:38.016Z appoptics:patching patched http 
2022-04-21T16:18:38.051Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:38.052Z appoptics:patching patched fs 
2022-04-21T16:18:38.079Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v14.19.1)
2022-04-21T16:18:38.086Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2022-04-21T16:18:38.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-f162043d922be6944ce07abf98c0601bb876e71c-6300af57e8d7a478-01 outer:exit 2b-f162043d922be6944ce07abf98c0601bb876e71c-e62d7c741f5810d2-01
2022-04-21T16:18:38.132Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:38.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-62fd764f4bd22fe6c089f4a1bfc0a7bd8b5de4ac-74d82b3583c4ac31-01 outer:exit 2b-62fd764f4bd22fe6c089f4a1bfc0a7bd8b5de4ac-134280c2c350e384-01
2022-04-21T16:18:38.172Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:38.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-17f107e50f36685675ea5a623bddb530d05937b2-07c67e87ab6a7e43-01 outer:exit 2b-17f107e50f36685675ea5a623bddb530d05937b2-31a9175beb0ab920-01
2022-04-21T16:18:38.177Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:38.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bed3db00429b9420f9db259934aa3d4f1104aa1-cc5589dcad1efffd-01 outer:exit 2b-8bed3db00429b9420f9db259934aa3d4f1104aa1-d6c4df51a1a3e55c-01
2022-04-21T16:18:38.180Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:38.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-62f930e4f58055d1b86b9918dea45b504df2ed0e-445994ca8e3e2ef8-01 outer:exit 2b-62f930e4f58055d1b86b9918dea45b504df2ed0e-ceaf9c22f61fb933-01
2022-04-21T16:18:38.185Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:38.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4dd58a8cba709bdd8f1af993f26ca4aaf2da058-1346bf11b0abf05f-01 outer:exit 2b-f4dd58a8cba709bdd8f1af993f26ca4aaf2da058-4006f56077f09403-01
2022-04-21T16:18:38.189Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:38.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a11f30c85bcf8dc80d52a903eafe89881932ef3-a4c07f901ce57d89-01 outer:exit 2b-9a11f30c85bcf8dc80d52a903eafe89881932ef3-fd1739a9bf5a1888-01
2022-04-21T16:18:38.191Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:38.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6972869afd282f7d03a4c09b8b3422981aae22c-8cf367138ba85a70-01 outer:exit 2b-f6972869afd282f7d03a4c09b8b3422981aae22c-d11e39b4e186ed3c-01
2022-04-21T16:18:38.194Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:38.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-43ab29a0c9f0f7134a1dfbaac905a57eb7a7b213-391cf088fc058448-01 outer:exit 2b-43ab29a0c9f0f7134a1dfbaac905a57eb7a7b213-d2aeacfb9b445746-01
2022-04-21T16:18:38.196Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:38.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-7522eb61e573e72ae2c7daac3068383477501f90-5b44b57413f286e1-01 outer:exit 2b-7522eb61e573e72ae2c7daac3068383477501f90-3349e2e31195e8d3-01
2022-04-21T16:18:38.199Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:38.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-b980ce4335ae9d985d370b4d6f22d20a82e2a2a8-5595934f27a60684-01 outer:exit 2b-b980ce4335ae9d985d370b4d6f22d20a82e2a2a8-52be07fdee08ed7d-01
2022-04-21T16:18:38.203Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:38.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cdb6baff0a2e608e439945e3ab7eeef6fc54baa-ca129bdd3e61f5cb-01 outer:exit 2b-7cdb6baff0a2e608e439945e3ab7eeef6fc54baa-01a150bf389e153a-01
2022-04-21T16:18:38.210Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:38.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e8c3f74c8ff5223dac5629cb113dd3fc4809c33-c25e1fd7d67b7810-01 outer:exit 2b-1e8c3f74c8ff5223dac5629cb113dd3fc4809c33-b5161db346e2bf8f-01
2022-04-21T16:18:38.226Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:38.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4b6e9675ac58c26bb0533b308e5ec0a3a62fcaa-c450232d779217ba-01 outer:exit 2b-c4b6e9675ac58c26bb0533b308e5ec0a3a62fcaa-06d9b366f48e407a-01
2022-04-21T16:18:38.268Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:38.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-59954749f727449d642968e0f28c678994f8be98-9735a42461f0e514-01 outer:exit 2b-59954749f727449d642968e0f28c678994f8be98-5ed5ec37d40677be-01
2022-04-21T16:18:38.276Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:38.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-f294516de476b3119b1892a68d470390ba85e39b-4c1642b59281f1be-01 outer:exit 2b-f294516de476b3119b1892a68d470390ba85e39b-88e7e1f0d4ac1e4f-01
2022-04-21T16:18:38.279Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:38.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee93abcd93890e36d1671352ce53e626666faca2-84de5d60fc8b9ea8-01 outer:exit 2b-ee93abcd93890e36d1671352ce53e626666faca2-b17bcd1b6efb4010-01
2022-04-21T16:18:38.282Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:38.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b1bb86a4c781d19e1ad1e67acbd87291eb81b7c-6b2e6a09e439e115-01 outer:exit 2b-8b1bb86a4c781d19e1ad1e67acbd87291eb81b7c-0fd515c1cbac91be-01
2022-04-21T16:18:38.284Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:38.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9c853b21fae1d135f988d7a7516e22ee40dbe90-9fddbd11b3be6f75-01 outer:exit 2b-c9c853b21fae1d135f988d7a7516e22ee40dbe90-ff6eaf14c4514670-01
2022-04-21T16:18:38.286Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:38.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b627684a1d02d5097fdeab8c93383369734f59e-f361de5dac4d2ac5-01 outer:exit 2b-7b627684a1d02d5097fdeab8c93383369734f59e-db3ccd8506d1afee-01
2022-04-21T16:18:38.289Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:38.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2e5f07a7da97f53517b4c98a40464717b64bbab-0c44443cd59cf610-01 outer:exit 2b-d2e5f07a7da97f53517b4c98a40464717b64bbab-bfe87c6635baa3b7-01
2022-04-21T16:18:38.291Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:38.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-c037ddac66588411966cb1b9fc7055962433ef0c-6d4b63daca352877-01 outer:exit 2b-c037ddac66588411966cb1b9fc7055962433ef0c-99d895f15057a9f3-01
2022-04-21T16:18:38.293Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:38.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d192b0b985b5dd3dc1bf6848be604909ef23aa5-58f4e4fc0fc2d06a-01 outer:exit 2b-1d192b0b985b5dd3dc1bf6848be604909ef23aa5-50e8d11b4cb471ab-01
2022-04-21T16:18:38.296Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:38.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b796c17aa5f8b4e19789ec210bd42e6da4a62bb-8a509d267892acce-01 outer:exit 2b-3b796c17aa5f8b4e19789ec210bd42e6da4a62bb-c4bcfa3fe6bde353-01
2022-04-21T16:18:38.299Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:38.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-59212a832445a79d573ca8a2c8b538813ea9adfd-a715f42c33a1dce6-01 outer:exit 2b-59212a832445a79d573ca8a2c8b538813ea9adfd-9e5a2c884df1365b-01
2022-04-21T16:18:38.301Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:38.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b81858a53d084b74bf03fadb2c50738daf7e04f-5590d881609d5f25-01 outer:exit 2b-4b81858a53d084b74bf03fadb2c50738daf7e04f-776784075d5d754a-01
2022-04-21T16:18:38.304Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:38.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-909639a2025460b8c0a89d72cb9ea59d833e98a4-f9ac719204091d25-01 outer:exit 2b-909639a2025460b8c0a89d72cb9ea59d833e98a4-fd901a94c0ae45cc-01
2022-04-21T16:18:38.312Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:38.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-19c908a0017307f376ac220d3c81262da8fec336-75dbd3e0fb48db20-01 outer:exit 2b-19c908a0017307f376ac220d3c81262da8fec336-b0198c7ddf20ef0f-01
2022-04-21T16:18:38.317Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:38.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-074fab829e54e7e56fa449dc466f808b5ebeb58b-00ea59e95227c9c8-01 outer:exit 2b-074fab829e54e7e56fa449dc466f808b5ebeb58b-f2efbf402ba26b4d-01
2022-04-21T16:18:38.325Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:38.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-275be856b8018f5d0a9c363b3fa28302baa23441-3f8f50ed8c36ebaf-01 outer:exit 2b-275be856b8018f5d0a9c363b3fa28302baa23441-4ab176fe6dcc321d-01
2022-04-21T16:18:38.333Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:38.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-d873331074eaf45a90a6a5fef702a42db9efb404-92edf4d8ee773187-01 outer:exit 2b-d873331074eaf45a90a6a5fef702a42db9efb404-c801eadd3a8d28d3-01
2022-04-21T16:18:38.336Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:38.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-37288ad176cb794a46cbca9c18a1bd4b57e30dd9-749728435cc4300c-01 outer:exit 2b-37288ad176cb794a46cbca9c18a1bd4b57e30dd9-ce54fab753581d53-01
2022-04-21T16:18:38.338Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:38.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-bed110c9cf50a98b15cfa2abc2007a5942750c65-de6b6dd8ba037425-01 outer:exit 2b-bed110c9cf50a98b15cfa2abc2007a5942750c65-66223c3284852e92-01
2022-04-21T16:18:38.345Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:38.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-70e23af68964017a4c9792613ac774e88f404d46-e41ca095be0c3662-01 outer:exit 2b-70e23af68964017a4c9792613ac774e88f404d46-4bd8de742a0c6409-01
2022-04-21T16:18:38.348Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:38.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad45a4a6094078c823c2cedc27bd6fa6fb215757-dd4a1ac72d9a6176-01 outer:exit 2b-ad45a4a6094078c823c2cedc27bd6fa6fb215757-d4e8d5b9c54ca7c8-01
2022-04-21T16:18:38.350Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:38.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-73ffe97cc90fd8196d25d61c58a4cda02b0df3f5-e12cd170de67d9ab-01 outer:exit 2b-73ffe97cc90fd8196d25d61c58a4cda02b0df3f5-69ed8bd125d64674-01
2022-04-21T16:18:38.352Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:38.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-898a3bc289a7fcdeb05e092ba7abca8c680ace7b-c20f15ac08073814-01 outer:exit 2b-898a3bc289a7fcdeb05e092ba7abca8c680ace7b-5251e8aec065cfdf-01
2022-04-21T16:18:38.354Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:38.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-217cb39f319f2a320dff2f59d275d14d4c281398-d141e749b5571391-01 outer:exit 2b-217cb39f319f2a320dff2f59d275d14d4c281398-8dfd77e88d1d4b00-01
2022-04-21T16:18:38.356Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:38.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-76f96434c00f191a07331bce10c0a8fd3cf0fa49-9b0def24cb6d4b61-01 outer:exit 2b-76f96434c00f191a07331bce10c0a8fd3cf0fa49-71780b17d481de3d-01
2022-04-21T16:18:38.366Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:38.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0e38b2364ecac05ec66f4d664fa591193ca4da5-1de45f9028be5ab0-01 outer:exit 2b-c0e38b2364ecac05ec66f4d664fa591193ca4da5-3a4c21ef6d4b6087-01
2022-04-21T16:18:38.374Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:38.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eaf7bc9203c1967334fee3ae5ce3e3e604e7eaa-f1ecbe8cda6b494a-01 outer:exit 2b-3eaf7bc9203c1967334fee3ae5ce3e3e604e7eaa-a4788074d3909ba2-01
2022-04-21T16:18:38.377Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:38.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f430d660f09b17f09c6c9aea67d2f184e44ce59-6bea144d61ab63a1-01 outer:exit 2b-5f430d660f09b17f09c6c9aea67d2f184e44ce59-b65f55df58dd5d60-01
2022-04-21T16:18:38.380Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:38.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-ead958b59eae08cab9b9eac06c05c97f09562878-feb2b77c850896bc-01 outer:exit 2b-ead958b59eae08cab9b9eac06c05c97f09562878-5c67099d2e20acd5-01
2022-04-21T16:18:38.383Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:38.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e6116bd8e8314df835e7275ee78d30d47bc11a8-82c6b6d3b8aceeca-01 outer:exit 2b-9e6116bd8e8314df835e7275ee78d30d47bc11a8-6189586bd82c1abe-01
2022-04-21T16:18:38.415Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (322ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.17
updated 1 package and audited 935 packages in 3.951s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:43.322Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:43.323Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:43.323Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:43.323Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:43.383Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:43.530Z appoptics:patching patched crypto 
2022-04-21T16:18:43.554Z appoptics:patching patched https 
2022-04-21T16:18:43.555Z appoptics:patching patched http 
2022-04-21T16:18:43.605Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:43.605Z appoptics:patching patched fs 
2022-04-21T16:18:43.630Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v14.19.1)
2022-04-21T16:18:43.636Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2022-04-21T16:18:43.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaccb840e197e1a053c9dbc2f2fe6db91341892f-9c8e7e97bc5a8d0a-01 outer:exit 2b-aaccb840e197e1a053c9dbc2f2fe6db91341892f-4c80efbba4ff6225-01
2022-04-21T16:18:43.681Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:43.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-06653e3ce294bd9d1a67752f7837d54372acebcb-a21dd3b34d7273a4-01 outer:exit 2b-06653e3ce294bd9d1a67752f7837d54372acebcb-5b6c86c6e8d2d046-01
2022-04-21T16:18:43.723Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:43.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ebe3ab6ea6f570f64ff71e59579c7f69e47e34b-485908e3dcee81dd-01 outer:exit 2b-0ebe3ab6ea6f570f64ff71e59579c7f69e47e34b-3f34fb275447cda6-01
2022-04-21T16:18:43.726Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:43.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea946156154c6ada7b7f32ea6731801307b5484f-14f2831b5a2ea258-01 outer:exit 2b-ea946156154c6ada7b7f32ea6731801307b5484f-744dca54dc66a851-01
2022-04-21T16:18:43.730Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:43.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3840b6174c0876e29ef0cf94d28d04ea81cc9bf-b03e2e6818f07a23-01 outer:exit 2b-a3840b6174c0876e29ef0cf94d28d04ea81cc9bf-d02505244cb45b46-01
2022-04-21T16:18:43.734Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:43.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-05932887ab9ba64ce5ba44989022218cdb7dc70d-f046127518e96173-01 outer:exit 2b-05932887ab9ba64ce5ba44989022218cdb7dc70d-7d0d537f5b31a4a3-01
2022-04-21T16:18:43.738Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:43.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c22b9f68c64e899d851094b081d99e456fc414f-0f86cdc5e2e75a6b-01 outer:exit 2b-1c22b9f68c64e899d851094b081d99e456fc414f-ec9a16fd7a5bee3d-01
2022-04-21T16:18:43.740Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:43.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fe40cc2ec920cbdd5ef1db7cd9f420a4063859c-8203c7362563a1d4-01 outer:exit 2b-1fe40cc2ec920cbdd5ef1db7cd9f420a4063859c-385e9dfb690dea38-01
2022-04-21T16:18:43.743Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:43.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-514e9d9404f989f99734542721701b112fdfac93-14b752ae24af279d-01 outer:exit 2b-514e9d9404f989f99734542721701b112fdfac93-cd9634ec4d6602b0-01
2022-04-21T16:18:43.745Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:43.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d83e3f456e50b40ecf5ecbd849b635aa17d409e-bc5efe05ec1fe32f-01 outer:exit 2b-8d83e3f456e50b40ecf5ecbd849b635aa17d409e-481384505a5d115f-01
2022-04-21T16:18:43.748Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:43.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-8946da285ddf84c6fe47a78d3783a0839ad5db5f-4ded1bee2a61764a-01 outer:exit 2b-8946da285ddf84c6fe47a78d3783a0839ad5db5f-14ff7620e4125e1c-01
2022-04-21T16:18:43.752Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:43.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cfddd926a715c843fba058848e36e3e22f4eb71-66c980328a8852c1-01 outer:exit 2b-1cfddd926a715c843fba058848e36e3e22f4eb71-d448c54bd82fb29c-01
2022-04-21T16:18:43.758Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:43.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-54115170542a86f39dd74a86bf35ac7f57705fc8-94e181d10a1a9229-01 outer:exit 2b-54115170542a86f39dd74a86bf35ac7f57705fc8-b9f9ef4350aba607-01
2022-04-21T16:18:43.776Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:43.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-346932d2c17385a778f92c8431574badd0f08eda-2d890b01f8ff3527-01 outer:exit 2b-346932d2c17385a778f92c8431574badd0f08eda-b2e9efa20848acaf-01
2022-04-21T16:18:43.814Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:43.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b2c022249c146696f7b47352f3c153dfddc4be7-2c463ad825ec81e0-01 outer:exit 2b-3b2c022249c146696f7b47352f3c153dfddc4be7-db0dc5bbf5f8ae33-01
2022-04-21T16:18:43.820Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:43.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-e401a2ea834e6afe1dd597d843ac4f3f897fec4d-d9784309e9ad6351-01 outer:exit 2b-e401a2ea834e6afe1dd597d843ac4f3f897fec4d-13f7b29235881f12-01
2022-04-21T16:18:43.822Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:43.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aab65257e5fb7977e98dfbc250152679b132e77-658f5f66bb9e4858-01 outer:exit 2b-0aab65257e5fb7977e98dfbc250152679b132e77-383303b4c4e98833-01
2022-04-21T16:18:43.825Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:43.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-d72af84e4b6fb3b620fb8d446efc664113adcfbf-e1c43b1693b6b703-01 outer:exit 2b-d72af84e4b6fb3b620fb8d446efc664113adcfbf-fc8aad2c4235d46f-01
2022-04-21T16:18:43.828Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:43.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-144f370b618821eb3797669ffcf65a1e2acdf6e4-8449caea767c48d7-01 outer:exit 2b-144f370b618821eb3797669ffcf65a1e2acdf6e4-b0e6473a01fbdbef-01
2022-04-21T16:18:43.830Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:43.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9c51a287bd9a3fa3f9b31d6908bc18d9852c82f-8cfd291ca8961ab9-01 outer:exit 2b-f9c51a287bd9a3fa3f9b31d6908bc18d9852c82f-398075b59771a118-01
2022-04-21T16:18:43.832Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:43.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ef53997d9de928ae2688db2f48862d37c946259-bbf1405fc11cc541-01 outer:exit 2b-8ef53997d9de928ae2688db2f48862d37c946259-f59fc89550d81b04-01
2022-04-21T16:18:43.834Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:43.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-96754c5ccdbdf381ab4cb40277d5693d0d6cb327-64a6be830cb120f0-01 outer:exit 2b-96754c5ccdbdf381ab4cb40277d5693d0d6cb327-61a674b5bd2359fa-01
2022-04-21T16:18:43.836Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:43.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc5e2424748a8529ca7270bed0ca543d0e6a749f-587f3c96dc673577-01 outer:exit 2b-fc5e2424748a8529ca7270bed0ca543d0e6a749f-1bb63b8202343c21-01
2022-04-21T16:18:43.839Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:43.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-096a5d4bda242e89afd38cd76c24d4496cefdefa-463d5bfc4fc53946-01 outer:exit 2b-096a5d4bda242e89afd38cd76c24d4496cefdefa-67cf0840cec54e77-01
2022-04-21T16:18:43.842Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:43.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-0871429c3f6ce136d37613d203646f8d8a675364-112b5a62571fac3a-01 outer:exit 2b-0871429c3f6ce136d37613d203646f8d8a675364-58f1dd5250fe7ff9-01
2022-04-21T16:18:43.844Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:43.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-82d007ee34afb5f17c638bbd72fd8ff8d0e684e1-5dbf1ed294db74f0-01 outer:exit 2b-82d007ee34afb5f17c638bbd72fd8ff8d0e684e1-21bd4262fd87599e-01
2022-04-21T16:18:43.847Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:43.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc8b148154bb546313bb5a26257b2be59b50a3e3-fdce68d381348296-01 outer:exit 2b-dc8b148154bb546313bb5a26257b2be59b50a3e3-1d9519f409a3e33b-01
2022-04-21T16:18:43.880Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:43.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-b026ec5ec9dfc728aa65fc97714a46e86cd312fd-12dc79bf73eea7d3-01 outer:exit 2b-b026ec5ec9dfc728aa65fc97714a46e86cd312fd-f014dcf359a3506f-01
2022-04-21T16:18:43.885Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:43.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ad1d221b7e59e37b2bab47f840c72b0e222fcd8-7441a005fad5769e-01 outer:exit 2b-8ad1d221b7e59e37b2bab47f840c72b0e222fcd8-f843ad410332e540-01
2022-04-21T16:18:43.901Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:43.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-158ad49e2a3aac188105e10ae2d4c12d7a52bdde-fa80bff6de63be71-01 outer:exit 2b-158ad49e2a3aac188105e10ae2d4c12d7a52bdde-80e3c2695b8bc661-01
2022-04-21T16:18:43.909Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:43.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bb939709ce78d7e6d1717c39ba09204614bc5cb-d48e447dd90bc3c4-01 outer:exit 2b-1bb939709ce78d7e6d1717c39ba09204614bc5cb-721ba4f7892037a2-01
2022-04-21T16:18:43.912Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:43.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-9adec830879979ca7e942c4548be44921de9b0c1-a1349a0ecabf9302-01 outer:exit 2b-9adec830879979ca7e942c4548be44921de9b0c1-103fe7e2394b9ff2-01
2022-04-21T16:18:43.916Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:43.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-fffc14904331c710bb7853f60c21ca87c4a0e622-e58e6467a2cf2969-01 outer:exit 2b-fffc14904331c710bb7853f60c21ca87c4a0e622-0c7b616f0f40dd96-01
2022-04-21T16:18:43.923Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:43.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-0258d287eb5503b9f9a127ca6f2074e55a8c9181-0a370b51a3ad7606-01 outer:exit 2b-0258d287eb5503b9f9a127ca6f2074e55a8c9181-6572717191f0e2b3-01
2022-04-21T16:18:43.927Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:43.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dce14407619441710761013f7248770a4e936f9-122219b8ddffdd4a-01 outer:exit 2b-4dce14407619441710761013f7248770a4e936f9-a29a2898819293d6-01
2022-04-21T16:18:43.930Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:43.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfcfa518546f1cb5675b35e0661a2caa49217845-a252c3311d43773d-01 outer:exit 2b-dfcfa518546f1cb5675b35e0661a2caa49217845-6dd07d3a4b4d0ab0-01
2022-04-21T16:18:43.936Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:43.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed81e052ee22e59218df4174252a6f78b2eb4966-ab9a67f975423824-01 outer:exit 2b-ed81e052ee22e59218df4174252a6f78b2eb4966-c8e708adb6364dad-01
2022-04-21T16:18:43.938Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:43.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-93fd842396a85fb11d2fb6a10ca44403049a5961-a886c586909f8e00-01 outer:exit 2b-93fd842396a85fb11d2fb6a10ca44403049a5961-a6aeb564feda3fbe-01
2022-04-21T16:18:43.942Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:43.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3e36b09ce8067352f69e107e6b651cb35b3d63e-bd21baacd45b66bf-01 outer:exit 2b-c3e36b09ce8067352f69e107e6b651cb35b3d63e-77cf63ac4328986e-01
2022-04-21T16:18:43.952Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:43.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-c79729453dfd77c9d0b4fb9c6f3c2671b6ca8329-ba13a5fda27fdc23-01 outer:exit 2b-c79729453dfd77c9d0b4fb9c6f3c2671b6ca8329-007f6dba08cdcd25-01
2022-04-21T16:18:43.962Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:43.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-8012e97fe106e860e8df8044f3003aaebf283774-bbae09866a7779f4-01 outer:exit 2b-8012e97fe106e860e8df8044f3003aaebf283774-fd088d26b81b0ecb-01
2022-04-21T16:18:43.966Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:43.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-4106cb7c1fa8485fbb1cf9f49aca2bfe44063f02-dc3265066b307f8f-01 outer:exit 2b-4106cb7c1fa8485fbb1cf9f49aca2bfe44063f02-50efb2a6bd755a3f-01
2022-04-21T16:18:43.970Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:43.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-86d7f0adc65bcf782f2c405119d12300ae634001-470320b69bf54137-01 outer:exit 2b-86d7f0adc65bcf782f2c405119d12300ae634001-a24f84410052994a-01
2022-04-21T16:18:43.973Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:44.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ebd52449ef048d771e713476eee1ad7ea3e07b2-60266dc9786677ba-01 outer:exit 2b-5ebd52449ef048d771e713476eee1ad7ea3e07b2-910d73b6b6fb6a5f-01
2022-04-21T16:18:44.016Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (373ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.18
updated 1 package and audited 935 packages in 3.609s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:48.564Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:48.565Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:48.565Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:48.565Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:48.625Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:48.760Z appoptics:patching patched crypto 
2022-04-21T16:18:48.777Z appoptics:patching patched https 
2022-04-21T16:18:48.777Z appoptics:patching patched http 
2022-04-21T16:18:48.814Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:48.814Z appoptics:patching patched fs 
2022-04-21T16:18:48.838Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v14.19.1)
2022-04-21T16:18:48.844Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2022-04-21T16:18:48.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-c852b6acb144b88c2d4330b07b955fb4faa9bd94-ae14c657d2203bd5-01 outer:exit 2b-c852b6acb144b88c2d4330b07b955fb4faa9bd94-1e413b847cb311c9-01
2022-04-21T16:18:48.887Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:48.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-e102e90189184d62e10179596df75342b6d39562-a242bc4e91d5bb59-01 outer:exit 2b-e102e90189184d62e10179596df75342b6d39562-68d2fa997c23b5af-01
2022-04-21T16:18:48.928Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:48.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ec1d89813d4731cd936e8dc305e7f893f6cfcc9-56fdbf92e2dfc108-01 outer:exit 2b-8ec1d89813d4731cd936e8dc305e7f893f6cfcc9-0a2905595ce3bd1d-01
2022-04-21T16:18:48.931Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:48.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-08ea934c957483cd77fe48036acf47f7386a02fb-d18535a561d9cc24-01 outer:exit 2b-08ea934c957483cd77fe48036acf47f7386a02fb-52c8875f592d7d9d-01
2022-04-21T16:18:48.934Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:48.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b61b96c0ebe5eaaf82d28dd5a18234d98d51e05-de89e279ba845a28-01 outer:exit 2b-4b61b96c0ebe5eaaf82d28dd5a18234d98d51e05-6b61db80965048ec-01
2022-04-21T16:18:48.939Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:48.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-694dcba0f5261478f6f873122daed5ee8fd0e713-cc10d2a05b6c3a52-01 outer:exit 2b-694dcba0f5261478f6f873122daed5ee8fd0e713-3e69d2a8e2223698-01
2022-04-21T16:18:48.942Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:48.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb94734c2121b85e8796cb180255c7cffa53af30-a7b7e26001f186c1-01 outer:exit 2b-eb94734c2121b85e8796cb180255c7cffa53af30-6fa2fefc0e32a95b-01
2022-04-21T16:18:48.944Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:48.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-82f12dd20f3e0df68b1fcc9e360ae512285a3a3e-ff6ec63b0faebe68-01 outer:exit 2b-82f12dd20f3e0df68b1fcc9e360ae512285a3a3e-34e3509b1c1015d3-01
2022-04-21T16:18:48.947Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:48.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-53783b263fde5c83e5b39529bb5965a86647cc51-10d2f8c765cb0376-01 outer:exit 2b-53783b263fde5c83e5b39529bb5965a86647cc51-63deed5909e2bbf1-01
2022-04-21T16:18:48.949Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:48.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-94714e6a1112a4de267662ee2b82aaeae3fc5eac-fe4d3d7eca5c0636-01 outer:exit 2b-94714e6a1112a4de267662ee2b82aaeae3fc5eac-b0f361c71ea1292a-01
2022-04-21T16:18:48.952Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:48.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-e64c80642b4da283c78d1015ca9272f2de20138e-9b80d166c33ba94b-01 outer:exit 2b-e64c80642b4da283c78d1015ca9272f2de20138e-392dae04a9eb9c46-01
2022-04-21T16:18:48.955Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:48.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-b416625ef5ed84e7eb16b4ff8465f40d67aa41ba-764cd7fc6f9f8c5c-01 outer:exit 2b-b416625ef5ed84e7eb16b4ff8465f40d67aa41ba-e4f731a15c678124-01
2022-04-21T16:18:48.961Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:48.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-7917be2cfeca29236b21b97df247139b32fce41f-951d01cefbc024c7-01 outer:exit 2b-7917be2cfeca29236b21b97df247139b32fce41f-b99978fb17b43a5b-01
2022-04-21T16:18:48.976Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:49.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-b379359110a5b901c9bf86afd6cfe317dd936559-85545ef75ff3832b-01 outer:exit 2b-b379359110a5b901c9bf86afd6cfe317dd936559-be53972c00ae04df-01
2022-04-21T16:18:49.011Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:49.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-f60ee79a0ac464f430e8a5a103232b61686e448b-416cbf3cafd63ccf-01 outer:exit 2b-f60ee79a0ac464f430e8a5a103232b61686e448b-d081a75662132412-01
2022-04-21T16:18:49.017Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:49.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-48f57b36d38eb59339f20c72461e6aae6dacb693-8f9c847be1c13ab8-01 outer:exit 2b-48f57b36d38eb59339f20c72461e6aae6dacb693-128d0665d9e492b4-01
2022-04-21T16:18:49.020Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:49.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b3e1a25f406f2b0625d04dd8619f8864a0f38e3-4a54482824767a19-01 outer:exit 2b-4b3e1a25f406f2b0625d04dd8619f8864a0f38e3-a8437b49b29104ff-01
2022-04-21T16:18:49.023Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:49.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-352f141fd323396509c13a2ef61da81b6f66507e-74b03b2e3ba70ad8-01 outer:exit 2b-352f141fd323396509c13a2ef61da81b6f66507e-ca8499accfe601e0-01
2022-04-21T16:18:49.025Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:49.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-67f7ab71b6c6481906ce756406935508628fdc07-6c60f1782f766c98-01 outer:exit 2b-67f7ab71b6c6481906ce756406935508628fdc07-11474028e75b064b-01
2022-04-21T16:18:49.027Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:49.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d0390369018c9c168b5f50735db3460c3de65d5-3c8f49e344d13bd9-01 outer:exit 2b-4d0390369018c9c168b5f50735db3460c3de65d5-4a4a645ca62fb40d-01
2022-04-21T16:18:49.029Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:49.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d3ff9ea10ecce73d1aa7043916cbf1575682554-1960b8fc2419b428-01 outer:exit 2b-4d3ff9ea10ecce73d1aa7043916cbf1575682554-b817883505aa27ac-01
2022-04-21T16:18:49.031Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:49.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9889978cc9d72a621947c7749eb122210fccf00-02096c374754d7b8-01 outer:exit 2b-e9889978cc9d72a621947c7749eb122210fccf00-2d660d905eef753a-01
2022-04-21T16:18:49.033Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:49.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-c36dbc98b8afd80fc6e40a88fc954abea56b774a-de0273b5e02b037d-01 outer:exit 2b-c36dbc98b8afd80fc6e40a88fc954abea56b774a-b12c2ba99f1a04f7-01
2022-04-21T16:18:49.036Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:49.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-a814c781a19497ad80739b19de7ee653a5645e07-5dd4c0da82fd9cd8-01 outer:exit 2b-a814c781a19497ad80739b19de7ee653a5645e07-719b13b832401a9b-01
2022-04-21T16:18:49.038Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:49.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b53fd145932d2cf735c3978c7f709143894e409-52a98e34ffc485a4-01 outer:exit 2b-0b53fd145932d2cf735c3978c7f709143894e409-f90a72ec7b91dc5b-01
2022-04-21T16:18:49.040Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:49.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-db74da198689e6902d24f9b31d7b93af34777a2f-3fe613d9d15cc1f9-01 outer:exit 2b-db74da198689e6902d24f9b31d7b93af34777a2f-d7802ef1e90835ca-01
2022-04-21T16:18:49.043Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:49.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-c55e20f21ecbd557d82bc656ac3a3abe1fadf065-404ae5da40bfec90-01 outer:exit 2b-c55e20f21ecbd557d82bc656ac3a3abe1fadf065-a2aac9cc225bcf2a-01
2022-04-21T16:18:49.050Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:49.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fd6dfcea348cce841682c000fb46caa1dbd171e-d3f43ce305342737-01 outer:exit 2b-0fd6dfcea348cce841682c000fb46caa1dbd171e-efcbe5aadac7450f-01
2022-04-21T16:18:49.054Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:49.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-b03214c1903c31111654afdfec33c4500a81caef-38c97b909cd4cbe6-01 outer:exit 2b-b03214c1903c31111654afdfec33c4500a81caef-ab685764969106d4-01
2022-04-21T16:18:49.062Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:49.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-0763152a702135d3ddd7cb8b510b61c5f6c26f3d-860462d546859a3f-01 outer:exit 2b-0763152a702135d3ddd7cb8b510b61c5f6c26f3d-d16c09f147812e82-01
2022-04-21T16:18:49.068Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:49.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dcbfb9485b3a033a87c7683e6f94f266804b59f-faee02e92568c69c-01 outer:exit 2b-2dcbfb9485b3a033a87c7683e6f94f266804b59f-3e5bfa9fe667a3af-01
2022-04-21T16:18:49.070Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:49.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcda3d9b3a150b1494144f59f0fe094b4c91218c-03071554f64490ec-01 outer:exit 2b-bcda3d9b3a150b1494144f59f0fe094b4c91218c-9374a30791426b4a-01
2022-04-21T16:18:49.073Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:49.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e88ec1e3e3348996b3d2702184889b5ea22d8d8-9e39850e6a21a9f2-01 outer:exit 2b-6e88ec1e3e3348996b3d2702184889b5ea22d8d8-f70d54b9fbaab29b-01
2022-04-21T16:18:49.079Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:49.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd5ada4028307837320a3684979364b021f817f4-84684dc78ac9a7df-01 outer:exit 2b-fd5ada4028307837320a3684979364b021f817f4-63dc1fd3cd338691-01
2022-04-21T16:18:49.081Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:49.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5dd9c6e7f25090546155d3b78a93732ce7a17ff-6447c9cf909579fe-01 outer:exit 2b-c5dd9c6e7f25090546155d3b78a93732ce7a17ff-4eae3427ed79d098-01
2022-04-21T16:18:49.083Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:49.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-755fa45218def5c8a0dcf6bad38bea351571d311-e5b610717d995675-01 outer:exit 2b-755fa45218def5c8a0dcf6bad38bea351571d311-b9bfa84a7331b9d2-01
2022-04-21T16:18:49.085Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:49.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-a064ddce9538a663b6427a21bec260fe1f60fea8-3783e3a4b067658e-01 outer:exit 2b-a064ddce9538a663b6427a21bec260fe1f60fea8-1654e8a28cdee798-01
2022-04-21T16:18:49.087Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:49.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c4258406df5b2676b5f68c1b5769deeef8d5e02-97c1035dcc3283cf-01 outer:exit 2b-4c4258406df5b2676b5f68c1b5769deeef8d5e02-5b1a6b7cb0125b46-01
2022-04-21T16:18:49.089Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:49.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-660225f6b141e037a9db42f9da02b3bd2e02379e-a3611e7f65e16fcb-01 outer:exit 2b-660225f6b141e037a9db42f9da02b3bd2e02379e-6397575eba7f529d-01
2022-04-21T16:18:49.098Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:49.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-78e99dd84bc602dcb3a388ffb8da7a44ec4d63a5-3e281ffe07ca6fec-01 outer:exit 2b-78e99dd84bc602dcb3a388ffb8da7a44ec4d63a5-f8c94d4e6b201c36-01
2022-04-21T16:18:49.107Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:49.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-fab0a6bc8fc0fa5e90a239c8478287b9bdd6bba1-bd914ccce36de36e-01 outer:exit 2b-fab0a6bc8fc0fa5e90a239c8478287b9bdd6bba1-e2c3fe4bb4e1bc8c-01
2022-04-21T16:18:49.110Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:49.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6f02aa7fc798a48f3ebaa2c9e551d768c0b53ef-fd0a90a47b5521e2-01 outer:exit 2b-d6f02aa7fc798a48f3ebaa2c9e551d768c0b53ef-eba890643d1b1496-01
2022-04-21T16:18:49.112Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:49.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3dd731923ca0f1bfa1a9d37cc023fd09de71b4f-54ac92bab25da6f1-01 outer:exit 2b-e3dd731923ca0f1bfa1a9d37cc023fd09de71b4f-48ab44e533869297-01
2022-04-21T16:18:49.115Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:49.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-17b8cef9605422e9f064cc80d8074b39ec894074-16d1484fe817727e-01 outer:exit 2b-17b8cef9605422e9f064cc80d8074b39ec894074-bfb7b164c5eab1f4-01
2022-04-21T16:18:49.142Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (292ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.19
updated 1 package and audited 935 packages in 4.329s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:54.382Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:54.383Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:54.383Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:54.383Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:54.501Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:54.645Z appoptics:patching patched crypto 
2022-04-21T16:18:54.679Z appoptics:patching patched https 
2022-04-21T16:18:54.679Z appoptics:patching patched http 
2022-04-21T16:18:54.712Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:54.713Z appoptics:patching patched fs 
2022-04-21T16:18:54.739Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v14.19.1)
2022-04-21T16:18:54.744Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2022-04-21T16:18:54.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-046bb1bea6818d5bef627eafaf90c8a975ab4d81-b0b28c0a49be8ae1-01 outer:exit 2b-046bb1bea6818d5bef627eafaf90c8a975ab4d81-4b1282b4a65c9523-01
2022-04-21T16:18:54.789Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:54.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fae3cda1523fb0c01f2ce90f3073cdf12627321-9df7c087fccc1563-01 outer:exit 2b-9fae3cda1523fb0c01f2ce90f3073cdf12627321-4f3f91e285be2a1d-01
2022-04-21T16:18:54.830Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:54.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7845fbbb08c5d1e49fb183cf22fd6cbeec3dc26-39c3263a5f1280a0-01 outer:exit 2b-c7845fbbb08c5d1e49fb183cf22fd6cbeec3dc26-d476c028abc69ab3-01
2022-04-21T16:18:54.834Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:54.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-23f5dc51cd9b4800e40e3a0748260120e384a7d9-d636b995e5636513-01 outer:exit 2b-23f5dc51cd9b4800e40e3a0748260120e384a7d9-af60a46eaf131b20-01
2022-04-21T16:18:54.838Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:54.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e1f0a445123f924329427b938e27b13430abdfc-4a2bf9cf5d0759f6-01 outer:exit 2b-9e1f0a445123f924329427b938e27b13430abdfc-cb7ba112a87ca055-01
2022-04-21T16:18:54.843Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:54.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dff1f2136029996861e2cffb672569f3b2214e3-e4eda16ee166779e-01 outer:exit 2b-0dff1f2136029996861e2cffb672569f3b2214e3-ebb5bf2f0df39952-01
2022-04-21T16:18:54.846Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:54.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dc35f9ff9bc4de00fcecbb0e70cdf78e386e154-e5c74fbd26856dfb-01 outer:exit 2b-2dc35f9ff9bc4de00fcecbb0e70cdf78e386e154-cea170390c4140ca-01
2022-04-21T16:18:54.849Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:54.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ce0479f288983ad35c648efb68c6a2da3ac5225-e48bc106ab0855b2-01 outer:exit 2b-9ce0479f288983ad35c648efb68c6a2da3ac5225-c188e0a4be686a68-01
2022-04-21T16:18:54.852Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:54.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ae5d44ffcb4b843961ad06fedc53c3f69a53339-d59c5f15cdb32523-01 outer:exit 2b-1ae5d44ffcb4b843961ad06fedc53c3f69a53339-6a15259a1fa7149d-01
2022-04-21T16:18:54.854Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:54.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9caa5a08db599efe37d145cf653f8b1c7038930-25733376f6f66861-01 outer:exit 2b-d9caa5a08db599efe37d145cf653f8b1c7038930-f58cc984970ec51e-01
2022-04-21T16:18:54.857Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:54.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1dcb8affb867d36cfdfae19e4338c4bb7d8284f-b1b2f495663e62ec-01 outer:exit 2b-f1dcb8affb867d36cfdfae19e4338c4bb7d8284f-0fec063ca43ff559-01
2022-04-21T16:18:54.861Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:54.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-9aeb769781cd809d6f2c82dd7440aa93b0e1a3c7-70d9bed78e6680b2-01 outer:exit 2b-9aeb769781cd809d6f2c82dd7440aa93b0e1a3c7-a8586690429b3938-01
2022-04-21T16:18:54.868Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:54.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-6595b2e25d2b3e56c502c7793c96f233cf445897-33dc9118382185fa-01 outer:exit 2b-6595b2e25d2b3e56c502c7793c96f233cf445897-7c60c03a0adb40df-01
2022-04-21T16:18:54.886Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:54.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-172de4e6ac818307617879ff43892d2afd509fbe-6b5f86a81889376a-01 outer:exit 2b-172de4e6ac818307617879ff43892d2afd509fbe-caee7cc83d1924ab-01
2022-04-21T16:18:54.923Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:54.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-3db6b2b56dde90d93de2a58b36538b5818d37d5a-81303e8447308723-01 outer:exit 2b-3db6b2b56dde90d93de2a58b36538b5818d37d5a-0da742e6c36cb9a1-01
2022-04-21T16:18:54.929Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:54.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ec7c13991e2081b905c881fbfa8badd7bfa7ebf-290dc724091fe235-01 outer:exit 2b-2ec7c13991e2081b905c881fbfa8badd7bfa7ebf-d514f44f5174a3f3-01
2022-04-21T16:18:54.931Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:54.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-82194b9c87b58bb39644e466fe4a5eed42a694cd-83d246f5001ec835-01 outer:exit 2b-82194b9c87b58bb39644e466fe4a5eed42a694cd-710cf78b0ff205f8-01
2022-04-21T16:18:54.935Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:54.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-77f3e5e8517e641de371fcd9b0ef51e828433f81-f4c4c2add8ff2643-01 outer:exit 2b-77f3e5e8517e641de371fcd9b0ef51e828433f81-7cac711782d29795-01
2022-04-21T16:18:54.938Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:54.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e68180207900bd3f5c09be2e34b4a0469eb4af2-3636cdc87d896da6-01 outer:exit 2b-6e68180207900bd3f5c09be2e34b4a0469eb4af2-bcfac0a20366f486-01
2022-04-21T16:18:54.942Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:54.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ca2a400029f09c954aa91ea01707b0a3c57fed5-07aa3d0a956ad05c-01 outer:exit 2b-7ca2a400029f09c954aa91ea01707b0a3c57fed5-cf9f592f8500eb9c-01
2022-04-21T16:18:54.944Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:54.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-21fbe8924fe4f21e0fd3108d6bec66045cbe5e53-66a784388fad76a5-01 outer:exit 2b-21fbe8924fe4f21e0fd3108d6bec66045cbe5e53-63b00ac436aed9da-01
2022-04-21T16:18:54.947Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:54.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-7149584b6290ad0d70ee0b4317883f6465db5d90-26ec0e50b14f39ca-01 outer:exit 2b-7149584b6290ad0d70ee0b4317883f6465db5d90-58de7447eb35eaf7-01
2022-04-21T16:18:54.951Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:54.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-67ccddd82f1773a6e3277fd5fdfa49d8612e49bc-de7bd3eace47b63a-01 outer:exit 2b-67ccddd82f1773a6e3277fd5fdfa49d8612e49bc-87f04b2311d63cc9-01
2022-04-21T16:18:54.956Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:54.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-7109b33698ab7155ee0f44413f3f5d51095cccd1-98f16190680dc050-01 outer:exit 2b-7109b33698ab7155ee0f44413f3f5d51095cccd1-2c31265c269f2b0a-01
2022-04-21T16:18:54.961Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:54.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-ced8391df545cc09600250ae5c9f7e56e059bcce-ce014b7c266f9ad2-01 outer:exit 2b-ced8391df545cc09600250ae5c9f7e56e059bcce-13689f7ae762287a-01
2022-04-21T16:18:54.964Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:54.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c5ca9772edc8181d24dc747cc7deab4917089f2-208a66bf48884b40-01 outer:exit 2b-0c5ca9772edc8181d24dc747cc7deab4917089f2-28792ee3b4ef95a4-01
2022-04-21T16:18:54.968Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:54.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcf72ba1a04d41918ad6efdcd90faf891f88d5c3-fc75818ed076a1fa-01 outer:exit 2b-bcf72ba1a04d41918ad6efdcd90faf891f88d5c3-46fadb4c63f35204-01
2022-04-21T16:18:54.979Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:54.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2ed106c2401678501491861d03ba1c2a6a4fd0a-57edeb03cd084dd6-01 outer:exit 2b-c2ed106c2401678501491861d03ba1c2a6a4fd0a-dfa9baa98999114a-01
2022-04-21T16:18:54.983Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:54.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2f3984591454973ea32a69082e31a9d0153bb2d-379d1c6d1fe151ac-01 outer:exit 2b-f2f3984591454973ea32a69082e31a9d0153bb2d-2269025ebcec3f0c-01
2022-04-21T16:18:54.991Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:54.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-be4241d11f2eaee3e17925f0af4141e90b336dca-9fd4d3c5006f5bc2-01 outer:exit 2b-be4241d11f2eaee3e17925f0af4141e90b336dca-4d490cf824664098-01
2022-04-21T16:18:54.997Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:55.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-80d6bad0cc84fadc695813e423fae2799d568013-698c82bbeb0b691c-01 outer:exit 2b-80d6bad0cc84fadc695813e423fae2799d568013-55698942fa94855e-01
2022-04-21T16:18:55.002Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:55.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-997fd688231408313b8cb096671c8ff0b49d799b-6c9e452d6fce97a5-01 outer:exit 2b-997fd688231408313b8cb096671c8ff0b49d799b-00b3efac202fe631-01
2022-04-21T16:18:55.008Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:55.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-c637895a364484eef9aee3025737917ccc262afd-65aa820f6a8a9c85-01 outer:exit 2b-c637895a364484eef9aee3025737917ccc262afd-8761ef63f74b6c34-01
2022-04-21T16:18:55.014Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:55.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-187068b9b3f142d3cd1e443bfd94fc17d0d2ee8d-16f75197b70af21c-01 outer:exit 2b-187068b9b3f142d3cd1e443bfd94fc17d0d2ee8d-62de17c9e70ca471-01
2022-04-21T16:18:55.016Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:55.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-f972c55088823b00a2ee4bea16b95b66bc465e32-4e33df4e331fd003-01 outer:exit 2b-f972c55088823b00a2ee4bea16b95b66bc465e32-e20d787a48d0df3d-01
2022-04-21T16:18:55.018Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:55.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-efba27682742a6cdca868cc595528630219442bc-def02618ddf3b574-01 outer:exit 2b-efba27682742a6cdca868cc595528630219442bc-81dd82d5748d7656-01
2022-04-21T16:18:55.021Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:55.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccf19014c4349344082857e2ac45ec70c71bbbd4-e1feb68b414afdab-01 outer:exit 2b-ccf19014c4349344082857e2ac45ec70c71bbbd4-091a4d87bb275895-01
2022-04-21T16:18:55.025Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:55.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-44fb788563a9b65d85ec804b26e0c64b6358ccaa-af318188150fb48b-01 outer:exit 2b-44fb788563a9b65d85ec804b26e0c64b6358ccaa-6987bc109ed7735f-01
2022-04-21T16:18:55.027Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:55.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-25841268652fa065955df0e3b8f7ef3d571a05e7-ae9f4416460a41cc-01 outer:exit 2b-25841268652fa065955df0e3b8f7ef3d571a05e7-1079f79bf70b998b-01
2022-04-21T16:18:55.041Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:55.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d0e22375cb9c6dc511033fdadb53b0b65befb15-6827862394aa0964-01 outer:exit 2b-2d0e22375cb9c6dc511033fdadb53b0b65befb15-d003632188a6acf8-01
2022-04-21T16:18:55.052Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:55.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-15f64a74ce8fcd7a70c888c3bfdce6606d0b71cb-835e9c7902e791f6-01 outer:exit 2b-15f64a74ce8fcd7a70c888c3bfdce6606d0b71cb-5f19b8dc78253ab8-01
2022-04-21T16:18:55.055Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:55.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b2df8c4e3040d9c00a2a40d7782afba98360192-02ef7dd4de3af065-01 outer:exit 2b-2b2df8c4e3040d9c00a2a40d7782afba98360192-92b280df503aadd7-01
2022-04-21T16:18:55.058Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:55.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f859271c2ebfb5f79235d8aac34a54fe44a9078-7adfc395d716f3cd-01 outer:exit 2b-9f859271c2ebfb5f79235d8aac34a54fe44a9078-657823b21fffce87-01
2022-04-21T16:18:55.061Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:55.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e483b1f8b30085d1109efd8bcc7b66dcf64165b-41bb0f52de4655df-01 outer:exit 2b-8e483b1f8b30085d1109efd8bcc7b66dcf64165b-5bd36dd5bd9d1fab-01
2022-04-21T16:18:55.091Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (340ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.20
updated 1 package and audited 935 packages in 3.53s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:59.625Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:59.626Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:59.626Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:59.626Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:59.685Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:59.817Z appoptics:patching patched crypto 
2022-04-21T16:18:59.834Z appoptics:patching patched https 
2022-04-21T16:18:59.835Z appoptics:patching patched http 
2022-04-21T16:18:59.870Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:59.870Z appoptics:patching patched fs 
2022-04-21T16:18:59.895Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v14.19.1)
2022-04-21T16:18:59.901Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2022-04-21T16:18:59.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-0082415ee6084c055e4b72ce8684c7f0d374a254-72ca99f2501dde2c-01 outer:exit 2b-0082415ee6084c055e4b72ce8684c7f0d374a254-5562e5e4b3ebfda4-01
2022-04-21T16:18:59.943Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:59.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e10884b4d4725d2a0ee7eaf1a06414aa85cb92e-e8f6d3b1a19603ab-01 outer:exit 2b-6e10884b4d4725d2a0ee7eaf1a06414aa85cb92e-d7fb0c83f139035d-01
2022-04-21T16:18:59.987Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:59.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7c93e9450dc7306d673afdc8d966517140f38a0-9967380a583a72e4-01 outer:exit 2b-f7c93e9450dc7306d673afdc8d966517140f38a0-d87f6a4a2b786b50-01
2022-04-21T16:18:59.990Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:59.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c901e368a23c959b42e187fcba72334267e3a1a-0aee5748739c996f-01 outer:exit 2b-0c901e368a23c959b42e187fcba72334267e3a1a-57c575392c4d753b-01
2022-04-21T16:18:59.993Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:59.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-392df16e0a24ef7389f578d324a5a229bc6bacd4-b2f9edd47c384fbb-01 outer:exit 2b-392df16e0a24ef7389f578d324a5a229bc6bacd4-3668a58ec120fd38-01
2022-04-21T16:18:59.999Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:00.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-4462b74d1cf5d4c907dde7f41c945271fab5d993-277b3cb7d8dcfdf3-01 outer:exit 2b-4462b74d1cf5d4c907dde7f41c945271fab5d993-7cad5441e1947805-01
2022-04-21T16:19:00.002Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:00.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbdd6af568d5f366213d5a8c39baae0184cf745c-e417d115dcbdef2c-01 outer:exit 2b-dbdd6af568d5f366213d5a8c39baae0184cf745c-261551e0a1b2171a-01
2022-04-21T16:19:00.005Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:00.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f4ccbd3bcc1649d7bbffa29f27931ba19377be4-96302b05fafe6276-01 outer:exit 2b-3f4ccbd3bcc1649d7bbffa29f27931ba19377be4-465d79e8125de005-01
2022-04-21T16:19:00.008Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:00.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b614a7d00754af9f884b01ea9767769d4a34e45-a3ddf1f3c7efdee2-01 outer:exit 2b-3b614a7d00754af9f884b01ea9767769d4a34e45-ab45ba6b50770886-01
2022-04-21T16:19:00.010Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:00.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd5e17275a2ec0a91dd0300b9347d7b311897aab-ec644d5436645e24-01 outer:exit 2b-dd5e17275a2ec0a91dd0300b9347d7b311897aab-789de4f3115de17b-01
2022-04-21T16:19:00.013Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:00.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-99624423a9b151aab4006132d07d7833e62788da-540b3fefa7358254-01 outer:exit 2b-99624423a9b151aab4006132d07d7833e62788da-72cdacd01e98ee4f-01
2022-04-21T16:19:00.017Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:00.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-84c44130a5a42561a7aff9460dbfd05c627b1517-bde1310de9e2fad1-01 outer:exit 2b-84c44130a5a42561a7aff9460dbfd05c627b1517-b66de7675d08281b-01
2022-04-21T16:19:00.027Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:00.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-796edccc4b068b1cc9a1a17a96849eb5803a48a0-9e09504f14047427-01 outer:exit 2b-796edccc4b068b1cc9a1a17a96849eb5803a48a0-2e2028998b1ef6da-01
2022-04-21T16:19:00.043Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:00.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-880e4c91e50c9ebbf5e56d46c83d7a92444e53a9-ffef8dd170a2da73-01 outer:exit 2b-880e4c91e50c9ebbf5e56d46c83d7a92444e53a9-bee226781b73f49d-01
2022-04-21T16:19:00.081Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:00.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-619470965fdb1b5b264d9efd13185878f43df585-74e83ebf081cfeff-01 outer:exit 2b-619470965fdb1b5b264d9efd13185878f43df585-0d00f097c6393c90-01
2022-04-21T16:19:00.087Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:00.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-13deb2d5478cdf550ace5a5959911bc10107d012-0e6d91b01e8d5513-01 outer:exit 2b-13deb2d5478cdf550ace5a5959911bc10107d012-3a136be7511fe949-01
2022-04-21T16:19:00.089Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:00.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5a4445541f420bde8ac5615d9e0b6d2b99d8d5f-7412197a4699e9ec-01 outer:exit 2b-e5a4445541f420bde8ac5615d9e0b6d2b99d8d5f-9a4638cfb7df8cfd-01
2022-04-21T16:19:00.092Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:00.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb2a12fa7e73c706c05508efa21ae0e3c4169504-05894666e97a4933-01 outer:exit 2b-eb2a12fa7e73c706c05508efa21ae0e3c4169504-e5c3f5e5ed41a7e1-01
2022-04-21T16:19:00.094Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:00.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-e709615ea24cc8711b8285aba45443fd31adedf4-a6a0d8bfef483010-01 outer:exit 2b-e709615ea24cc8711b8285aba45443fd31adedf4-63ffd7d040c7ce19-01
2022-04-21T16:19:00.097Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:00.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-63f2955a1a1a65d19d24ce9d2d4b863880d1f563-a7d939629b46772c-01 outer:exit 2b-63f2955a1a1a65d19d24ce9d2d4b863880d1f563-5a5f93dcd88e00ea-01
2022-04-21T16:19:00.099Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:00.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-08e63e19c80cba74a1b22951d814dc73013b007c-26201ce91cb782f5-01 outer:exit 2b-08e63e19c80cba74a1b22951d814dc73013b007c-bce3000a52ebf18d-01
2022-04-21T16:19:00.102Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:00.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-43356d134a1339d170f7724e5eb188435ecd3413-8e735c6b02684d69-01 outer:exit 2b-43356d134a1339d170f7724e5eb188435ecd3413-8ddf6e9b7829f80a-01
2022-04-21T16:19:00.104Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:00.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-a11e716d3d9a790feb0c3a57f1d409097e7b02f2-c008695c7737b789-01 outer:exit 2b-a11e716d3d9a790feb0c3a57f1d409097e7b02f2-01d5ba306d74ef95-01
2022-04-21T16:19:00.107Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:00.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9812cbc0b288717b35232a14185d90e82adb9fa-1531ae8c542b5269-01 outer:exit 2b-b9812cbc0b288717b35232a14185d90e82adb9fa-27197e89b8a58b89-01
2022-04-21T16:19:00.110Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:00.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-e44c1c50207fe7dd417210d2953e13549ab5d234-f7d489b0f4548d2a-01 outer:exit 2b-e44c1c50207fe7dd417210d2953e13549ab5d234-92e76ac9ed861652-01
2022-04-21T16:19:00.112Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:00.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-f65bb2f1dd0d074f22cda3c7324014aed839eeb1-d5a9acb81f17e75a-01 outer:exit 2b-f65bb2f1dd0d074f22cda3c7324014aed839eeb1-f24a124acf9d1447-01
2022-04-21T16:19:00.114Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:00.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ecdc8057523bb48593e3dc4be59e8f5a2627edc-06eacb03b1cf86af-01 outer:exit 2b-3ecdc8057523bb48593e3dc4be59e8f5a2627edc-664aa2b1cc09b002-01
2022-04-21T16:19:00.122Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:00.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa43a1643a22b1bd3d5ee9987209d189d57b8a45-9e27b4b8a0d36e30-01 outer:exit 2b-aa43a1643a22b1bd3d5ee9987209d189d57b8a45-6307956445df9409-01
2022-04-21T16:19:00.127Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:00.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-046fb03db52ac2ce34723947f7634b515b41e2bd-c4564f99a7f68714-01 outer:exit 2b-046fb03db52ac2ce34723947f7634b515b41e2bd-96d507e37d391cac-01
2022-04-21T16:19:00.136Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:00.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a00821495b5626881f10a4849dcd82ea4581014-5bb30232862f41c3-01 outer:exit 2b-9a00821495b5626881f10a4849dcd82ea4581014-86fae61216056eaf-01
2022-04-21T16:19:00.144Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:00.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce3b6165978369d617bcfdab3d26a409db6afd78-24dd5d6bd4956ba9-01 outer:exit 2b-ce3b6165978369d617bcfdab3d26a409db6afd78-2d34ce42fa984481-01
2022-04-21T16:19:00.146Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:00.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-06d108963f87109502f3c31131bb87afa1948bda-9e6be2d2b3226d0b-01 outer:exit 2b-06d108963f87109502f3c31131bb87afa1948bda-acaeac99dcaef93c-01
2022-04-21T16:19:00.149Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:00.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a9f57ceb47d685bffe6931c46d5019e152f804d-d3bae84b403e5c37-01 outer:exit 2b-4a9f57ceb47d685bffe6931c46d5019e152f804d-b3bca7d4a30a7dd8-01
2022-04-21T16:19:00.157Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:00.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-d13ab456f1025b2dc402d7d841fdf3e8decfa1b6-762c2795aeb96511-01 outer:exit 2b-d13ab456f1025b2dc402d7d841fdf3e8decfa1b6-9375e2e423592d47-01
2022-04-21T16:19:00.160Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:00.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-64a745b15e50ef6e03d533ac59e0b01791a421e7-cb866b33e73dbb8b-01 outer:exit 2b-64a745b15e50ef6e03d533ac59e0b01791a421e7-eec5236d9f1680b3-01
2022-04-21T16:19:00.162Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:00.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cb5578b3160efa2b3cc20145a4a900b50b16f89-7b101be3e1a2c14f-01 outer:exit 2b-2cb5578b3160efa2b3cc20145a4a900b50b16f89-0715650a90db2bf7-01
2022-04-21T16:19:00.164Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:00.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c975969803925a8db20ca842145d18c1fd88393-3ac6d55e902d05d2-01 outer:exit 2b-1c975969803925a8db20ca842145d18c1fd88393-4cc09fc6a4e2e070-01
2022-04-21T16:19:00.166Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:00.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c470a40c4c94c095f7e2ead1e4cbf7ed68c0508-c4bb110f9383fb94-01 outer:exit 2b-1c470a40c4c94c095f7e2ead1e4cbf7ed68c0508-8b2b59b2fe11bd44-01
2022-04-21T16:19:00.168Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:00.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8b5298aa94e0afcefc0e07fa098404a74b55d4a-ccedf435995b9ba2-01 outer:exit 2b-b8b5298aa94e0afcefc0e07fa098404a74b55d4a-749d4db024b0ff72-01
2022-04-21T16:19:00.177Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:00.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb86ee607fc3a6b307a84b42153f2762ab9a28cd-1a3528bb6f60cf99-01 outer:exit 2b-fb86ee607fc3a6b307a84b42153f2762ab9a28cd-2b1d222a2b46b38a-01
2022-04-21T16:19:00.185Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:00.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ba2b34bd28d06a8a4b9a645de37e64738bc3123-4a7c90d2f38330a3-01 outer:exit 2b-6ba2b34bd28d06a8a4b9a645de37e64738bc3123-609b3ef80193b7e9-01
2022-04-21T16:19:00.188Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:00.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-c25fee041bc7afb7a9b81e8ed19b3876e7491d61-88df36588bc2b4ea-01 outer:exit 2b-c25fee041bc7afb7a9b81e8ed19b3876e7491d61-6bdbc8403e681be9-01
2022-04-21T16:19:00.191Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:00.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4ebff4ad48fba8119fbbde524900fec000946fd-240b5a8dbd9bca37-01 outer:exit 2b-a4ebff4ad48fba8119fbbde524900fec000946fd-f7f367e82beef696-01
2022-04-21T16:19:00.194Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:00.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab35761c7b0a4b2bb38a598658416fc608db9af6-7c19758bbc87c7dc-01 outer:exit 2b-ab35761c7b0a4b2bb38a598658416fc608db9af6-1b15a2904a86f221-01
2022-04-21T16:19:00.224Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (318ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.0
updated 1 package and audited 935 packages in 4.534s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:05.774Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:05.774Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:05.774Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:05.777Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:05.849Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:05.997Z appoptics:patching patched crypto 
2022-04-21T16:19:06.036Z appoptics:patching patched https 
2022-04-21T16:19:06.045Z appoptics:patching patched http 
2022-04-21T16:19:06.078Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:06.079Z appoptics:patching patched fs 
2022-04-21T16:19:06.089Z appoptics:patching patched zlib 
2022-04-21T16:19:06.117Z appoptics:patching patched mongodb-core 3.0.0
2022-04-21T16:19:06.125Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (319ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.1
updated 1 package and audited 935 packages in 3.53s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:10.837Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:10.837Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:10.837Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:10.838Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:10.897Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:11.030Z appoptics:patching patched crypto 
2022-04-21T16:19:11.047Z appoptics:patching patched https 
2022-04-21T16:19:11.047Z appoptics:patching patched http 
2022-04-21T16:19:11.083Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:11.083Z appoptics:patching patched fs 
2022-04-21T16:19:11.092Z appoptics:patching patched zlib 
2022-04-21T16:19:11.112Z appoptics:patching patched mongodb-core 3.0.1
2022-04-21T16:19:11.117Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (251ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.2
updated 1 package and audited 935 packages in 4.24s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:16.677Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:16.678Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:16.678Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:16.678Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:16.751Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:16.920Z appoptics:patching patched crypto 
2022-04-21T16:19:16.969Z appoptics:patching patched https 
2022-04-21T16:19:16.970Z appoptics:patching patched http 
2022-04-21T16:19:17.013Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:17.013Z appoptics:patching patched fs 
2022-04-21T16:19:17.022Z appoptics:patching patched zlib 
2022-04-21T16:19:17.045Z appoptics:patching patched mongodb-core 3.0.2
2022-04-21T16:19:17.049Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (264ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.3
updated 1 package and audited 935 packages in 3.617s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:21.829Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:21.829Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:21.829Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:21.830Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:21.909Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:22.053Z appoptics:patching patched crypto 
2022-04-21T16:19:22.070Z appoptics:patching patched https 
2022-04-21T16:19:22.071Z appoptics:patching patched http 
2022-04-21T16:19:22.109Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:22.110Z appoptics:patching patched fs 
2022-04-21T16:19:22.119Z appoptics:patching patched zlib 
2022-04-21T16:19:22.142Z appoptics:patching patched mongodb-core 3.0.3
2022-04-21T16:19:22.147Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (244ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.4
updated 1 package and audited 935 packages in 3.942s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:27.527Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:27.527Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:27.527Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:27.533Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:27.708Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:27.980Z appoptics:patching patched crypto 
2022-04-21T16:19:28.017Z appoptics:patching patched https 
2022-04-21T16:19:28.018Z appoptics:patching patched http 
2022-04-21T16:19:28.108Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:28.108Z appoptics:patching patched fs 
2022-04-21T16:19:28.132Z appoptics:patching patched zlib 
2022-04-21T16:19:28.195Z appoptics:patching patched mongodb-core 3.0.4
2022-04-21T16:19:28.204Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (331ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.5
updated 1 package and audited 935 packages in 4.024s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:33.517Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:33.517Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:33.517Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:33.520Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:33.579Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:33.712Z appoptics:patching patched crypto 
2022-04-21T16:19:33.729Z appoptics:patching patched https 
2022-04-21T16:19:33.729Z appoptics:patching patched http 
2022-04-21T16:19:33.766Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:33.766Z appoptics:patching patched fs 
2022-04-21T16:19:33.775Z appoptics:patching patched zlib 
2022-04-21T16:19:33.797Z appoptics:patching patched mongodb-core 3.0.5
2022-04-21T16:19:33.801Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (241ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.6
updated 1 package and audited 935 packages in 5.56s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:40.561Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:40.562Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:40.562Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:40.563Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:40.637Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:40.791Z appoptics:patching patched crypto 
2022-04-21T16:19:40.831Z appoptics:patching patched https 
2022-04-21T16:19:40.832Z appoptics:patching patched http 
2022-04-21T16:19:40.875Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:40.875Z appoptics:patching patched fs 
2022-04-21T16:19:40.885Z appoptics:patching patched zlib 
2022-04-21T16:19:40.909Z appoptics:patching patched mongodb-core 3.0.6
2022-04-21T16:19:40.914Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (275ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.7
updated 1 package and audited 935 packages in 3.662s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:45.708Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:45.709Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:45.709Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:45.709Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:45.769Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:45.902Z appoptics:patching patched crypto 
2022-04-21T16:19:45.920Z appoptics:patching patched https 
2022-04-21T16:19:45.920Z appoptics:patching patched http 
2022-04-21T16:19:45.956Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:45.956Z appoptics:patching patched fs 
2022-04-21T16:19:45.965Z appoptics:patching patched zlib 
2022-04-21T16:19:45.989Z appoptics:patching patched mongodb-core 3.0.7
2022-04-21T16:19:45.994Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (243ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.8
updated 1 package and audited 935 packages in 3.719s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:50.880Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:50.881Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:50.881Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:50.881Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:50.940Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:51.076Z appoptics:patching patched crypto 
2022-04-21T16:19:51.111Z appoptics:patching patched https 
2022-04-21T16:19:51.111Z appoptics:patching patched http 
2022-04-21T16:19:51.148Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:51.149Z appoptics:patching patched fs 
2022-04-21T16:19:51.161Z appoptics:patching patched zlib 
2022-04-21T16:19:51.186Z appoptics:patching patched mongodb-core 3.0.8
2022-04-21T16:19:51.191Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (270ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.9
updated 1 package and audited 935 packages in 4.116s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:56.511Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:56.511Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:56.511Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:56.516Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:56.608Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:56.781Z appoptics:patching patched crypto 
2022-04-21T16:19:56.798Z appoptics:patching patched https 
2022-04-21T16:19:56.799Z appoptics:patching patched http 
2022-04-21T16:19:56.836Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:56.836Z appoptics:patching patched fs 
2022-04-21T16:19:56.846Z appoptics:patching patched zlib 
2022-04-21T16:19:56.870Z appoptics:patching patched mongodb-core 3.0.9
2022-04-21T16:19:56.875Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (258ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.11
updated 1 package and audited 935 packages in 3.882s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:01.891Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:01.892Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:01.892Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:01.894Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:01.954Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:02.091Z appoptics:patching patched crypto 
2022-04-21T16:20:02.109Z appoptics:patching patched https 
2022-04-21T16:20:02.109Z appoptics:patching patched http 
2022-04-21T16:20:02.146Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:02.147Z appoptics:patching patched fs 
2022-04-21T16:20:02.156Z appoptics:patching patched zlib 
2022-04-21T16:20:02.179Z appoptics:patching patched mongodb-core 3.0.11
2022-04-21T16:20:02.184Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (271ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.0
updated 1 package and audited 935 packages in 4.52s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:07.882Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:07.882Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:07.882Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:07.883Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:07.943Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:08.101Z appoptics:patching patched crypto 
2022-04-21T16:20:08.119Z appoptics:patching patched https 
2022-04-21T16:20:08.119Z appoptics:patching patched http 
2022-04-21T16:20:08.158Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:08.158Z appoptics:patching patched fs 
2022-04-21T16:20:08.168Z appoptics:patching patched zlib 
2022-04-21T16:20:08.194Z appoptics:patching patched mongodb-core 3.1.0
2022-04-21T16:20:08.199Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (253ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.1
updated 1 package and audited 935 packages in 3.761s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:13.093Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:13.094Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:13.094Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:13.095Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:13.154Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:13.303Z appoptics:patching patched crypto 
2022-04-21T16:20:13.336Z appoptics:patching patched https 
2022-04-21T16:20:13.337Z appoptics:patching patched http 
2022-04-21T16:20:13.386Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:13.386Z appoptics:patching patched fs 
2022-04-21T16:20:13.396Z appoptics:patching patched zlib 
2022-04-21T16:20:13.424Z appoptics:patching patched mongodb-core 3.1.1
2022-04-21T16:20:13.429Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (285ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.2
updated 2 packages and audited 935 packages in 4.525s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:19.109Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:19.109Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:19.109Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:19.111Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:19.169Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:19.313Z appoptics:patching patched crypto 
2022-04-21T16:20:19.330Z appoptics:patching patched https 
2022-04-21T16:20:19.331Z appoptics:patching patched http 
2022-04-21T16:20:19.368Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:19.369Z appoptics:patching patched fs 
2022-04-21T16:20:19.378Z appoptics:patching patched zlib 
2022-04-21T16:20:19.407Z appoptics:patching patched mongodb-core 3.1.2
2022-04-21T16:20:19.412Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (248ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.3
updated 1 package and audited 935 packages in 3.829s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:24.361Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:24.362Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:24.362Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:24.362Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:24.425Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:24.559Z appoptics:patching patched crypto 
2022-04-21T16:20:24.576Z appoptics:patching patched https 
2022-04-21T16:20:24.577Z appoptics:patching patched http 
2022-04-21T16:20:24.611Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:24.612Z appoptics:patching patched fs 
2022-04-21T16:20:24.623Z appoptics:patching patched zlib 
2022-04-21T16:20:24.649Z appoptics:patching patched mongodb-core 3.1.3
2022-04-21T16:20:24.654Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (249ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.4
updated 1 package and audited 935 packages in 4.167s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:29.990Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:29.991Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:29.991Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:29.991Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:30.051Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:30.185Z appoptics:patching patched crypto 
2022-04-21T16:20:30.203Z appoptics:patching patched https 
2022-04-21T16:20:30.203Z appoptics:patching patched http 
2022-04-21T16:20:30.239Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:30.239Z appoptics:patching patched fs 
2022-04-21T16:20:30.250Z appoptics:patching patched zlib 
2022-04-21T16:20:30.277Z appoptics:patching patched mongodb-core 3.1.4
2022-04-21T16:20:30.282Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (730ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.5
updated 1 package and audited 935 packages in 3.874s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:35.804Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:35.805Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:35.805Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:35.805Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:35.867Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:36.000Z appoptics:patching patched crypto 
2022-04-21T16:20:36.017Z appoptics:patching patched https 
2022-04-21T16:20:36.017Z appoptics:patching patched http 
2022-04-21T16:20:36.055Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:36.055Z appoptics:patching patched fs 
2022-04-21T16:20:36.066Z appoptics:patching patched zlib 
2022-04-21T16:20:36.092Z appoptics:patching patched mongodb-core 3.1.5
2022-04-21T16:20:36.097Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (244ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.6
updated 1 package and audited 935 packages in 3.843s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:41.139Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:41.140Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:41.140Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:41.142Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:41.231Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:41.430Z appoptics:patching patched crypto 
2022-04-21T16:20:41.508Z appoptics:patching patched https 
2022-04-21T16:20:41.509Z appoptics:patching patched http 
2022-04-21T16:20:41.539Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:41.539Z appoptics:patching patched fs 
2022-04-21T16:20:41.550Z appoptics:patching patched zlib 
2022-04-21T16:20:41.577Z appoptics:patching patched mongodb-core 3.1.6
2022-04-21T16:20:41.582Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (254ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.7
updated 1 package and audited 935 packages in 3.829s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:46.521Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:46.522Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:46.522Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:46.523Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:46.580Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:46.719Z appoptics:patching patched crypto 
2022-04-21T16:20:46.737Z appoptics:patching patched https 
2022-04-21T16:20:46.737Z appoptics:patching patched http 
2022-04-21T16:20:46.772Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:46.773Z appoptics:patching patched fs 
2022-04-21T16:20:46.783Z appoptics:patching patched zlib 
2022-04-21T16:20:46.810Z appoptics:patching patched mongodb-core 3.1.7
2022-04-21T16:20:46.815Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (251ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.8
updated 1 package and audited 935 packages in 3.709s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:51.688Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:51.689Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:51.689Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:51.690Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:51.757Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:51.909Z appoptics:patching patched crypto 
2022-04-21T16:20:51.956Z appoptics:patching patched https 
2022-04-21T16:20:51.956Z appoptics:patching patched http 
2022-04-21T16:20:51.989Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:51.989Z appoptics:patching patched fs 
2022-04-21T16:20:52.000Z appoptics:patching patched zlib 
2022-04-21T16:20:52.028Z appoptics:patching patched mongodb-core 3.1.8
2022-04-21T16:20:52.033Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (305ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.9
updated 1 package and audited 935 packages in 4.069s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:57.350Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:57.350Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:57.350Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:57.351Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:57.408Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:57.545Z appoptics:patching patched crypto 
2022-04-21T16:20:57.563Z appoptics:patching patched https 
2022-04-21T16:20:57.564Z appoptics:patching patched http 
2022-04-21T16:20:57.600Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:57.600Z appoptics:patching patched fs 
2022-04-21T16:20:57.611Z appoptics:patching patched zlib 
2022-04-21T16:20:57.637Z appoptics:patching patched mongodb-core 3.1.9
2022-04-21T16:20:57.642Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (303ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.10
updated 1 package and audited 935 packages in 3.551s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:02.397Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:02.398Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:02.398Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:02.400Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:02.460Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:02.595Z appoptics:patching patched crypto 
2022-04-21T16:21:02.612Z appoptics:patching patched https 
2022-04-21T16:21:02.613Z appoptics:patching patched http 
2022-04-21T16:21:02.649Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:02.649Z appoptics:patching patched fs 
2022-04-21T16:21:02.660Z appoptics:patching patched zlib 
2022-04-21T16:21:02.687Z appoptics:patching patched mongodb-core 3.1.10
2022-04-21T16:21:02.691Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (248ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.11
updated 1 package and audited 935 packages in 4.565s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:08.462Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:08.463Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:08.463Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:08.464Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:08.525Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:08.696Z appoptics:patching patched crypto 
2022-04-21T16:21:08.713Z appoptics:patching patched https 
2022-04-21T16:21:08.713Z appoptics:patching patched http 
2022-04-21T16:21:08.752Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:08.752Z appoptics:patching patched fs 
2022-04-21T16:21:08.763Z appoptics:patching patched zlib 
2022-04-21T16:21:08.790Z appoptics:patching patched mongodb-core 3.1.11
2022-04-21T16:21:08.794Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (245ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.0
updated 1 package and audited 935 packages in 3.57s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:13.519Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:13.519Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:13.519Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:13.520Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:13.581Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:13.719Z appoptics:patching patched crypto 
2022-04-21T16:21:13.737Z appoptics:patching patched https 
2022-04-21T16:21:13.737Z appoptics:patching patched http 
2022-04-21T16:21:13.777Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:13.777Z appoptics:patching patched fs 
2022-04-21T16:21:13.788Z appoptics:patching patched zlib 
2022-04-21T16:21:13.821Z appoptics:patching patched mongodb-core 3.2.0
2022-04-21T16:21:13.826Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (295ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.1
updated 1 package and audited 935 packages in 5.066s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:20.114Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:20.114Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:20.114Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:20.115Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:20.175Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:20.309Z appoptics:patching patched crypto 
2022-04-21T16:21:20.327Z appoptics:patching patched https 
2022-04-21T16:21:20.327Z appoptics:patching patched http 
2022-04-21T16:21:20.363Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:20.363Z appoptics:patching patched fs 
2022-04-21T16:21:20.374Z appoptics:patching patched zlib 
2022-04-21T16:21:20.406Z appoptics:patching patched mongodb-core 3.2.1
2022-04-21T16:21:20.411Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (285ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.2
updated 1 package and audited 935 packages in 3.628s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:25.185Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:25.186Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:25.186Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:25.187Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:25.246Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:25.385Z appoptics:patching patched crypto 
2022-04-21T16:21:25.403Z appoptics:patching patched https 
2022-04-21T16:21:25.404Z appoptics:patching patched http 
2022-04-21T16:21:25.442Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:25.442Z appoptics:patching patched fs 
2022-04-21T16:21:25.453Z appoptics:patching patched zlib 
2022-04-21T16:21:25.486Z appoptics:patching patched mongodb-core 3.2.2
2022-04-21T16:21:25.491Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (259ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.3
updated 1 package and audited 935 packages in 4.718s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:31.343Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:31.344Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:31.344Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:31.344Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:31.403Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:31.535Z appoptics:patching patched crypto 
2022-04-21T16:21:31.553Z appoptics:patching patched https 
2022-04-21T16:21:31.553Z appoptics:patching patched http 
2022-04-21T16:21:31.589Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:31.590Z appoptics:patching patched fs 
2022-04-21T16:21:31.600Z appoptics:patching patched zlib 
2022-04-21T16:21:31.632Z appoptics:patching patched mongodb-core 3.2.3
2022-04-21T16:21:31.637Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (263ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.4
updated 1 package and audited 935 packages in 3.592s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:36.431Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:36.432Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:36.432Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:36.433Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:36.490Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:36.642Z appoptics:patching patched crypto 
2022-04-21T16:21:36.663Z appoptics:patching patched https 
2022-04-21T16:21:36.664Z appoptics:patching patched http 
2022-04-21T16:21:36.701Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:36.702Z appoptics:patching patched fs 
2022-04-21T16:21:36.713Z appoptics:patching patched zlib 
2022-04-21T16:21:36.745Z appoptics:patching patched mongodb-core 3.2.4
2022-04-21T16:21:36.750Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (245ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.5
updated 1 package and audited 935 packages in 4.185s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:42.205Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:42.206Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:42.206Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:42.207Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:42.266Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:42.400Z appoptics:patching patched crypto 
2022-04-21T16:21:42.418Z appoptics:patching patched https 
2022-04-21T16:21:42.418Z appoptics:patching patched http 
2022-04-21T16:21:42.455Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:42.455Z appoptics:patching patched fs 
2022-04-21T16:21:42.466Z appoptics:patching patched zlib 
2022-04-21T16:21:42.499Z appoptics:patching patched mongodb-core 3.2.5
2022-04-21T16:21:42.504Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (241ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.6
updated 1 package and audited 935 packages in 4.701s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:48.320Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:48.321Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:48.321Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:48.322Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:48.381Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:48.515Z appoptics:patching patched crypto 
2022-04-21T16:21:48.532Z appoptics:patching patched https 
2022-04-21T16:21:48.533Z appoptics:patching patched http 
2022-04-21T16:21:48.569Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:48.569Z appoptics:patching patched fs 
2022-04-21T16:21:48.580Z appoptics:patching patched zlib 
2022-04-21T16:21:48.612Z appoptics:patching patched mongodb-core 3.2.6
2022-04-21T16:21:48.618Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (49ms)


  33 passing (355ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 935 packages in 4.084s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:54.131Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:54.131Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:54.132Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:54.132Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:54.234Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:54.468Z appoptics:patching patched crypto 
2022-04-21T16:21:54.485Z appoptics:patching patched https 
2022-04-21T16:21:54.486Z appoptics:patching patched http 
2022-04-21T16:21:54.521Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:54.521Z appoptics:patching patched fs 
2022-04-21T16:21:54.532Z appoptics:patching patched zlib 
2022-04-21T16:21:54.565Z appoptics:patching patched mongodb-core 3.2.7
2022-04-21T16:21:54.570Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (249ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 935 packages in 3.524s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
