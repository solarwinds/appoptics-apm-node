npm WARN deprecated @hapi/pinpoint@1.0.2: Moved to 'npm install @sideway/pinpoint'
npm WARN deprecated @hapi/nigel@3.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/subtext@6.1.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/teamwork@3.3.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/podium@3.4.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/file@1.0.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/vise@3.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/iron@5.1.4: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/somever@2.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/statehood@6.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/mimos@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/shot@4.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/cryptiles@4.2.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/formula@1.2.0: Moved to 'npm install @sideway/formula'
npm WARN deprecated @hapi/content@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/wreck@15.1.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/heavy@6.2.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/pez@4.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/boom@7.4.11: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/b64@4.2.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/bounce@1.3.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/call@5.1.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@6.2.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated @hapi/ammo@3.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'
npm WARN deprecated @hapi/catbox@10.2.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/accept@3.2.4: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/catbox-memory@3.2.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/joi@15.1.1: Switch to 'npm install joi'
npm WARN deprecated @hapi/hapi@17.9.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'

added 36 packages, changed 28 packages, and audited 1145 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 3 moderate, 9 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.

up to date, audited 1145 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 3 moderate, 9 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:20.652Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:20.652Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:20.653Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:20.653Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:20.717Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:20.765Z appoptics:patching patched crypto 
2021-09-13T19:03:20.788Z appoptics:patching patched https 
2021-09-13T19:03:20.789Z appoptics:patching patched http 
2021-09-13T19:03:20.835Z appoptics:patching patched zlib 
2021-09-13T19:03:20.884Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:03:20.884Z appoptics:patching patched fs 
2021-09-13T19:03:21.425Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:03:21.425Z appoptics:patching patched @hapi/hapi 17.9.0
2021-09-13T19:03:21.480Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:03:21.491Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (94ms)
  10 failing

  1) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/catbox-memory@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hapi@18.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 1 package, removed 1 package, changed 2 packages, and audited 1145 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 3 moderate, 9 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:28.936Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:28.937Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:28.937Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:28.938Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:29.006Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:29.055Z appoptics:patching patched crypto 
2021-09-13T19:03:29.080Z appoptics:patching patched https 
2021-09-13T19:03:29.081Z appoptics:patching patched http 
2021-09-13T19:03:29.130Z appoptics:patching patched zlib 
2021-09-13T19:03:29.180Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:03:29.180Z appoptics:patching patched fs 
2021-09-13T19:03:29.802Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:03:29.803Z appoptics:patching patched @hapi/hapi 18.2.0
2021-09-13T19:03:29.878Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:03:29.882Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (127ms)
  10 failing

  1) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hapi@18.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1145 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 3 moderate, 9 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:37.206Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:37.206Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:37.206Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:37.207Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:37.302Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:37.354Z appoptics:patching patched crypto 
2021-09-13T19:03:37.382Z appoptics:patching patched https 
2021-09-13T19:03:37.382Z appoptics:patching patched http 
2021-09-13T19:03:37.438Z appoptics:patching patched zlib 
2021-09-13T19:03:37.488Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:03:37.488Z appoptics:patching patched fs 
2021-09-13T19:03:38.126Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:03:38.126Z appoptics:patching patched @hapi/hapi 18.3.0
2021-09-13T19:03:38.203Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:03:38.207Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (88ms)
  10 failing

  1) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hapi@18.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1145 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 3 moderate, 9 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:45.478Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:45.479Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:45.479Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:45.480Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:45.542Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:45.586Z appoptics:patching patched crypto 
2021-09-13T19:03:45.608Z appoptics:patching patched https 
2021-09-13T19:03:45.608Z appoptics:patching patched http 
2021-09-13T19:03:45.654Z appoptics:patching patched zlib 
2021-09-13T19:03:45.701Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:03:45.702Z appoptics:patching patched fs 
2021-09-13T19:03:46.290Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:03:46.290Z appoptics:patching patched @hapi/hapi 18.3.1
2021-09-13T19:03:46.350Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:03:46.354Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (106ms)
  10 failing

  1) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hapi@18.3.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 22 packages, changed 2 packages, and audited 1123 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 3 moderate, 9 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:53.152Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:53.153Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:53.153Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:53.154Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:53.218Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:53.263Z appoptics:patching patched crypto 
2021-09-13T19:03:53.287Z appoptics:patching patched https 
2021-09-13T19:03:53.288Z appoptics:patching patched http 
2021-09-13T19:03:53.334Z appoptics:patching patched zlib 
2021-09-13T19:03:53.381Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:03:53.381Z appoptics:patching patched fs 
2021-09-13T19:03:53.824Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:03:53.824Z appoptics:patching patched @hapi/hapi 18.3.2
2021-09-13T19:03:53.893Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:03:53.902Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (113ms)
  10 failing

  1) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from get request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should trace render span:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should skip vision when disabled:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should allow a custom TransactionName:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should handle an error in the custom name function:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hapi@18.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1123 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 3 moderate, 9 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:01.022Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:01.023Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:01.023Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:01.024Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:01.086Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:01.132Z appoptics:patching patched crypto 
2021-09-13T19:04:01.154Z appoptics:patching patched https 
2021-09-13T19:04:01.155Z appoptics:patching patched http 
2021-09-13T19:04:01.201Z appoptics:patching patched zlib 
2021-09-13T19:04:01.249Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:01.250Z appoptics:patching patched fs 
2021-09-13T19:04:01.664Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:04:01.664Z appoptics:patching patched @hapi/hapi 18.4.0
2021-09-13T19:04:01.725Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:04:01.730Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (54ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@18.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1123 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:14.635Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:14.636Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:14.636Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:14.637Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:14.704Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:14.752Z appoptics:patching patched crypto 
2021-09-13T19:04:14.776Z appoptics:patching patched https 
2021-09-13T19:04:14.777Z appoptics:patching patched http 
2021-09-13T19:04:14.831Z appoptics:patching patched zlib 
2021-09-13T19:04:14.882Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:14.883Z appoptics:patching patched fs 
2021-09-13T19:04:15.333Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:04:15.334Z appoptics:patching patched @hapi/hapi 18.4.1
2021-09-13T19:04:15.401Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:04:15.405Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (55ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/pinpoint@2.0.0: Moved to 'npm install @sideway/pinpoint'
npm WARN deprecated @hapi/formula@2.0.0: Moved to 'npm install @sideway/formula'
npm WARN deprecated @hapi/teamwork@4.0.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/address@4.1.0: Moved to 'npm install @sideway/address'
npm WARN deprecated @hapi/joi@17.1.1: Switch to 'npm install joi'
npm WARN deprecated @hapi/hapi@19.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN deprecated @hapi/boom@8.0.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/call@7.0.1: This version has been deprecated
npm WARN deprecated @hapi/ammo@4.0.1: This version has been deprecated
npm WARN deprecated @hapi/accept@4.0.1: This version has been deprecated

added 4 packages, removed 10 packages, changed 32 packages, and audited 1117 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

21 vulnerabilities (6 low, 3 moderate, 11 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:28.821Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:28.822Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:28.822Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:28.823Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:28.898Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:28.949Z appoptics:patching patched crypto 
2021-09-13T19:04:28.978Z appoptics:patching patched https 
2021-09-13T19:04:28.979Z appoptics:patching patched http 
2021-09-13T19:04:29.030Z appoptics:patching patched zlib 
2021-09-13T19:04:29.081Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:29.082Z appoptics:patching patched fs 
2021-09-13T19:04:29.399Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:04:29.399Z appoptics:patching patched @hapi/hapi 19.0.0
2021-09-13T19:04:29.429Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:04:29.450Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (66ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1117 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

21 vulnerabilities (6 low, 3 moderate, 11 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:43.426Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:43.427Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:43.427Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:43.427Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:43.491Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:43.537Z appoptics:patching patched crypto 
2021-09-13T19:04:43.560Z appoptics:patching patched https 
2021-09-13T19:04:43.560Z appoptics:patching patched http 
2021-09-13T19:04:43.606Z appoptics:patching patched zlib 
2021-09-13T19:04:43.654Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:43.654Z appoptics:patching patched fs 
2021-09-13T19:04:43.917Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:04:43.917Z appoptics:patching patched @hapi/hapi 19.0.1
2021-09-13T19:04:43.934Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:04:43.938Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (72ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1117 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

21 vulnerabilities (6 low, 3 moderate, 11 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:58.268Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:58.269Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:58.269Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:58.270Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:58.335Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:58.381Z appoptics:patching patched crypto 
2021-09-13T19:04:58.404Z appoptics:patching patched https 
2021-09-13T19:04:58.404Z appoptics:patching patched http 
2021-09-13T19:04:58.454Z appoptics:patching patched zlib 
2021-09-13T19:04:58.502Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:58.502Z appoptics:patching patched fs 
2021-09-13T19:04:58.786Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:04:58.786Z appoptics:patching patched @hapi/hapi 19.0.2
2021-09-13T19:04:58.803Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:04:58.808Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (71ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1117 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

21 vulnerabilities (6 low, 3 moderate, 11 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:12.611Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:12.612Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:12.612Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:12.613Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:12.676Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:12.721Z appoptics:patching patched crypto 
2021-09-13T19:05:12.743Z appoptics:patching patched https 
2021-09-13T19:05:12.743Z appoptics:patching patched http 
2021-09-13T19:05:12.790Z appoptics:patching patched zlib 
2021-09-13T19:05:12.837Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:12.837Z appoptics:patching patched fs 
2021-09-13T19:05:13.099Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:05:13.099Z appoptics:patching patched @hapi/hapi 19.0.3
2021-09-13T19:05:13.115Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:05:13.119Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (62ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1117 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

21 vulnerabilities (6 low, 3 moderate, 11 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:26.626Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:26.627Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:26.627Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:26.627Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:26.705Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:26.756Z appoptics:patching patched crypto 
2021-09-13T19:05:26.782Z appoptics:patching patched https 
2021-09-13T19:05:26.782Z appoptics:patching patched http 
2021-09-13T19:05:26.833Z appoptics:patching patched zlib 
2021-09-13T19:05:26.888Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:26.889Z appoptics:patching patched fs 
2021-09-13T19:05:27.199Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:05:27.199Z appoptics:patching patched @hapi/hapi 19.0.4
2021-09-13T19:05:27.219Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:05:27.223Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (62ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 3 packages, changed 3 packages, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 3 moderate, 9 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:40.893Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:40.894Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:40.894Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:40.898Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:41.068Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:41.151Z appoptics:patching patched crypto 
2021-09-13T19:05:41.175Z appoptics:patching patched https 
2021-09-13T19:05:41.176Z appoptics:patching patched http 
2021-09-13T19:05:41.224Z appoptics:patching patched zlib 
2021-09-13T19:05:41.278Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:41.279Z appoptics:patching patched fs 
2021-09-13T19:05:41.563Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:05:41.564Z appoptics:patching patched @hapi/hapi 19.0.5
2021-09-13T19:05:41.592Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:05:41.597Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (57ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (6 low, 3 moderate, 9 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:55.059Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:55.059Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:55.059Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:55.060Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:55.128Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:55.183Z appoptics:patching patched crypto 
2021-09-13T19:05:55.235Z appoptics:patching patched https 
2021-09-13T19:05:55.236Z appoptics:patching patched http 
2021-09-13T19:05:55.293Z appoptics:patching patched zlib 
2021-09-13T19:05:55.345Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:55.345Z appoptics:patching patched fs 
2021-09-13T19:05:55.595Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:05:55.595Z appoptics:patching patched @hapi/hapi 19.1.0
2021-09-13T19:05:55.604Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:05:55.609Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (54ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 2 packages, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:09.214Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:09.214Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:09.214Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:09.215Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:09.283Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:09.337Z appoptics:patching patched crypto 
2021-09-13T19:06:09.368Z appoptics:patching patched https 
2021-09-13T19:06:09.369Z appoptics:patching patched http 
2021-09-13T19:06:09.427Z appoptics:patching patched zlib 
2021-09-13T19:06:09.480Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:09.482Z appoptics:patching patched fs 
2021-09-13T19:06:09.802Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:06:09.802Z appoptics:patching patched @hapi/hapi 19.1.1
2021-09-13T19:06:09.814Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:06:09.818Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1114 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:23.182Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:23.183Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:23.183Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:23.184Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:23.249Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:23.296Z appoptics:patching patched crypto 
2021-09-13T19:06:23.319Z appoptics:patching patched https 
2021-09-13T19:06:23.320Z appoptics:patching patched http 
2021-09-13T19:06:23.377Z appoptics:patching patched zlib 
2021-09-13T19:06:23.433Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:23.433Z appoptics:patching patched fs 
2021-09-13T19:06:23.679Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:06:23.679Z appoptics:patching patched @hapi/hapi 19.2.0
2021-09-13T19:06:23.688Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:06:23.692Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (55ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




removed 5 packages, changed 2 packages, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:36.858Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:36.859Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:36.859Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:36.859Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:36.924Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:36.971Z appoptics:patching patched crypto 
2021-09-13T19:06:36.994Z appoptics:patching patched https 
2021-09-13T19:06:36.994Z appoptics:patching patched http 
2021-09-13T19:06:37.051Z appoptics:patching patched zlib 
2021-09-13T19:06:37.104Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:37.104Z appoptics:patching patched fs 
2021-09-13T19:06:37.313Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:06:37.313Z appoptics:patching patched @hapi/hapi 20.0.0
2021-09-13T19:06:37.322Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:06:37.326Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:50.376Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:50.377Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:50.377Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:50.378Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:50.452Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:50.502Z appoptics:patching patched crypto 
2021-09-13T19:06:50.527Z appoptics:patching patched https 
2021-09-13T19:06:50.527Z appoptics:patching patched http 
2021-09-13T19:06:50.577Z appoptics:patching patched zlib 
2021-09-13T19:06:50.628Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:50.628Z appoptics:patching patched fs 
2021-09-13T19:06:50.837Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:06:50.837Z appoptics:patching patched @hapi/hapi 20.0.1
2021-09-13T19:06:50.846Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:06:50.850Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:03.531Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:03.531Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:03.531Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:03.532Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:03.598Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:03.644Z appoptics:patching patched crypto 
2021-09-13T19:07:03.667Z appoptics:patching patched https 
2021-09-13T19:07:03.668Z appoptics:patching patched http 
2021-09-13T19:07:03.715Z appoptics:patching patched zlib 
2021-09-13T19:07:03.764Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:03.765Z appoptics:patching patched fs 
2021-09-13T19:07:03.964Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:07:03.964Z appoptics:patching patched @hapi/hapi 20.0.2
2021-09-13T19:07:03.972Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:07:03.977Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1109 packages in 22s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:32.194Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:32.194Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:32.195Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:32.195Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:32.259Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:32.305Z appoptics:patching patched crypto 
2021-09-13T19:07:32.328Z appoptics:patching patched https 
2021-09-13T19:07:32.328Z appoptics:patching patched http 
2021-09-13T19:07:32.375Z appoptics:patching patched zlib 
2021-09-13T19:07:32.423Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:32.424Z appoptics:patching patched fs 
2021-09-13T19:07:32.622Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:07:32.622Z appoptics:patching patched @hapi/hapi 20.0.3
2021-09-13T19:07:32.631Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:07:32.635Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:46.647Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:46.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:46.647Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:46.648Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:46.713Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:46.760Z appoptics:patching patched crypto 
2021-09-13T19:07:46.788Z appoptics:patching patched https 
2021-09-13T19:07:46.788Z appoptics:patching patched http 
2021-09-13T19:07:46.841Z appoptics:patching patched zlib 
2021-09-13T19:07:46.897Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:46.898Z appoptics:patching patched fs 
2021-09-13T19:07:47.171Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:07:47.171Z appoptics:patching patched @hapi/hapi 20.1.0
2021-09-13T19:07:47.180Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:07:47.184Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span (41ms)
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:00.878Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:00.879Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:00.879Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:00.880Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:00.944Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:00.990Z appoptics:patching patched crypto 
2021-09-13T19:08:01.011Z appoptics:patching patched https 
2021-09-13T19:08:01.012Z appoptics:patching patched http 
2021-09-13T19:08:01.057Z appoptics:patching patched zlib 
2021-09-13T19:08:01.106Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:01.106Z appoptics:patching patched fs 
2021-09-13T19:08:01.300Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:08:01.300Z appoptics:patching patched @hapi/hapi 20.1.1
2021-09-13T19:08:01.308Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:08:01.313Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:13.934Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:13.935Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:13.935Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:13.936Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:14.010Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:14.055Z appoptics:patching patched crypto 
2021-09-13T19:08:14.079Z appoptics:patching patched https 
2021-09-13T19:08:14.079Z appoptics:patching patched http 
2021-09-13T19:08:14.126Z appoptics:patching patched zlib 
2021-09-13T19:08:14.176Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:14.176Z appoptics:patching patched fs 
2021-09-13T19:08:14.374Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:08:14.374Z appoptics:patching patched @hapi/hapi 20.1.2
2021-09-13T19:08:14.383Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:08:14.387Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (57ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (201ms)


changed 2 packages, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:21.976Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:21.976Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:21.976Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:21.977Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:22.042Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:22.088Z appoptics:patching patched crypto 
2021-09-13T19:08:22.110Z appoptics:patching patched https 
2021-09-13T19:08:22.111Z appoptics:patching patched http 
2021-09-13T19:08:22.157Z appoptics:patching patched zlib 
2021-09-13T19:08:22.206Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:22.206Z appoptics:patching patched fs 
2021-09-13T19:08:22.392Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:08:22.392Z appoptics:patching patched @hapi/hapi 20.1.3
2021-09-13T19:08:22.401Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:08:22.406Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.3 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (196ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:29.302Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:29.303Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:29.303Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:29.304Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:29.382Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:29.431Z appoptics:patching patched crypto 
2021-09-13T19:08:29.456Z appoptics:patching patched https 
2021-09-13T19:08:29.457Z appoptics:patching patched http 
2021-09-13T19:08:29.508Z appoptics:patching patched zlib 
2021-09-13T19:08:29.558Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:29.558Z appoptics:patching patched fs 
2021-09-13T19:08:29.880Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:08:29.880Z appoptics:patching patched @hapi/hapi 20.1.4
2021-09-13T19:08:29.890Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:08:29.894Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.4 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (77ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (243ms)


changed 1 package, and audited 1109 packages in 6s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:37.078Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:37.078Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:37.078Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:37.079Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:37.146Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:37.197Z appoptics:patching patched crypto 
2021-09-13T19:08:37.220Z appoptics:patching patched https 
2021-09-13T19:08:37.221Z appoptics:patching patched http 
2021-09-13T19:08:37.269Z appoptics:patching patched zlib 
2021-09-13T19:08:37.318Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:37.319Z appoptics:patching patched fs 
2021-09-13T19:08:37.511Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-09-13T19:08:37.511Z appoptics:patching patched @hapi/hapi 20.1.5
2021-09-13T19:08:37.519Z appoptics:patching patched @hapi/vision 6.1.0
2021-09-13T19:08:37.524Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.5 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (205ms)


up to date, audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
