npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.8.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

added 3 packages, removed 1 package, changed 2 packages, and audited 925 packages in 6s

89 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (1 low, 1 moderate, 2 high)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-28T06:35:21.781Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:21.782Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:21.782Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:21.782Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:21.842Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:22.056Z appoptics:patching patched crypto 
2022-04-28T06:35:22.074Z appoptics:patching patched https 
2022-04-28T06:35:22.075Z appoptics:patching patched http 
2022-04-28T06:35:22.109Z appoptics:patching patched morgan 1.6.0
2022-04-28T06:35:22.114Z appoptics:debug starting runtimeMetrics


  probes.morgan 1.6.0
    ✔ UDP might lose a message
    ✔ should not insert in sync sampled code when mode=false
    ✔ should insert in sync sampled code when mode=true
    ✔ should insert in sync sampled code when mode=traced
    ✔ should insert in sync sampled code when mode=sampledOnly
    ✔ should insert in sync sampled code when mode=always
    ✔ should not insert in sync unsampled code when mode=false
    ✔ should insert in sync unsampled code when mode=true
    ✔ should insert in sync unsampled code when mode=traced
    ✔ should not insert in sync unsampled code when mode=sampledOnly
    ✔ should insert in sync unsampled code when mode=always
    ✔ should not insert in sync sampled code when mode=false using combined
    ✔ should insert in sync sampled code when mode=true using combined
    ✔ should insert in sync sampled code when mode=traced using combined
    ✔ should insert in sync sampled code when mode=sampledOnly using combined
    ✔ should insert in sync sampled code when mode=always using combined
    ✔ should not insert in sync sampled code when mode=false using common
    ✔ should insert in sync sampled code when mode=true using common
    ✔ should insert in sync sampled code when mode=traced using common
    ✔ should insert in sync sampled code when mode=sampledOnly using common
    ✔ should insert in sync sampled code when mode=always using common
    ✔ should not insert in sync sampled code when mode=false using short
    ✔ should insert in sync sampled code when mode=true using short
    ✔ should insert in sync sampled code when mode=traced using short
    ✔ should insert in sync sampled code when mode=sampledOnly using short
    ✔ should insert in sync sampled code when mode=always using short
    ✔ should not insert in sync sampled code when mode=false using tiny
    ✔ should insert in sync sampled code when mode=true using tiny
    ✔ should insert in sync sampled code when mode=traced using tiny
    ✔ should insert in sync sampled code when mode=sampledOnly using tiny
    ✔ should insert in sync sampled code when mode=always using tiny
    ✔ should not insert in sync sampled code when mode=false using dev precomplied
    ✔ should insert in sync sampled code when mode=true using dev precomplied
    ✔ should insert in sync sampled code when mode=traced using dev precomplied
    ✔ should insert in sync sampled code when mode=sampledOnly using dev precomplied
    ✔ should insert in sync sampled code when mode=always using dev precomplied
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ should never insert in sync when mode=false using a format string and no insertion is requested
    ✔ should never insert in sync when mode=true using a format string and no insertion is requested
    ✔ should never insert in sync when mode=traced using a format string and no insertion is requested
    ✔ should never insert in sync when mode=sampledOnly using a format string and no insertion is requested
    ✔ should never insert in sync when mode=always using a format string and no insertion is requested
    ✔ should never insert in sync when mode=false using a format function
    ✔ should never insert in sync when mode=true using a format function
    ✔ should never insert in sync when mode=traced using a format function
    ✔ should never insert in sync when mode=sampledOnly using a format function
    ✔ should never insert in sync when mode=always using a format function
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ mode='always' should always insert a trace ID even if not tracing
    ✔ should insert trace IDs in asynchronous instrumented code
    ✔ should insert trace IDs in promise-based instrumented code
    ✔ should insert trace IDs using the function directly


  60 passing (103ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.8.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 925 packages in 6s

89 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (1 low, 1 moderate, 2 high)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-28T06:35:28.477Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:28.478Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:28.478Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:28.478Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:28.532Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:28.629Z appoptics:patching patched crypto 
2022-04-28T06:35:28.646Z appoptics:patching patched https 
2022-04-28T06:35:28.646Z appoptics:patching patched http 
2022-04-28T06:35:28.675Z appoptics:patching patched morgan 1.6.1
2022-04-28T06:35:28.679Z appoptics:debug starting runtimeMetrics


  probes.morgan 1.6.1
    ✔ UDP might lose a message
    ✔ should not insert in sync sampled code when mode=false
    ✔ should insert in sync sampled code when mode=true
    ✔ should insert in sync sampled code when mode=traced
    ✔ should insert in sync sampled code when mode=sampledOnly
    ✔ should insert in sync sampled code when mode=always
    ✔ should not insert in sync unsampled code when mode=false
    ✔ should insert in sync unsampled code when mode=true
    ✔ should insert in sync unsampled code when mode=traced
    ✔ should not insert in sync unsampled code when mode=sampledOnly
    ✔ should insert in sync unsampled code when mode=always
    ✔ should not insert in sync sampled code when mode=false using combined
    ✔ should insert in sync sampled code when mode=true using combined
    ✔ should insert in sync sampled code when mode=traced using combined
    ✔ should insert in sync sampled code when mode=sampledOnly using combined
    ✔ should insert in sync sampled code when mode=always using combined
    ✔ should not insert in sync sampled code when mode=false using common
    ✔ should insert in sync sampled code when mode=true using common
    ✔ should insert in sync sampled code when mode=traced using common
    ✔ should insert in sync sampled code when mode=sampledOnly using common
    ✔ should insert in sync sampled code when mode=always using common
    ✔ should not insert in sync sampled code when mode=false using short
    ✔ should insert in sync sampled code when mode=true using short
    ✔ should insert in sync sampled code when mode=traced using short
    ✔ should insert in sync sampled code when mode=sampledOnly using short
    ✔ should insert in sync sampled code when mode=always using short
    ✔ should not insert in sync sampled code when mode=false using tiny
    ✔ should insert in sync sampled code when mode=true using tiny
    ✔ should insert in sync sampled code when mode=traced using tiny
    ✔ should insert in sync sampled code when mode=sampledOnly using tiny
    ✔ should insert in sync sampled code when mode=always using tiny
    ✔ should not insert in sync sampled code when mode=false using dev precomplied
    ✔ should insert in sync sampled code when mode=true using dev precomplied
    ✔ should insert in sync sampled code when mode=traced using dev precomplied
    ✔ should insert in sync sampled code when mode=sampledOnly using dev precomplied
    ✔ should insert in sync sampled code when mode=always using dev precomplied
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ should never insert in sync when mode=false using a format string and no insertion is requested
    ✔ should never insert in sync when mode=true using a format string and no insertion is requested
    ✔ should never insert in sync when mode=traced using a format string and no insertion is requested
    ✔ should never insert in sync when mode=sampledOnly using a format string and no insertion is requested
    ✔ should never insert in sync when mode=always using a format string and no insertion is requested
    ✔ should never insert in sync when mode=false using a format function
    ✔ should never insert in sync when mode=true using a format function
    ✔ should never insert in sync when mode=traced using a format function
    ✔ should never insert in sync when mode=sampledOnly using a format function
    ✔ should never insert in sync when mode=always using a format function
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ mode='always' should always insert a trace ID even if not tracing
    ✔ should insert trace IDs in asynchronous instrumented code
    ✔ should insert trace IDs in promise-based instrumented code
    ✔ should insert trace IDs using the function directly


  60 passing (105ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.8.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

changed 2 packages, and audited 925 packages in 5s

89 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (1 low, 1 moderate, 2 high)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-28T06:35:34.440Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:34.440Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:34.440Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:34.440Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:34.495Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:34.591Z appoptics:patching patched crypto 
2022-04-28T06:35:34.608Z appoptics:patching patched https 
2022-04-28T06:35:34.609Z appoptics:patching patched http 
2022-04-28T06:35:34.637Z appoptics:patching patched morgan 1.7.0
2022-04-28T06:35:34.641Z appoptics:debug starting runtimeMetrics


  probes.morgan 1.7.0
    ✔ UDP might lose a message
    ✔ should not insert in sync sampled code when mode=false
    ✔ should insert in sync sampled code when mode=true
    ✔ should insert in sync sampled code when mode=traced
    ✔ should insert in sync sampled code when mode=sampledOnly
    ✔ should insert in sync sampled code when mode=always
    ✔ should not insert in sync unsampled code when mode=false
    ✔ should insert in sync unsampled code when mode=true
    ✔ should insert in sync unsampled code when mode=traced
    ✔ should not insert in sync unsampled code when mode=sampledOnly
    ✔ should insert in sync unsampled code when mode=always
    ✔ should not insert in sync sampled code when mode=false using combined
    ✔ should insert in sync sampled code when mode=true using combined
    ✔ should insert in sync sampled code when mode=traced using combined
    ✔ should insert in sync sampled code when mode=sampledOnly using combined
    ✔ should insert in sync sampled code when mode=always using combined
    ✔ should not insert in sync sampled code when mode=false using common
    ✔ should insert in sync sampled code when mode=true using common
    ✔ should insert in sync sampled code when mode=traced using common
    ✔ should insert in sync sampled code when mode=sampledOnly using common
    ✔ should insert in sync sampled code when mode=always using common
    ✔ should not insert in sync sampled code when mode=false using short
    ✔ should insert in sync sampled code when mode=true using short
    ✔ should insert in sync sampled code when mode=traced using short
    ✔ should insert in sync sampled code when mode=sampledOnly using short
    ✔ should insert in sync sampled code when mode=always using short
    ✔ should not insert in sync sampled code when mode=false using tiny
    ✔ should insert in sync sampled code when mode=true using tiny
    ✔ should insert in sync sampled code when mode=traced using tiny
    ✔ should insert in sync sampled code when mode=sampledOnly using tiny
    ✔ should insert in sync sampled code when mode=always using tiny
    ✔ should not insert in sync sampled code when mode=false using dev precomplied
    ✔ should insert in sync sampled code when mode=true using dev precomplied
    ✔ should insert in sync sampled code when mode=traced using dev precomplied
    ✔ should insert in sync sampled code when mode=sampledOnly using dev precomplied
    ✔ should insert in sync sampled code when mode=always using dev precomplied
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ should never insert in sync when mode=false using a format string and no insertion is requested
    ✔ should never insert in sync when mode=true using a format string and no insertion is requested
    ✔ should never insert in sync when mode=traced using a format string and no insertion is requested
    ✔ should never insert in sync when mode=sampledOnly using a format string and no insertion is requested
    ✔ should never insert in sync when mode=always using a format string and no insertion is requested
    ✔ should never insert in sync when mode=false using a format function
    ✔ should never insert in sync when mode=true using a format function
    ✔ should never insert in sync when mode=traced using a format function
    ✔ should never insert in sync when mode=sampledOnly using a format function
    ✔ should never insert in sync when mode=always using a format function
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ mode='always' should always insert a trace ID even if not tracing
    ✔ should insert trace IDs in asynchronous instrumented code
    ✔ should insert trace IDs in promise-based instrumented code
    ✔ should insert trace IDs using the function directly


  60 passing (105ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.8.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

changed 4 packages, and audited 925 packages in 6s

89 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (1 low, 1 moderate, 2 high)

To address all issues possible, run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-28T06:35:41.485Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:41.485Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:41.485Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:41.485Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:41.554Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:41.665Z appoptics:patching patched crypto 
2022-04-28T06:35:41.709Z appoptics:patching patched https 
2022-04-28T06:35:41.709Z appoptics:patching patched http 
2022-04-28T06:35:41.730Z appoptics:patching patched morgan 1.8.0
2022-04-28T06:35:41.735Z appoptics:debug starting runtimeMetrics


  probes.morgan 1.8.0
    ✔ UDP might lose a message
    ✔ should not insert in sync sampled code when mode=false
    ✔ should insert in sync sampled code when mode=true
    ✔ should insert in sync sampled code when mode=traced
    ✔ should insert in sync sampled code when mode=sampledOnly
    ✔ should insert in sync sampled code when mode=always
    ✔ should not insert in sync unsampled code when mode=false
    ✔ should insert in sync unsampled code when mode=true
    ✔ should insert in sync unsampled code when mode=traced
    ✔ should not insert in sync unsampled code when mode=sampledOnly
    ✔ should insert in sync unsampled code when mode=always
    ✔ should not insert in sync sampled code when mode=false using combined
    ✔ should insert in sync sampled code when mode=true using combined
    ✔ should insert in sync sampled code when mode=traced using combined
    ✔ should insert in sync sampled code when mode=sampledOnly using combined
    ✔ should insert in sync sampled code when mode=always using combined
    ✔ should not insert in sync sampled code when mode=false using common
    ✔ should insert in sync sampled code when mode=true using common
    ✔ should insert in sync sampled code when mode=traced using common
    ✔ should insert in sync sampled code when mode=sampledOnly using common
    ✔ should insert in sync sampled code when mode=always using common
    ✔ should not insert in sync sampled code when mode=false using short
    ✔ should insert in sync sampled code when mode=true using short
    ✔ should insert in sync sampled code when mode=traced using short
    ✔ should insert in sync sampled code when mode=sampledOnly using short
    ✔ should insert in sync sampled code when mode=always using short
    ✔ should not insert in sync sampled code when mode=false using tiny
    ✔ should insert in sync sampled code when mode=true using tiny
    ✔ should insert in sync sampled code when mode=traced using tiny
    ✔ should insert in sync sampled code when mode=sampledOnly using tiny
    ✔ should insert in sync sampled code when mode=always using tiny
    ✔ should not insert in sync sampled code when mode=false using dev precomplied
    ✔ should insert in sync sampled code when mode=true using dev precomplied
    ✔ should insert in sync sampled code when mode=traced using dev precomplied
    ✔ should insert in sync sampled code when mode=sampledOnly using dev precomplied
    ✔ should insert in sync sampled code when mode=always using dev precomplied
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ should never insert in sync when mode=false using a format string and no insertion is requested
    ✔ should never insert in sync when mode=true using a format string and no insertion is requested
    ✔ should never insert in sync when mode=traced using a format string and no insertion is requested
    ✔ should never insert in sync when mode=sampledOnly using a format string and no insertion is requested
    ✔ should never insert in sync when mode=always using a format string and no insertion is requested
    ✔ should never insert in sync when mode=false using a format function
    ✔ should never insert in sync when mode=true using a format function
    ✔ should never insert in sync when mode=traced using a format function
    ✔ should never insert in sync when mode=sampledOnly using a format function
    ✔ should never insert in sync when mode=always using a format function
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ mode='always' should always insert a trace ID even if not tracing
    ✔ should insert trace IDs in asynchronous instrumented code
    ✔ should insert trace IDs in promise-based instrumented code
    ✔ should insert trace IDs using the function directly


  60 passing (127ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.8.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

changed 2 packages, and audited 925 packages in 5s

89 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (1 low, 1 moderate, 2 high)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-28T06:35:47.697Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:47.698Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:47.698Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:47.698Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:47.753Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:47.852Z appoptics:patching patched crypto 
2022-04-28T06:35:47.869Z appoptics:patching patched https 
2022-04-28T06:35:47.870Z appoptics:patching patched http 
2022-04-28T06:35:47.904Z appoptics:patching patched morgan 1.8.1
2022-04-28T06:35:47.908Z appoptics:debug starting runtimeMetrics


  probes.morgan 1.8.1
    ✔ UDP might lose a message
    ✔ should not insert in sync sampled code when mode=false
    ✔ should insert in sync sampled code when mode=true
    ✔ should insert in sync sampled code when mode=traced
    ✔ should insert in sync sampled code when mode=sampledOnly
    ✔ should insert in sync sampled code when mode=always
    ✔ should not insert in sync unsampled code when mode=false
    ✔ should insert in sync unsampled code when mode=true
    ✔ should insert in sync unsampled code when mode=traced
    ✔ should not insert in sync unsampled code when mode=sampledOnly
    ✔ should insert in sync unsampled code when mode=always
    ✔ should not insert in sync sampled code when mode=false using combined
    ✔ should insert in sync sampled code when mode=true using combined
    ✔ should insert in sync sampled code when mode=traced using combined
    ✔ should insert in sync sampled code when mode=sampledOnly using combined
    ✔ should insert in sync sampled code when mode=always using combined
    ✔ should not insert in sync sampled code when mode=false using common
    ✔ should insert in sync sampled code when mode=true using common
    ✔ should insert in sync sampled code when mode=traced using common
    ✔ should insert in sync sampled code when mode=sampledOnly using common
    ✔ should insert in sync sampled code when mode=always using common
    ✔ should not insert in sync sampled code when mode=false using short
    ✔ should insert in sync sampled code when mode=true using short
    ✔ should insert in sync sampled code when mode=traced using short
    ✔ should insert in sync sampled code when mode=sampledOnly using short
    ✔ should insert in sync sampled code when mode=always using short
    ✔ should not insert in sync sampled code when mode=false using tiny
    ✔ should insert in sync sampled code when mode=true using tiny
    ✔ should insert in sync sampled code when mode=traced using tiny
    ✔ should insert in sync sampled code when mode=sampledOnly using tiny
    ✔ should insert in sync sampled code when mode=always using tiny
    ✔ should not insert in sync sampled code when mode=false using dev precomplied
    ✔ should insert in sync sampled code when mode=true using dev precomplied
    ✔ should insert in sync sampled code when mode=traced using dev precomplied
    ✔ should insert in sync sampled code when mode=sampledOnly using dev precomplied
    ✔ should insert in sync sampled code when mode=always using dev precomplied
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ should never insert in sync when mode=false using a format string and no insertion is requested
    ✔ should never insert in sync when mode=true using a format string and no insertion is requested
    ✔ should never insert in sync when mode=traced using a format string and no insertion is requested
    ✔ should never insert in sync when mode=sampledOnly using a format string and no insertion is requested
    ✔ should never insert in sync when mode=always using a format string and no insertion is requested
    ✔ should never insert in sync when mode=false using a format function
    ✔ should never insert in sync when mode=true using a format function
    ✔ should never insert in sync when mode=traced using a format function
    ✔ should never insert in sync when mode=sampledOnly using a format function
    ✔ should never insert in sync when mode=always using a format function
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ mode='always' should always insert a trace ID even if not tracing
    ✔ should insert trace IDs in asynchronous instrumented code
    ✔ should insert trace IDs in promise-based instrumented code
    ✔ should insert trace IDs using the function directly


  60 passing (110ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.8.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

removed 1 package, changed 2 packages, and audited 924 packages in 6s

89 packages are looking for funding
  run `npm fund` for details

4 vulnerabilities (1 low, 1 moderate, 2 high)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-28T06:35:54.399Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:35:54.399Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:35:54.399Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:35:54.399Z appoptics:debug using context provider: ace-context
2022-04-28T06:35:54.455Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:35:54.552Z appoptics:patching patched crypto 
2022-04-28T06:35:54.569Z appoptics:patching patched https 
2022-04-28T06:35:54.570Z appoptics:patching patched http 
2022-04-28T06:35:54.598Z appoptics:patching patched morgan 1.8.2
2022-04-28T06:35:54.603Z appoptics:debug starting runtimeMetrics


  probes.morgan 1.8.2
    ✔ UDP might lose a message
    ✔ should not insert in sync sampled code when mode=false
    ✔ should insert in sync sampled code when mode=true
    ✔ should insert in sync sampled code when mode=traced
    ✔ should insert in sync sampled code when mode=sampledOnly
    ✔ should insert in sync sampled code when mode=always
    ✔ should not insert in sync unsampled code when mode=false
    ✔ should insert in sync unsampled code when mode=true
    ✔ should insert in sync unsampled code when mode=traced
    ✔ should not insert in sync unsampled code when mode=sampledOnly
    ✔ should insert in sync unsampled code when mode=always
    ✔ should not insert in sync sampled code when mode=false using combined
    ✔ should insert in sync sampled code when mode=true using combined
    ✔ should insert in sync sampled code when mode=traced using combined
    ✔ should insert in sync sampled code when mode=sampledOnly using combined
    ✔ should insert in sync sampled code when mode=always using combined
    ✔ should not insert in sync sampled code when mode=false using common
    ✔ should insert in sync sampled code when mode=true using common
    ✔ should insert in sync sampled code when mode=traced using common
    ✔ should insert in sync sampled code when mode=sampledOnly using common
    ✔ should insert in sync sampled code when mode=always using common
    ✔ should not insert in sync sampled code when mode=false using short
    ✔ should insert in sync sampled code when mode=true using short
    ✔ should insert in sync sampled code when mode=traced using short
    ✔ should insert in sync sampled code when mode=sampledOnly using short
    ✔ should insert in sync sampled code when mode=always using short
    ✔ should not insert in sync sampled code when mode=false using tiny
    ✔ should insert in sync sampled code when mode=true using tiny
    ✔ should insert in sync sampled code when mode=traced using tiny
    ✔ should insert in sync sampled code when mode=sampledOnly using tiny
    ✔ should insert in sync sampled code when mode=always using tiny
    ✔ should not insert in sync sampled code when mode=false using dev precomplied
    ✔ should insert in sync sampled code when mode=true using dev precomplied
    ✔ should insert in sync sampled code when mode=traced using dev precomplied
    ✔ should insert in sync sampled code when mode=sampledOnly using dev precomplied
    ✔ should insert in sync sampled code when mode=always using dev precomplied
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ should never insert in sync when mode=false using a format string and no insertion is requested
    ✔ should never insert in sync when mode=true using a format string and no insertion is requested
    ✔ should never insert in sync when mode=traced using a format string and no insertion is requested
    ✔ should never insert in sync when mode=sampledOnly using a format string and no insertion is requested
    ✔ should never insert in sync when mode=always using a format string and no insertion is requested
    ✔ should never insert in sync when mode=false using a format function
    ✔ should never insert in sync when mode=true using a format function
    ✔ should never insert in sync when mode=traced using a format function
    ✔ should never insert in sync when mode=sampledOnly using a format function
    ✔ should never insert in sync when mode=always using a format function
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ mode='always' should always insert a trace ID even if not tracing
    ✔ should insert trace IDs in asynchronous instrumented code
    ✔ should insert trace IDs in promise-based instrumented code
    ✔ should insert trace IDs using the function directly


  60 passing (107ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.8.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

added 1 package, removed 1 package, changed 2 packages, and audited 924 packages in 5s

89 packages are looking for funding
  run `npm fund` for details

3 vulnerabilities (1 moderate, 2 high)

To address issues that do not require attention, run:
  npm audit fix

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-28T06:36:00.425Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:36:00.426Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:36:00.426Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:36:00.426Z appoptics:debug using context provider: ace-context
2022-04-28T06:36:00.482Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:36:00.580Z appoptics:patching patched crypto 
2022-04-28T06:36:00.597Z appoptics:patching patched https 
2022-04-28T06:36:00.597Z appoptics:patching patched http 
2022-04-28T06:36:00.630Z appoptics:patching patched morgan 1.9.0
2022-04-28T06:36:00.635Z appoptics:debug starting runtimeMetrics


  probes.morgan 1.9.0
    ✔ UDP might lose a message
    ✔ should not insert in sync sampled code when mode=false
    ✔ should insert in sync sampled code when mode=true
    ✔ should insert in sync sampled code when mode=traced
    ✔ should insert in sync sampled code when mode=sampledOnly
    ✔ should insert in sync sampled code when mode=always
    ✔ should not insert in sync unsampled code when mode=false
    ✔ should insert in sync unsampled code when mode=true
    ✔ should insert in sync unsampled code when mode=traced
    ✔ should not insert in sync unsampled code when mode=sampledOnly
    ✔ should insert in sync unsampled code when mode=always
    ✔ should not insert in sync sampled code when mode=false using combined
    ✔ should insert in sync sampled code when mode=true using combined
    ✔ should insert in sync sampled code when mode=traced using combined
    ✔ should insert in sync sampled code when mode=sampledOnly using combined
    ✔ should insert in sync sampled code when mode=always using combined
    ✔ should not insert in sync sampled code when mode=false using common
    ✔ should insert in sync sampled code when mode=true using common
    ✔ should insert in sync sampled code when mode=traced using common
    ✔ should insert in sync sampled code when mode=sampledOnly using common
    ✔ should insert in sync sampled code when mode=always using common
    ✔ should not insert in sync sampled code when mode=false using short
    ✔ should insert in sync sampled code when mode=true using short
    ✔ should insert in sync sampled code when mode=traced using short
    ✔ should insert in sync sampled code when mode=sampledOnly using short
    ✔ should insert in sync sampled code when mode=always using short
    ✔ should not insert in sync sampled code when mode=false using tiny
    ✔ should insert in sync sampled code when mode=true using tiny
    ✔ should insert in sync sampled code when mode=traced using tiny
    ✔ should insert in sync sampled code when mode=sampledOnly using tiny
    ✔ should insert in sync sampled code when mode=always using tiny
    ✔ should not insert in sync sampled code when mode=false using dev precomplied
    ✔ should insert in sync sampled code when mode=true using dev precomplied
    ✔ should insert in sync sampled code when mode=traced using dev precomplied
    ✔ should insert in sync sampled code when mode=sampledOnly using dev precomplied
    ✔ should insert in sync sampled code when mode=always using dev precomplied
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ should never insert in sync when mode=false using a format string and no insertion is requested
    ✔ should never insert in sync when mode=true using a format string and no insertion is requested
    ✔ should never insert in sync when mode=traced using a format string and no insertion is requested
    ✔ should never insert in sync when mode=sampledOnly using a format string and no insertion is requested
    ✔ should never insert in sync when mode=always using a format string and no insertion is requested
    ✔ should never insert in sync when mode=false using a format function
    ✔ should never insert in sync when mode=true using a format function
    ✔ should never insert in sync when mode=traced using a format function
    ✔ should never insert in sync when mode=sampledOnly using a format function
    ✔ should never insert in sync when mode=always using a format function
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ mode='always' should always insert a trace ID even if not tracing
    ✔ should insert trace IDs in asynchronous instrumented code
    ✔ should insert trace IDs in promise-based instrumented code
    ✔ should insert trace IDs using the function directly


  60 passing (105ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.8.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 924 packages in 6s

89 packages are looking for funding
  run `npm fund` for details

2 high severity vulnerabilities

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-28T06:36:07.629Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:36:07.630Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:36:07.630Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:36:07.630Z appoptics:debug using context provider: ace-context
2022-04-28T06:36:07.685Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:36:07.782Z appoptics:patching patched crypto 
2022-04-28T06:36:07.799Z appoptics:patching patched https 
2022-04-28T06:36:07.799Z appoptics:patching patched http 
2022-04-28T06:36:07.828Z appoptics:patching patched morgan 1.9.1
2022-04-28T06:36:07.833Z appoptics:debug starting runtimeMetrics


  probes.morgan 1.9.1
    ✔ UDP might lose a message
    ✔ should not insert in sync sampled code when mode=false
    ✔ should insert in sync sampled code when mode=true
    ✔ should insert in sync sampled code when mode=traced
    ✔ should insert in sync sampled code when mode=sampledOnly
    ✔ should insert in sync sampled code when mode=always
    ✔ should not insert in sync unsampled code when mode=false
    ✔ should insert in sync unsampled code when mode=true
    ✔ should insert in sync unsampled code when mode=traced
    ✔ should not insert in sync unsampled code when mode=sampledOnly
    ✔ should insert in sync unsampled code when mode=always
    ✔ should not insert in sync sampled code when mode=false using combined
    ✔ should insert in sync sampled code when mode=true using combined
    ✔ should insert in sync sampled code when mode=traced using combined
    ✔ should insert in sync sampled code when mode=sampledOnly using combined
    ✔ should insert in sync sampled code when mode=always using combined
    ✔ should not insert in sync sampled code when mode=false using common
    ✔ should insert in sync sampled code when mode=true using common
    ✔ should insert in sync sampled code when mode=traced using common
    ✔ should insert in sync sampled code when mode=sampledOnly using common
    ✔ should insert in sync sampled code when mode=always using common
    ✔ should not insert in sync sampled code when mode=false using short
    ✔ should insert in sync sampled code when mode=true using short
    ✔ should insert in sync sampled code when mode=traced using short
    ✔ should insert in sync sampled code when mode=sampledOnly using short
    ✔ should insert in sync sampled code when mode=always using short
    ✔ should not insert in sync sampled code when mode=false using tiny
    ✔ should insert in sync sampled code when mode=true using tiny
    ✔ should insert in sync sampled code when mode=traced using tiny
    ✔ should insert in sync sampled code when mode=sampledOnly using tiny
    ✔ should insert in sync sampled code when mode=always using tiny
    ✔ should not insert in sync sampled code when mode=false using dev precomplied
    ✔ should insert in sync sampled code when mode=true using dev precomplied
    ✔ should insert in sync sampled code when mode=traced using dev precomplied
    ✔ should insert in sync sampled code when mode=sampledOnly using dev precomplied
    ✔ should insert in sync sampled code when mode=always using dev precomplied
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ should never insert in sync when mode=false using a format string and no insertion is requested
    ✔ should never insert in sync when mode=true using a format string and no insertion is requested
    ✔ should never insert in sync when mode=traced using a format string and no insertion is requested
    ✔ should never insert in sync when mode=sampledOnly using a format string and no insertion is requested
    ✔ should never insert in sync when mode=always using a format string and no insertion is requested
    ✔ should never insert in sync when mode=false using a format function
    ✔ should never insert in sync when mode=true using a format function
    ✔ should never insert in sync when mode=traced using a format function
    ✔ should never insert in sync when mode=sampledOnly using a format function
    ✔ should never insert in sync when mode=always using a format function
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ mode='always' should always insert a trace ID even if not tracing
    ✔ should insert trace IDs in asynchronous instrumented code
    ✔ should insert trace IDs in promise-based instrumented code
    ✔ should insert trace IDs using the function directly


  60 passing (110ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.8.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

removed 1 package, changed 1 package, and audited 923 packages in 5s

89 packages are looking for funding
  run `npm fund` for details

2 high severity vulnerabilities

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-28T06:36:13.409Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-28T06:36:13.409Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-28T06:36:13.409Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-28T06:36:13.409Z appoptics:debug using context provider: ace-context
2022-04-28T06:36:13.465Z appoptics:debug apm 10.2.2-nh.0, bindings 12.0.0-nh.1, oboe 10.3.3
2022-04-28T06:36:13.566Z appoptics:patching patched crypto 
2022-04-28T06:36:13.583Z appoptics:patching patched https 
2022-04-28T06:36:13.583Z appoptics:patching patched http 
2022-04-28T06:36:13.614Z appoptics:patching patched morgan 1.10.0
2022-04-28T06:36:13.618Z appoptics:debug starting runtimeMetrics


  probes.morgan 1.10.0
    ✔ UDP might lose a message
    ✔ should not insert in sync sampled code when mode=false
    ✔ should insert in sync sampled code when mode=true
    ✔ should insert in sync sampled code when mode=traced
    ✔ should insert in sync sampled code when mode=sampledOnly
    ✔ should insert in sync sampled code when mode=always
    ✔ should not insert in sync unsampled code when mode=false
    ✔ should insert in sync unsampled code when mode=true
    ✔ should insert in sync unsampled code when mode=traced
    ✔ should not insert in sync unsampled code when mode=sampledOnly
    ✔ should insert in sync unsampled code when mode=always
    ✔ should not insert in sync sampled code when mode=false using combined
    ✔ should insert in sync sampled code when mode=true using combined
    ✔ should insert in sync sampled code when mode=traced using combined
    ✔ should insert in sync sampled code when mode=sampledOnly using combined
    ✔ should insert in sync sampled code when mode=always using combined
    ✔ should not insert in sync sampled code when mode=false using common
    ✔ should insert in sync sampled code when mode=true using common
    ✔ should insert in sync sampled code when mode=traced using common
    ✔ should insert in sync sampled code when mode=sampledOnly using common
    ✔ should insert in sync sampled code when mode=always using common
    ✔ should not insert in sync sampled code when mode=false using short
    ✔ should insert in sync sampled code when mode=true using short
    ✔ should insert in sync sampled code when mode=traced using short
    ✔ should insert in sync sampled code when mode=sampledOnly using short
    ✔ should insert in sync sampled code when mode=always using short
    ✔ should not insert in sync sampled code when mode=false using tiny
    ✔ should insert in sync sampled code when mode=true using tiny
    ✔ should insert in sync sampled code when mode=traced using tiny
    ✔ should insert in sync sampled code when mode=sampledOnly using tiny
    ✔ should insert in sync sampled code when mode=always using tiny
    ✔ should not insert in sync sampled code when mode=false using dev precomplied
    ✔ should insert in sync sampled code when mode=true using dev precomplied
    ✔ should insert in sync sampled code when mode=traced using dev precomplied
    ✔ should insert in sync sampled code when mode=sampledOnly using dev precomplied
    ✔ should insert in sync sampled code when mode=always using dev precomplied
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ should never insert in sync when mode=false using a format string and no insertion is requested
    ✔ should never insert in sync when mode=true using a format string and no insertion is requested
    ✔ should never insert in sync when mode=traced using a format string and no insertion is requested
    ✔ should never insert in sync when mode=sampledOnly using a format string and no insertion is requested
    ✔ should never insert in sync when mode=always using a format string and no insertion is requested
    ✔ should never insert in sync when mode=false using a format function
    ✔ should never insert in sync when mode=true using a format function
    ✔ should never insert in sync when mode=traced using a format function
    ✔ should never insert in sync when mode=sampledOnly using a format function
    ✔ should never insert in sync when mode=always using a format function
    ✔ should not insert in sync when mode=false using a format string
    ✔ should insert in sync when mode=true using a format string
    ✔ should insert in sync when mode=traced using a format string
    ✔ should insert in sync when mode=sampledOnly using a format string
    ✔ should insert in sync when mode=always using a format string
    ✔ mode='always' should always insert a trace ID even if not tracing
    ✔ should insert trace IDs in asynchronous instrumented code
    ✔ should insert trace IDs in promise-based instrumented code
    ✔ should insert trace IDs using the function directly


  60 passing (104ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.8.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

up to date, audited 923 packages in 6s

89 packages are looking for funding
  run `npm fund` for details

2 high severity vulnerabilities

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
