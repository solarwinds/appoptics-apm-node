npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:45.552Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:45.554Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:45.554Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:45.555Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:45.630Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:45.800Z appoptics:patching patched crypto 
2021-11-23T06:35:45.828Z appoptics:patching patched https 
2021-11-23T06:35:45.829Z appoptics:patching patched http 
2021-11-23T06:35:45.918Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:45.919Z appoptics:patching patched fs 
2021-11-23T06:35:45.938Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v17.1.0)
2021-11-23T06:35:45.947Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2021-11-23T06:35:46.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-67125ee7c807ac11ad167a946a7825a7b4dad1fc-fcd0a8c8f5c788c7-01 outer:exit 2b-67125ee7c807ac11ad167a946a7825a7b4dad1fc-577ecf2db7f1a841-01
2021-11-23T06:35:46.029Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:35:46.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3f4e274bdc2b3c5e4c22da06332ceedca0e407b-56876da508a5b8c7-01 outer:exit 2b-b3f4e274bdc2b3c5e4c22da06332ceedca0e407b-d5a7bb751ee7549b-01
2021-11-23T06:35:46.099Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:35:46.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-cae3b725748aa643458f35082dc01e1d75e0c11b-024b8504f36360fe-01 outer:exit 2b-cae3b725748aa643458f35082dc01e1d75e0c11b-3e5d5af9e1be4bbb-01
2021-11-23T06:35:46.111Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:35:46.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-427c450923d139b9eefafa79c4f0b1fa1af1a8ae-e33e13547ff444b9-01 outer:exit 2b-427c450923d139b9eefafa79c4f0b1fa1af1a8ae-3516dd178b0f6161-01
2021-11-23T06:35:46.116Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:35:46.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-29e51b40508536bc4d4d5b8a7b92319f69269d6d-04f48a4ff96aab20-01 outer:exit 2b-29e51b40508536bc4d4d5b8a7b92319f69269d6d-9193e1255dc60f8c-01
2021-11-23T06:35:46.124Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:35:46.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5460c86252a723c801ec602b1d0a3664dde64bf-4ce34f3020db2ff4-01 outer:exit 2b-c5460c86252a723c801ec602b1d0a3664dde64bf-3a605c269d8d654c-01
2021-11-23T06:35:46.131Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:35:46.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1adc2ad2afc4e46ebfdd6843dd5433413ac747e-2572f1d54f498dab-01 outer:exit 2b-c1adc2ad2afc4e46ebfdd6843dd5433413ac747e-c64b386917a334bc-01
2021-11-23T06:35:46.135Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:35:46.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3569ee738ca2274d0d5748c32be17022b80d47b-e296ad078e7c31fa-01 outer:exit 2b-d3569ee738ca2274d0d5748c32be17022b80d47b-267ccf50579edcd1-01
2021-11-23T06:35:46.140Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:35:46.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-81a2abb0fb1a68811008b99a94202222c2eb3940-c19a108f619999fb-01 outer:exit 2b-81a2abb0fb1a68811008b99a94202222c2eb3940-40d43641d0f26e11-01
2021-11-23T06:35:46.144Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:35:46.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-6de4a9c3a6d6653945e176bc3f031b8dd768ea9f-b7327d99d5d0dd46-01 outer:exit 2b-6de4a9c3a6d6653945e176bc3f031b8dd768ea9f-e6aee74dec736b71-01
2021-11-23T06:35:46.148Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:35:46.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-329a30dcba724085c3eaf13888641a00ef46c64c-04c61288b1e24847-01 outer:exit 2b-329a30dcba724085c3eaf13888641a00ef46c64c-a646f87ddc214c58-01
2021-11-23T06:35:46.153Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:35:46.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-92f62d350d30bdaf3039228126702ca3fe2ee8d6-5e958cd260c99eae-01 outer:exit 2b-92f62d350d30bdaf3039228126702ca3fe2ee8d6-b493595c77171eb4-01
2021-11-23T06:35:46.207Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:35:46.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-38bea9787ce1a193ec2eeb7774727b23eef0cd9c-70fc3599c909bf7d-01 outer:exit 2b-38bea9787ce1a193ec2eeb7774727b23eef0cd9c-0d12bbd05a852820-01
2021-11-23T06:35:46.235Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:35:46.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-a14c8c0048f15dbc20f1d6771cfd789da6a4cff0-8bae48f551fbc2f8-01 outer:exit 2b-a14c8c0048f15dbc20f1d6771cfd789da6a4cff0-f4d61de57bc16f95-01
2021-11-23T06:35:46.313Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:35:46.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6244cfda5e1d0f695f67db8f6a2a9168ef1f640-5916937b3a71f991-01 outer:exit 2b-a6244cfda5e1d0f695f67db8f6a2a9168ef1f640-6a7f6372062b9a3e-01
2021-11-23T06:35:46.320Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:35:46.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dc83b72ab2223f7162867e2a967b0e3b0c3e3d9-db35f5f8d5a66c7b-01 outer:exit 2b-2dc83b72ab2223f7162867e2a967b0e3b0c3e3d9-eadde0e2fe07c5d1-01
2021-11-23T06:35:46.323Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:35:46.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-af1980b4cf6879068cff677bdeb77844a921358f-67b0bcfa13794848-01 outer:exit 2b-af1980b4cf6879068cff677bdeb77844a921358f-04d9ffc34fd182fe-01
2021-11-23T06:35:46.330Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:35:46.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ee00fbe3e05734b17df44555f5eca3bd5a9e9ed-6110ae73da51ca7a-01 outer:exit 2b-3ee00fbe3e05734b17df44555f5eca3bd5a9e9ed-62948d5b10fb00f3-01
2021-11-23T06:35:46.334Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:35:46.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d9b2eb6f0e33a38ae259f416f9c56d8ca7cc103-b8772658da3806cc-01 outer:exit 2b-9d9b2eb6f0e33a38ae259f416f9c56d8ca7cc103-d8ffddd09ee4d8c1-01
2021-11-23T06:35:46.338Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:35:46.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-3876af1c685f3b58ea121eb587b2dccd7489eddf-7952f04348a38c69-01 outer:exit 2b-3876af1c685f3b58ea121eb587b2dccd7489eddf-710815f447d0d2c1-01
2021-11-23T06:35:46.342Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:35:46.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-e721f9e712cfe2a637dbfe9a5151d49269ffc1bc-cd1bc1d76e413ca0-01 outer:exit 2b-e721f9e712cfe2a637dbfe9a5151d49269ffc1bc-be44e9368a845b94-01
2021-11-23T06:35:46.344Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:35:46.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-be29f3424d792b3d0046bd4ba5b73dfdea6e80dd-22ba809ad2156ce2-01 outer:exit 2b-be29f3424d792b3d0046bd4ba5b73dfdea6e80dd-3fc52a9e36767e1e-01
2021-11-23T06:35:46.347Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:35:46.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c256868c5cd4c258217097ede0f6c60def89170-67ff9364ba95cf84-01 outer:exit 2b-4c256868c5cd4c258217097ede0f6c60def89170-c5482bd5d4e3c2f2-01
2021-11-23T06:35:46.350Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:35:46.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-65c331d44c754577981196ddeb2c17be34b41067-65835330f2232628-01 outer:exit 2b-65c331d44c754577981196ddeb2c17be34b41067-1a64743220bf39f6-01
2021-11-23T06:35:46.355Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:35:46.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-adf4f2f7c5c81aefdc1e64d012aee695ec0269eb-e935c5319bc1fbd1-01 outer:exit 2b-adf4f2f7c5c81aefdc1e64d012aee695ec0269eb-f12ab5fb97cc3989-01
2021-11-23T06:35:46.357Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:35:46.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-08a8e76674c7364037f22ae7cf21e6a6928639a8-3da29a0bca41a3e5-01 outer:exit 2b-08a8e76674c7364037f22ae7cf21e6a6928639a8-44d4df7bc555a50c-01
2021-11-23T06:35:46.360Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:35:46.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ab3ca23c16bf16fe955c4534185505c7bff6ec6-a5b58b339c735804-01 outer:exit 2b-0ab3ca23c16bf16fe955c4534185505c7bff6ec6-882f3e55f5bfc5ee-01
2021-11-23T06:35:46.410Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:35:46.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bfb4e815b89986e0aefae4dfb601ab6c6c4ab88-c364daa47df311f3-01 outer:exit 2b-4bfb4e815b89986e0aefae4dfb601ab6c6c4ab88-4af6fcc366399251-01
2021-11-23T06:35:46.432Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:35:46.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-7138a61bcf54700b335ea9d506366b87d64a9506-8ae1645bacbc43b3-01 outer:exit 2b-7138a61bcf54700b335ea9d506366b87d64a9506-b6be85fa6db1ee11-01
2021-11-23T06:35:46.443Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:35:46.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c3f3b2479e69e50361b0ac79ee5c1fb7a400fe5-35fa8a8225ed83b2-01 outer:exit 2b-4c3f3b2479e69e50361b0ac79ee5c1fb7a400fe5-974f5b02c1dae47f-01
2021-11-23T06:35:46.473Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:35:46.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-58dd1cf361c0efef8c6c79a924a63c8e149f8c65-503ad4116ce5c6d6-01 outer:exit 2b-58dd1cf361c0efef8c6c79a924a63c8e149f8c65-acaa528252242138-01
2021-11-23T06:35:46.478Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:35:46.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a579b844b670b701c63ed0082da26f66fd2e308-86318ad54caefdff-01 outer:exit 2b-3a579b844b670b701c63ed0082da26f66fd2e308-3c277c2defbd600e-01
2021-11-23T06:35:46.483Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:35:46.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-af8e78eb5c0fea4af3dfe75a424207c623da853f-8fa702f8adcf69df-01 outer:exit 2b-af8e78eb5c0fea4af3dfe75a424207c623da853f-b1a1cd74d6f84a08-01
2021-11-23T06:35:46.494Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:35:46.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-42e4321d82030fe6517a886970f6f418f5dce2ef-7d26222bb1da805c-01 outer:exit 2b-42e4321d82030fe6517a886970f6f418f5dce2ef-9c83b16786ef04bf-01
2021-11-23T06:35:46.506Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:35:46.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-351e2e9a44aeff0fc2e81e49c074742d52ed702a-6c45a8f893f1e776-01 outer:exit 2b-351e2e9a44aeff0fc2e81e49c074742d52ed702a-a4b41079a00a8c93-01
2021-11-23T06:35:46.509Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:35:46.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b7a378d3b174ca4c57403cf4c73cfb9837339e2-a7a76fd1cf662e3c-01 outer:exit 2b-0b7a378d3b174ca4c57403cf4c73cfb9837339e2-8804ab5cb1f34bb9-01
2021-11-23T06:35:46.513Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:35:46.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffb07ef3d5134e8bb71eee567b94f3497037ebb9-eb6fb570d0cd1378-01 outer:exit 2b-ffb07ef3d5134e8bb71eee567b94f3497037ebb9-b632b064379c4b8f-01
2021-11-23T06:35:46.516Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:35:46.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e9e29e947ff0a159ea6fe36c4c1077e012d416c-f524b04d6c9642f2-01 outer:exit 2b-4e9e29e947ff0a159ea6fe36c4c1077e012d416c-c8fb50093346b13a-01
2021-11-23T06:35:46.518Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:35:46.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-0049c6e010af0970c8b42ed7c5d3fe102b3d8588-e356803a376551bb-01 outer:exit 2b-0049c6e010af0970c8b42ed7c5d3fe102b3d8588-6368476ce65ead88-01
2021-11-23T06:35:46.531Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:35:46.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-930415408a1bfaa44464539120d27af97cce95dd-de2519ac50835dde-01 outer:exit 2b-930415408a1bfaa44464539120d27af97cce95dd-9b7c8e937751d774-01
2021-11-23T06:35:46.543Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:35:46.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f07cb404b70a95ff86c669c6806e22265b5d533-5d6ee2cb084f9ffb-01 outer:exit 2b-5f07cb404b70a95ff86c669c6806e22265b5d533-38105ea45ae21d6e-01
2021-11-23T06:35:46.547Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:35:46.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-e35a4fc16aa3ebd9cabe745398f4c725b0f6a34e-1ee13ce68c001b88-01 outer:exit 2b-e35a4fc16aa3ebd9cabe745398f4c725b0f6a34e-7d5df9c74581738f-01
2021-11-23T06:35:46.551Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:35:46.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-a78c7bfc29f59b92b3e112f7956edf4feb092446-cc0ec6572ce2aa5d-01 outer:exit 2b-a78c7bfc29f59b92b3e112f7956edf4feb092446-76a729494ca5598d-01
2021-11-23T06:35:46.611Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:35:46.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-2971e608a36b8e1c1d1a82c1bb398b14fd026ba9-1137d79066b6af92-01 outer:exit 2b-2971e608a36b8e1c1d1a82c1bb398b14fd026ba9-4b9e63db824209dd-01
2021-11-23T06:35:46.653Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (690ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:55.063Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:55.064Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:55.064Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:55.065Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:55.138Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:55.308Z appoptics:patching patched crypto 
2021-11-23T06:35:55.331Z appoptics:patching patched https 
2021-11-23T06:35:55.331Z appoptics:patching patched http 
2021-11-23T06:35:55.399Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:55.399Z appoptics:patching patched fs 
2021-11-23T06:35:55.418Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v17.1.0)
2021-11-23T06:35:55.428Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2021-11-23T06:35:55.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccca9681c125364540d52eb1208ebd40dedbeab3-a1f21d63fa63d42d-01 outer:exit 2b-ccca9681c125364540d52eb1208ebd40dedbeab3-f384b4317baec5d3-01
2021-11-23T06:35:55.496Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:35:55.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5108f1d3b7ff764b0bc2c372a07280a4f2bf93f-d5b3ec1acb888a29-01 outer:exit 2b-d5108f1d3b7ff764b0bc2c372a07280a4f2bf93f-106e544cab26b6e7-01
2021-11-23T06:35:55.551Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:35:55.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-142a9fe373ab4c81630a39f691ca36f4e0a70584-5825570ac070bd26-01 outer:exit 2b-142a9fe373ab4c81630a39f691ca36f4e0a70584-0c315076d9c5864c-01
2021-11-23T06:35:55.556Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:35:55.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-600b1b67a0499e48a78b882cd087ab7c2f5d1624-305d2309a226d068-01 outer:exit 2b-600b1b67a0499e48a78b882cd087ab7c2f5d1624-82e0d5b2fb0d3fd1-01
2021-11-23T06:35:55.560Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:35:55.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbd123c8ec941e9c1a39fd06dc22c7a91d219434-f6d6f0b8c6245adc-01 outer:exit 2b-cbd123c8ec941e9c1a39fd06dc22c7a91d219434-ec33728473245bb5-01
2021-11-23T06:35:55.565Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:35:55.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ae0fddc2b61f411646352c9092154c960c70521-29510ed368e298c8-01 outer:exit 2b-4ae0fddc2b61f411646352c9092154c960c70521-6357cd2ecdb5baf3-01
2021-11-23T06:35:55.570Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:35:55.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-68d3fa7a6e5afa849392f831d4fcd37d946f8078-99f334b961cee118-01 outer:exit 2b-68d3fa7a6e5afa849392f831d4fcd37d946f8078-c0fe7235caf1c6d0-01
2021-11-23T06:35:55.573Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:35:55.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dc7126543b04d4df2ad50b524168a3274523485-39041c4bb5593c94-01 outer:exit 2b-0dc7126543b04d4df2ad50b524168a3274523485-d9b565b46bfa4319-01
2021-11-23T06:35:55.577Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:35:55.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-769e43eb860414d8f1ce89fdcf2970f56289d43a-9d8b64800d8836fa-01 outer:exit 2b-769e43eb860414d8f1ce89fdcf2970f56289d43a-9f01d7d807427c8b-01
2021-11-23T06:35:55.580Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:35:55.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-cafa70fe09f64cc2ebb3464fc498a1b83d9fc133-00310aef425af90a-01 outer:exit 2b-cafa70fe09f64cc2ebb3464fc498a1b83d9fc133-3972714219223814-01
2021-11-23T06:35:55.584Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:35:55.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e3840a47c2f67fbb1ea3e736a7322bea3389acd-eb7f834978526de9-01 outer:exit 2b-5e3840a47c2f67fbb1ea3e736a7322bea3389acd-c44bc8923a38ecb9-01
2021-11-23T06:35:55.589Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:35:55.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-180d529c94c8b4ed2a8a6b61557ac95098e34a47-9e58b536b32502f5-01 outer:exit 2b-180d529c94c8b4ed2a8a6b61557ac95098e34a47-75397cef16590fc6-01
2021-11-23T06:35:55.596Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:35:55.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb31a08641d435ca9f4faa73a4ce8a7a97f14345-a5ede33750bb79a6-01 outer:exit 2b-eb31a08641d435ca9f4faa73a4ce8a7a97f14345-954671ab7b36408a-01
2021-11-23T06:35:55.616Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:35:55.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-40fc1e7b734f1c9707d6e375051887a63db5818b-9c1c7911b9718184-01 outer:exit 2b-40fc1e7b734f1c9707d6e375051887a63db5818b-2b45aa3b791fbc3a-01
2021-11-23T06:35:55.654Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:35:55.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fbcf105107ae88b102ff5bff3a7546707900e22-edd7e0c368b4a66c-01 outer:exit 2b-6fbcf105107ae88b102ff5bff3a7546707900e22-4d7d249561c68cee-01
2021-11-23T06:35:55.658Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:35:55.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-608dc15ac080399941d29d5bf24380186b3e75ef-997705a087d200b4-01 outer:exit 2b-608dc15ac080399941d29d5bf24380186b3e75ef-0ba34554f62a0d8f-01
2021-11-23T06:35:55.661Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:35:55.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcb10feb016942324a193eeb17f7f24ae8e8b476-d8d80d4eedacecf7-01 outer:exit 2b-fcb10feb016942324a193eeb17f7f24ae8e8b476-8b61e86857ac2315-01
2021-11-23T06:35:55.665Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:35:55.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddd37bfbc018dcc8389e72d149b75561302ba19e-5032327b6f9c74c2-01 outer:exit 2b-ddd37bfbc018dcc8389e72d149b75561302ba19e-11d86dbc74831124-01
2021-11-23T06:35:55.668Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:35:55.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-a248d2bd794c9d687a3e6efc993275364aed7129-8fe8176c94eeb4b6-01 outer:exit 2b-a248d2bd794c9d687a3e6efc993275364aed7129-47abc8f749a3d5da-01
2021-11-23T06:35:55.670Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:35:55.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-25a270e33289c29b74839317f2bca87a318d5e6b-9dc05d76cb8b090d-01 outer:exit 2b-25a270e33289c29b74839317f2bca87a318d5e6b-453352101f606117-01
2021-11-23T06:35:55.673Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:35:55.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-389ff5738067244c1fce8e5f205cadb691614cdd-f124ef5ac2f6eb60-01 outer:exit 2b-389ff5738067244c1fce8e5f205cadb691614cdd-267916478d2411cd-01
2021-11-23T06:35:55.676Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:35:55.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-22a41e41fc170db5b6f172baad8fea2b3f6ed8a6-14f4feccc6ca361c-01 outer:exit 2b-22a41e41fc170db5b6f172baad8fea2b3f6ed8a6-0d4e72abfb840465-01
2021-11-23T06:35:55.679Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:35:55.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0a0f5a7701539b2a54fbe1a2184e21a8682a888-ec3321555347af31-01 outer:exit 2b-c0a0f5a7701539b2a54fbe1a2184e21a8682a888-00945b846647de92-01
2021-11-23T06:35:55.682Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:35:55.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-916ee8f041b52cc2748604eb0bb5babd1b21160c-fa3d804da3d5bacf-01 outer:exit 2b-916ee8f041b52cc2748604eb0bb5babd1b21160c-333a34e4023bebd1-01
2021-11-23T06:35:55.687Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:35:55.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-af89c52987d40316e77078d0278f15a220e39db5-6212a9b9b4826a06-01 outer:exit 2b-af89c52987d40316e77078d0278f15a220e39db5-d9b01f9e868fb2ed-01
2021-11-23T06:35:55.689Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:35:55.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c72629fa861d89e184f068d54008a3638ce041b-3968c33b3387e111-01 outer:exit 2b-7c72629fa861d89e184f068d54008a3638ce041b-d68d600257e2f8f4-01
2021-11-23T06:35:55.692Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:35:55.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff7e1791dac79961fe9a15bc7533cd174cc775f9-b40335e2b5d0f069-01 outer:exit 2b-ff7e1791dac79961fe9a15bc7533cd174cc775f9-06c27a93f665faf1-01
2021-11-23T06:35:55.699Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:35:55.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-f87d324a3b201ab7024140e2f2e145c73d743814-b9f3b31f31b0375b-01 outer:exit 2b-f87d324a3b201ab7024140e2f2e145c73d743814-98e1834b48319645-01
2021-11-23T06:35:55.706Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:35:55.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-68ea3c696ff87aad65dfdc44edbb80483f39e5f4-a6189be61959eb14-01 outer:exit 2b-68ea3c696ff87aad65dfdc44edbb80483f39e5f4-fbcf2ab1d8e280a2-01
2021-11-23T06:35:55.720Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:35:55.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-0400f5f5158c9fa9892b64ea9e61dce88429ba65-2df10e5e95bf8aaf-01 outer:exit 2b-0400f5f5158c9fa9892b64ea9e61dce88429ba65-e0dd74378a01f9f1-01
2021-11-23T06:35:55.729Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:35:55.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-40102fd672b1d13c7e522e8e36a6aa8268b72093-81fc889e8c61fef4-01 outer:exit 2b-40102fd672b1d13c7e522e8e36a6aa8268b72093-41c24c8719bc691f-01
2021-11-23T06:35:55.731Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:35:55.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf5b264a8f66f14388ca15dcc14c52877a684c13-4e4d48cb9b38d5f6-01 outer:exit 2b-cf5b264a8f66f14388ca15dcc14c52877a684c13-aea8ceb07e117be9-01
2021-11-23T06:35:55.735Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:35:55.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-13a5d327961aa52c0fd13935e8ce8d4ba853ce2d-5fb42486585026d4-01 outer:exit 2b-13a5d327961aa52c0fd13935e8ce8d4ba853ce2d-374b5e6cb94a2663-01
2021-11-23T06:35:55.744Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:35:55.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9a82ab384f94c41a40170f693325f8fd6eff6f7-de7267827285ca2d-01 outer:exit 2b-b9a82ab384f94c41a40170f693325f8fd6eff6f7-ff4714156d50b56e-01
2021-11-23T06:35:55.746Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:35:55.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2f7734935e2ff0ae78e340c4bf97aec18998877-705a6ceb2dc3a12d-01 outer:exit 2b-b2f7734935e2ff0ae78e340c4bf97aec18998877-4a7e166d99c7441b-01
2021-11-23T06:35:55.749Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:35:55.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-c27c74b287b856abc1ad3c6786540f1a25c09305-62bed3ec88b3dd60-01 outer:exit 2b-c27c74b287b856abc1ad3c6786540f1a25c09305-75daa5f904f61c30-01
2021-11-23T06:35:55.751Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:35:55.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ce65a6c46fcab76fc47503b92aa70a20ccbb7be-ec1a91f7d1555a98-01 outer:exit 2b-8ce65a6c46fcab76fc47503b92aa70a20ccbb7be-2b55da3dfe838535-01
2021-11-23T06:35:55.754Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:35:55.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-24598f406ede844dcbe0ac75e752544dd2430c4f-29591a733926aaf2-01 outer:exit 2b-24598f406ede844dcbe0ac75e752544dd2430c4f-2b67cd080a4d7a18-01
2021-11-23T06:35:55.756Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:35:55.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1a49fab26cbde6124fc98a4c81f49ce1791a512-401fa9531da05868-01 outer:exit 2b-e1a49fab26cbde6124fc98a4c81f49ce1791a512-a7d2626e3359f018-01
2021-11-23T06:35:55.771Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:35:55.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ad149a57c724c83aa115f3c1cd0d8eb34740aa5-2475398f06e72cbc-01 outer:exit 2b-5ad149a57c724c83aa115f3c1cd0d8eb34740aa5-ab053647f78591bb-01
2021-11-23T06:35:55.781Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:35:55.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-911d9f4a01de232259906c29333edc23bf7b9d68-ec50f8cf3bbc6a4d-01 outer:exit 2b-911d9f4a01de232259906c29333edc23bf7b9d68-6e5f6720a1d7ff05-01
2021-11-23T06:35:55.785Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:35:55.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b61f29c7303abce456f72041940190fe97f11d4-53a8b412262cb337-01 outer:exit 2b-8b61f29c7303abce456f72041940190fe97f11d4-bde5a61de0904e49-01
2021-11-23T06:35:55.788Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:35:55.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-70677f537a4cb5d6d6d28e4b65352e6ebeec8ae6-be5181cb314a863a-01 outer:exit 2b-70677f537a4cb5d6d6d28e4b65352e6ebeec8ae6-948c18fa36746736-01
2021-11-23T06:35:55.791Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:35:55.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-c418f9194689072de749e27633e33bb87aa5db47-ba703b9b243b5953-01 outer:exit 2b-c418f9194689072de749e27633e33bb87aa5db47-485a4f2fa0a9fdaa-01
2021-11-23T06:35:55.827Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (389ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 10s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:06.081Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:06.082Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:06.082Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:06.083Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:06.205Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:06.417Z appoptics:patching patched crypto 
2021-11-23T06:36:06.445Z appoptics:patching patched https 
2021-11-23T06:36:06.446Z appoptics:patching patched http 
2021-11-23T06:36:06.529Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:06.530Z appoptics:patching patched fs 
2021-11-23T06:36:06.568Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v17.1.0)
2021-11-23T06:36:06.579Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2021-11-23T06:36:06.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-6df1cbf7f2272167949fc23a13af8347ad1b06de-7353a531fccc5542-01 outer:exit 2b-6df1cbf7f2272167949fc23a13af8347ad1b06de-f9fc3a4ea38451ab-01
2021-11-23T06:36:06.659Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:06.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-0558c5979568ca65d90eddec4752189497d0b7dd-476129ada33244f6-01 outer:exit 2b-0558c5979568ca65d90eddec4752189497d0b7dd-b2b6af1a314d1ee7-01
2021-11-23T06:36:06.717Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:06.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bc9dcd24cb415887abb9b222e3023adce1611c6-663c90072bb2ecae-01 outer:exit 2b-2bc9dcd24cb415887abb9b222e3023adce1611c6-6a2ef49ff9c53d89-01
2021-11-23T06:36:06.722Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:06.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-bae57cac9a599cbb23f5a5f3e9358ea67b778e31-e412b53c0a3985ae-01 outer:exit 2b-bae57cac9a599cbb23f5a5f3e9358ea67b778e31-8e93e623c458484f-01
2021-11-23T06:36:06.728Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:06.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0d826bf1534951a2f82338adc40eb1900d38ed0-97dd9c0e35310c9b-01 outer:exit 2b-b0d826bf1534951a2f82338adc40eb1900d38ed0-9ffaefe5df2e3873-01
2021-11-23T06:36:06.735Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:06.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-e81b8efa183ee02783fbb984e2c4769eb01e73d6-5d5d4b6d87e439e3-01 outer:exit 2b-e81b8efa183ee02783fbb984e2c4769eb01e73d6-1eea875ffdd9fff0-01
2021-11-23T06:36:06.741Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:06.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-c22263f4c9d1a944deaf7aac721d1e6aba276720-f34341578e4cfa42-01 outer:exit 2b-c22263f4c9d1a944deaf7aac721d1e6aba276720-2dc7983a376fac21-01
2021-11-23T06:36:06.746Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:06.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c449237de6081ccdedb2373780120a0ac800793-86c787f23cd53a89-01 outer:exit 2b-2c449237de6081ccdedb2373780120a0ac800793-33c00623721a7d03-01
2021-11-23T06:36:06.750Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:06.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-890945b22fe87aa6c8d8ba9aac49f1e347127398-05e54851fd231294-01 outer:exit 2b-890945b22fe87aa6c8d8ba9aac49f1e347127398-5dc69bdff725ca54-01
2021-11-23T06:36:06.754Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:06.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc0e4ff26ad7e76cc38e4cfec8d4bd07847ebfce-066d8e6a640873f6-01 outer:exit 2b-dc0e4ff26ad7e76cc38e4cfec8d4bd07847ebfce-b183d514733fec55-01
2021-11-23T06:36:06.760Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:06.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5aefa99f989b4f6c98b70f6388e66aff08c76cb-79eccc6541683bb8-01 outer:exit 2b-d5aefa99f989b4f6c98b70f6388e66aff08c76cb-4244c5155bd39253-01
2021-11-23T06:36:06.767Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:06.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2e3e673eb801b1622c853d631a1bae8f473d750-2e2d832870a3604c-01 outer:exit 2b-b2e3e673eb801b1622c853d631a1bae8f473d750-86a1ae4cb3c18ceb-01
2021-11-23T06:36:06.776Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:06.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-089a491e92eb691fd526d63a8c3927a21e66fbea-65a7423ff5c7d04d-01 outer:exit 2b-089a491e92eb691fd526d63a8c3927a21e66fbea-232c7f18d46551cf-01
2021-11-23T06:36:06.799Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:06.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-99bc449536f6e81c0e6583f756bc9991034006ff-9bb4399d6fd4e023-01 outer:exit 2b-99bc449536f6e81c0e6583f756bc9991034006ff-00472f8b2ff04255-01
2021-11-23T06:36:06.865Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:06.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6b9aab773aa1608037c5a109988f0642662b4cc-fc896b0ac9722b93-01 outer:exit 2b-a6b9aab773aa1608037c5a109988f0642662b4cc-0fe827273a42b6fb-01
2021-11-23T06:36:06.869Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:06.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e438a73f238edda00a45edde7c66f04b3561782-69a036f0541a7941-01 outer:exit 2b-4e438a73f238edda00a45edde7c66f04b3561782-341430acf432e847-01
2021-11-23T06:36:06.874Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:06.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-93aea44ee904639e331d09b19f33737f835aaa11-3b8aef9c80e0944e-01 outer:exit 2b-93aea44ee904639e331d09b19f33737f835aaa11-2f5540638e42c323-01
2021-11-23T06:36:06.879Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:06.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f5d7be39a7734ac91921641c247a849441a34c3-bf26f901081a6354-01 outer:exit 2b-0f5d7be39a7734ac91921641c247a849441a34c3-aae8658457a08a5b-01
2021-11-23T06:36:06.882Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:06.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aeeecac3d418e2f1fe3a19ab69a4f3e148c0d6a-7bbd600ac0e59b10-01 outer:exit 2b-0aeeecac3d418e2f1fe3a19ab69a4f3e148c0d6a-fd45fe0289ff537b-01
2021-11-23T06:36:06.886Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:06.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7318ca2f19a8e9fa2d208cdecf178cccc9dc1f6-81fa35a93ded9a81-01 outer:exit 2b-d7318ca2f19a8e9fa2d208cdecf178cccc9dc1f6-2664b248edd8a0e4-01
2021-11-23T06:36:06.889Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:06.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-627f650a95ecd59d9c9547cdde149c1ca152c9f2-34ca70450a6011a8-01 outer:exit 2b-627f650a95ecd59d9c9547cdde149c1ca152c9f2-654868c5ccb5c925-01
2021-11-23T06:36:06.893Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:06.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab9f517f90cf96646fbacd1aae2c0ba88ad852f3-fdae4267d33a45ba-01 outer:exit 2b-ab9f517f90cf96646fbacd1aae2c0ba88ad852f3-33e54c6f763535b9-01
2021-11-23T06:36:06.896Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:06.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-4893d4286561c00cb656eb2894f9a20d8d82e343-ce5387c3b4944aa1-01 outer:exit 2b-4893d4286561c00cb656eb2894f9a20d8d82e343-8105de32f951486d-01
2021-11-23T06:36:06.901Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:06.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-02a3f7842e9e5fce6a3e972f9dd4078b49eca06f-0560674c206b2497-01 outer:exit 2b-02a3f7842e9e5fce6a3e972f9dd4078b49eca06f-2f5f0f6534ab3b4f-01
2021-11-23T06:36:06.907Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:06.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-7455bc5705b366f64ed734c602a5db5baf741a1e-6bc608bfeb5f443b-01 outer:exit 2b-7455bc5705b366f64ed734c602a5db5baf741a1e-88780755dfb220d3-01
2021-11-23T06:36:06.911Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:06.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-723f1a420714eedd4f5918b8346fe484f2a2854c-54fccc05598b1a52-01 outer:exit 2b-723f1a420714eedd4f5918b8346fe484f2a2854c-43b15ae5c266b55c-01
2021-11-23T06:36:06.915Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:06.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f52ebc3e2d7c18f104c7779ec9cbc5623281c38-1968b956055ad689-01 outer:exit 2b-4f52ebc3e2d7c18f104c7779ec9cbc5623281c38-0e10dde60bcc6d29-01
2021-11-23T06:36:06.924Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:06.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-51b63d5b76c99efeefd587bbf98e4200b08397a3-1fcd0d078a596ac9-01 outer:exit 2b-51b63d5b76c99efeefd587bbf98e4200b08397a3-a52bc48acb448468-01
2021-11-23T06:36:06.932Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:06.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-f17d27eb3e5b980502b5f88fc1e1ba4e85a9a986-be0d2641f8dcc3a8-01 outer:exit 2b-f17d27eb3e5b980502b5f88fc1e1ba4e85a9a986-1578e5923d391a36-01
2021-11-23T06:36:06.947Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:06.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bbc203fdefbeee4fe643ccf3a08796df94452cb-0633718d4713ae4d-01 outer:exit 2b-6bbc203fdefbeee4fe643ccf3a08796df94452cb-8ffc73c650f3c86c-01
2021-11-23T06:36:06.958Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:06.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d0c5b53f54f4f11763cfd376f0a19ac33cfa841-a594aee8da96a2d6-01 outer:exit 2b-7d0c5b53f54f4f11763cfd376f0a19ac33cfa841-34c9981b087fa74a-01
2021-11-23T06:36:06.962Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:06.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-961c23234d56f503e6c9ce042a118e8fe58d3286-c6d67e3f785e9cc7-01 outer:exit 2b-961c23234d56f503e6c9ce042a118e8fe58d3286-f13bca7d8b63238d-01
2021-11-23T06:36:06.970Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:06.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3a16459055ed09eba0b5d3fd5b03092fec64112-aa1e0087fa85dc0f-01 outer:exit 2b-c3a16459055ed09eba0b5d3fd5b03092fec64112-2bebe67b2e9e798a-01
2021-11-23T06:36:06.981Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:06.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-906c8f4aeebcb4ac528d3505c32dc58cfa1bbed6-c99720297af58567-01 outer:exit 2b-906c8f4aeebcb4ac528d3505c32dc58cfa1bbed6-5a0d8d55c3c1052b-01
2021-11-23T06:36:06.985Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:06.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1aca7db28b608bc1c36976b59332b8d6d4d07db-b44f5d609203f4d4-01 outer:exit 2b-e1aca7db28b608bc1c36976b59332b8d6d4d07db-894d45dd8fe6781a-01
2021-11-23T06:36:06.989Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:06.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ef5d7a5aec42036060d752663d3c762419cc016-c0e8a15de78e880a-01 outer:exit 2b-2ef5d7a5aec42036060d752663d3c762419cc016-4d7595efb8444daa-01
2021-11-23T06:36:06.992Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:06.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f01942ff08da0b718435e1d80ec2dc1f491c73a-785939f38901ba29-01 outer:exit 2b-4f01942ff08da0b718435e1d80ec2dc1f491c73a-49832d0cbece3cad-01
2021-11-23T06:36:06.995Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:06.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a479a66a955212455d58226ccdc49476e11a85c-e7237c7f2547fdc6-01 outer:exit 2b-0a479a66a955212455d58226ccdc49476e11a85c-5f4909d29a22b094-01
2021-11-23T06:36:06.999Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:07.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-578e1707b377daa0b96235fe94d5146ee70a3dd3-b9a678409c39dcd0-01 outer:exit 2b-578e1707b377daa0b96235fe94d5146ee70a3dd3-83a725938a2b8afc-01
2021-11-23T06:36:07.016Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:07.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f0e11b369d796df03755cb15a220db1441a7b9c-588a574349fad438-01 outer:exit 2b-4f0e11b369d796df03755cb15a220db1441a7b9c-65405113b3a54f20-01
2021-11-23T06:36:07.038Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:07.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cc71cf5f593df45bc1790087aa4d2ff8985a42c-a71b7db750c114a6-01 outer:exit 2b-5cc71cf5f593df45bc1790087aa4d2ff8985a42c-b21f0cbabcdfc1d9-01
2021-11-23T06:36:07.043Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:07.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaa78d212c35ed35fc5de8a32b62e086dbd708e7-bdf9cceef086a103-01 outer:exit 2b-aaa78d212c35ed35fc5de8a32b62e086dbd708e7-94f8c6a2f86afe40-01
2021-11-23T06:36:07.047Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:07.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-35f333f354ab090d70b855c0e4d126eb7abb64bb-3942ec28056795a6-01 outer:exit 2b-35f333f354ab090d70b855c0e4d126eb7abb64bb-91275e6c4fd3150a-01
2021-11-23T06:36:07.051Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:07.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-95e66317c67e26cf88a28c7893815d8a65bdd9d5-4b0a5bc3276773c3-01 outer:exit 2b-95e66317c67e26cf88a28c7893815d8a65bdd9d5-361a43e0f53ae83d-01
2021-11-23T06:36:07.098Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (507ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 10s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:17.653Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:17.654Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:17.654Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:17.655Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:17.753Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:17.953Z appoptics:patching patched crypto 
2021-11-23T06:36:17.980Z appoptics:patching patched https 
2021-11-23T06:36:17.980Z appoptics:patching patched http 
2021-11-23T06:36:18.063Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:18.064Z appoptics:patching patched fs 
2021-11-23T06:36:18.088Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v17.1.0)
2021-11-23T06:36:18.101Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2021-11-23T06:36:18.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-354190ca3559cfcc8d104dbdb8a8f4a281d5bfe7-9acb5e1c43bb710e-01 outer:exit 2b-354190ca3559cfcc8d104dbdb8a8f4a281d5bfe7-8ff23f236bc78557-01
2021-11-23T06:36:18.199Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:18.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c4cb47cca3a7049bba8ff8d9abb59c6ee858c0f-66beda977855256a-01 outer:exit 2b-5c4cb47cca3a7049bba8ff8d9abb59c6ee858c0f-6a8662812ef98b5e-01
2021-11-23T06:36:18.264Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:18.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-76de392828101619f4f4504bf615d5c41c3c543c-fa53295b33c54cc6-01 outer:exit 2b-76de392828101619f4f4504bf615d5c41c3c543c-e574b39f956d3d45-01
2021-11-23T06:36:18.270Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:18.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-84659ce7cb6425a26de7620c213e98eaca5d97db-889e418c8ae0a506-01 outer:exit 2b-84659ce7cb6425a26de7620c213e98eaca5d97db-f5bf115aea5a6795-01
2021-11-23T06:36:18.275Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:18.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c1583d376177f21a71c336aef740e02bf1ee888-be726fdb346c3be5-01 outer:exit 2b-7c1583d376177f21a71c336aef740e02bf1ee888-6f731090e8fd9a36-01
2021-11-23T06:36:18.283Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:18.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-f02784b69c5b53cab234a8b9f502f0d2ebe09670-d5f1ef1d2c8ea515-01 outer:exit 2b-f02784b69c5b53cab234a8b9f502f0d2ebe09670-b9fa8073a288c905-01
2021-11-23T06:36:18.289Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:18.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7a4d5cbbd0a8ae5d344291dff58c45d5791eb8b-f0e2263debecc936-01 outer:exit 2b-a7a4d5cbbd0a8ae5d344291dff58c45d5791eb8b-0e37bb0e4b13bbfd-01
2021-11-23T06:36:18.293Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:18.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-0551b1ad58b59818e4dfba1a347acf8af3f9992c-30efac2c6d0d915b-01 outer:exit 2b-0551b1ad58b59818e4dfba1a347acf8af3f9992c-b60769dc651656f1-01
2021-11-23T06:36:18.297Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:18.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf5cf3758297eaea745243ddfdc9c1a99a1a6953-82e9e0ecba5a16cc-01 outer:exit 2b-cf5cf3758297eaea745243ddfdc9c1a99a1a6953-79dcdc3af514d36f-01
2021-11-23T06:36:18.301Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:18.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-5212790100666a546e887f6e86f97ca90e8c98ff-54ada2727eaf52bc-01 outer:exit 2b-5212790100666a546e887f6e86f97ca90e8c98ff-f7ca23916c6322f5-01
2021-11-23T06:36:18.307Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:18.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7532187060ad90515e8c784eaeaea022890e8ac-e53654febe3e674f-01 outer:exit 2b-d7532187060ad90515e8c784eaeaea022890e8ac-8d0dba6c090eee3a-01
2021-11-23T06:36:18.314Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:18.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-f57e6b05a64a92c7f471a7e9a16c37899ff0824b-b2d510534bd64d65-01 outer:exit 2b-f57e6b05a64a92c7f471a7e9a16c37899ff0824b-beffb5c67b89ba81-01
2021-11-23T06:36:18.323Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:18.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-688c6eb614c4bbb5dd9c51337966cb283c9cf733-2b81b8dcd741fd17-01 outer:exit 2b-688c6eb614c4bbb5dd9c51337966cb283c9cf733-6e2476fb8f2a03a4-01
2021-11-23T06:36:18.348Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:18.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b5b64155674608c358ec9437d63f675a9d7bb08-fcadf2f66e225c8b-01 outer:exit 2b-8b5b64155674608c358ec9437d63f675a9d7bb08-6d8eecf6d8db12aa-01
2021-11-23T06:36:18.404Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:18.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e2877b29895afca22ad1f6c0c11ef98d6faad37-6036dd5f0bff3264-01 outer:exit 2b-3e2877b29895afca22ad1f6c0c11ef98d6faad37-ffd0c3c692b65be3-01
2021-11-23T06:36:18.413Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:18.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-a197d1fae7f852db3292f7dfdb054f9364ed0efa-75dcbcf0d57d107b-01 outer:exit 2b-a197d1fae7f852db3292f7dfdb054f9364ed0efa-a0f5946a4fa63be6-01
2021-11-23T06:36:18.417Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:18.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-21a37aa2771c83b03ce7c10b0020e547e4b4e65a-a56960b9b7715d92-01 outer:exit 2b-21a37aa2771c83b03ce7c10b0020e547e4b4e65a-be634079b0048ea3-01
2021-11-23T06:36:18.422Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:18.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-7439cf5e25eeabcf25557ffbc65b2707d8c27716-9e83757efb855139-01 outer:exit 2b-7439cf5e25eeabcf25557ffbc65b2707d8c27716-0ede47d3325c02bd-01
2021-11-23T06:36:18.426Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:18.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-cde3b5e1f3486c667f15bfc60cdc15ca10d35a0d-5a8a8634f8f1e29c-01 outer:exit 2b-cde3b5e1f3486c667f15bfc60cdc15ca10d35a0d-3ca28dd0fc62c2c6-01
2021-11-23T06:36:18.429Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:18.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-87a8238d525ff4aafed9fcc9b0e3421cd4745612-a745600f93304d44-01 outer:exit 2b-87a8238d525ff4aafed9fcc9b0e3421cd4745612-56091b08620bb6a1-01
2021-11-23T06:36:18.433Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:18.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7454cbff26d253861cc950c474280b85503ff31-fcd18ebfe959ae5c-01 outer:exit 2b-b7454cbff26d253861cc950c474280b85503ff31-f4b3e6a4234bb763-01
2021-11-23T06:36:18.446Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:18.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-50a5f1dc0b9b73b5f6969386d75ab7c73e84c64a-30e912769f59d804-01 outer:exit 2b-50a5f1dc0b9b73b5f6969386d75ab7c73e84c64a-660bd69630956771-01
2021-11-23T06:36:18.451Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:18.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-740a98ea43713882bbecc74a4ae74b53a438e14f-ac8fda6a3ecee02f-01 outer:exit 2b-740a98ea43713882bbecc74a4ae74b53a438e14f-848ceaa55c73fa4a-01
2021-11-23T06:36:18.456Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:18.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7d3c77ae79b7bc4d6023ef1f653170a4f73fe99-4813e5e9fcd68b8b-01 outer:exit 2b-f7d3c77ae79b7bc4d6023ef1f653170a4f73fe99-7368ed55711c6cdc-01
2021-11-23T06:36:18.461Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:18.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-5acdb476c16d788e91278569d82e36e7d72e5444-7fd2a743071aa2d7-01 outer:exit 2b-5acdb476c16d788e91278569d82e36e7d72e5444-7136e83f2931f210-01
2021-11-23T06:36:18.465Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:18.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf8f8e0f5946648ce198a672feafcf50a250d9cd-9c76d76b9422ee34-01 outer:exit 2b-bf8f8e0f5946648ce198a672feafcf50a250d9cd-e451bceea5621fb6-01
2021-11-23T06:36:18.469Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:18.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8c0956a4155ab26093c74ace9003b5c27ffb50e-617b243fa16136c1-01 outer:exit 2b-b8c0956a4155ab26093c74ace9003b5c27ffb50e-ad252fe722827dae-01
2021-11-23T06:36:18.478Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:18.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddc4b61e81edd5107e87fc3d71ba202a7186b665-10919c95441b21f1-01 outer:exit 2b-ddc4b61e81edd5107e87fc3d71ba202a7186b665-4b53915ef66a6433-01
2021-11-23T06:36:18.485Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:18.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8fbf725f1ff5a1a39fcf01b35b53d573581a663-ee5a95edbce44d89-01 outer:exit 2b-b8fbf725f1ff5a1a39fcf01b35b53d573581a663-e501ede55e75a7f1-01
2021-11-23T06:36:18.509Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:18.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-aeca19c0409f02c81d2b5846592597c2a5c10133-fe74f72c618ef717-01 outer:exit 2b-aeca19c0409f02c81d2b5846592597c2a5c10133-1cde3341702e3944-01
2021-11-23T06:36:18.527Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:18.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-08b0e91964332a34f7ac4f2d1028d41380705eac-386d67fba5dd0520-01 outer:exit 2b-08b0e91964332a34f7ac4f2d1028d41380705eac-7ca03eeaee8db52a-01
2021-11-23T06:36:18.532Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:18.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1e4b5ffd30a6a200f184e1631484ea030977730-a93fa46f00de1ea6-01 outer:exit 2b-d1e4b5ffd30a6a200f184e1631484ea030977730-4e002082eaed34b7-01
2021-11-23T06:36:18.538Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:18.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2557763d838f47ec1c091000377ae09ea051f37-b858cd895d530366-01 outer:exit 2b-e2557763d838f47ec1c091000377ae09ea051f37-9bdcac2f111e582d-01
2021-11-23T06:36:18.551Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:18.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3690e2ed5d28b6feed8e20c171fb86a084f0460-1a44e86b3f112c08-01 outer:exit 2b-e3690e2ed5d28b6feed8e20c171fb86a084f0460-12a759ee2ad4447a-01
2021-11-23T06:36:18.556Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:18.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae0784977fb339f741cd5d168f5ec408c1396a03-80023344971568ff-01 outer:exit 2b-ae0784977fb339f741cd5d168f5ec408c1396a03-ae8ab7e8700be7ec-01
2021-11-23T06:36:18.560Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:18.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c0176b1ee355f090d28c235bb2a7672cb8c3e74-87bd6d5fb5ed600a-01 outer:exit 2b-9c0176b1ee355f090d28c235bb2a7672cb8c3e74-55faf5fc6e4a8d90-01
2021-11-23T06:36:18.564Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:18.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-78d91d176dbd23bdada4216fd3b4ff4a6b337fb2-b55b445b5f682574-01 outer:exit 2b-78d91d176dbd23bdada4216fd3b4ff4a6b337fb2-1e5cb1bb65a00949-01
2021-11-23T06:36:18.567Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:18.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-9222f7f53aebf621b919d92ec51ff3320336fbb0-dfb38f18bbebde0f-01 outer:exit 2b-9222f7f53aebf621b919d92ec51ff3320336fbb0-1a578953ea61ad4d-01
2021-11-23T06:36:18.570Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:18.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-468e370298d557f066ef569b39e2a85f21d4c057-5a26b2206dca4f15-01 outer:exit 2b-468e370298d557f066ef569b39e2a85f21d4c057-6b73d1c4efdf337a-01
2021-11-23T06:36:18.587Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:18.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-89a69f1e3972c2369e01fbf25f4aa822f0523907-5dc150a5548b45b0-01 outer:exit 2b-89a69f1e3972c2369e01fbf25f4aa822f0523907-8a92c734e74ecd75-01
2021-11-23T06:36:18.604Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:18.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-248aeb6679a8198323085687bdad5c3ef65acffa-4a26e6fc7f4acf42-01 outer:exit 2b-248aeb6679a8198323085687bdad5c3ef65acffa-7cea7519c52a2fd2-01
2021-11-23T06:36:18.610Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:18.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-f83e990604dd64637f85b59cc35cd7d3e7726def-da5d4032d581e01c-01 outer:exit 2b-f83e990604dd64637f85b59cc35cd7d3e7726def-0141e6f68452585d-01
2021-11-23T06:36:18.614Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:18.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-a825a999f627937f75fa3c65190518fd7b968e6b-1891a9ca5421e5f8-01 outer:exit 2b-a825a999f627937f75fa3c65190518fd7b968e6b-d985d9697bd75d6e-01
2021-11-23T06:36:18.618Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:18.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-358f6bae5e58142ec90d182d39e239d70f15b525-e2d91d49e80abda0-01 outer:exit 2b-358f6bae5e58142ec90d182d39e239d70f15b525-c9b6b46abb40a723-01
2021-11-23T06:36:18.670Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (550ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:27.024Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:27.025Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:27.025Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:27.026Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:27.098Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:27.263Z appoptics:patching patched crypto 
2021-11-23T06:36:27.285Z appoptics:patching patched https 
2021-11-23T06:36:27.286Z appoptics:patching patched http 
2021-11-23T06:36:27.356Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:27.356Z appoptics:patching patched fs 
2021-11-23T06:36:27.374Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v17.1.0)
2021-11-23T06:36:27.383Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2021-11-23T06:36:27.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-34867c9c6adf5e627ddc15b1d230cddd6c33527d-badd4c2a17384ead-01 outer:exit 2b-34867c9c6adf5e627ddc15b1d230cddd6c33527d-0891543e7d289554-01
2021-11-23T06:36:27.449Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:27.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-01a912de99256623d915e430a362a57203cbad79-5f2a07347cd7ce6a-01 outer:exit 2b-01a912de99256623d915e430a362a57203cbad79-0800cff4f6615d2e-01
2021-11-23T06:36:27.504Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:27.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-879d165f559738f3316544971b905197ec129a42-f9e7960f9944c14c-01 outer:exit 2b-879d165f559738f3316544971b905197ec129a42-49f1ccdeae3c406b-01
2021-11-23T06:36:27.515Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:27.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-db62b7556b50c5ef47d17c21a1d4f97d4d6962dd-d1fe3f76f10975e8-01 outer:exit 2b-db62b7556b50c5ef47d17c21a1d4f97d4d6962dd-61364e16b82993e2-01
2021-11-23T06:36:27.520Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:27.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-77ac2d4bf63b460f2ba59d4895a824c2293726bb-6c38905a62902c71-01 outer:exit 2b-77ac2d4bf63b460f2ba59d4895a824c2293726bb-20f1a2cba5d129db-01
2021-11-23T06:36:27.529Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:27.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-a326bc1106784bedbc1f46da3deabad0768d38a6-7738cef8d12c6c9a-01 outer:exit 2b-a326bc1106784bedbc1f46da3deabad0768d38a6-df8b4b1a1a715c46-01
2021-11-23T06:36:27.534Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:27.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-6189a0ab1279ac9a1a42b0e7ad66c1fa3eeb7c0e-2d7fea771cb191e7-01 outer:exit 2b-6189a0ab1279ac9a1a42b0e7ad66c1fa3eeb7c0e-e0be12a4233c76e1-01
2021-11-23T06:36:27.538Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:27.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-5610070e12d55b6d917f736bd75163a2fb7bc5bc-10dac1e2b022cbd1-01 outer:exit 2b-5610070e12d55b6d917f736bd75163a2fb7bc5bc-d68d85e8f8487c42-01
2021-11-23T06:36:27.541Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:27.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-26c32036c73bc9f3bf83f7578ef854534b9d4fae-4602b2cc79fabad7-01 outer:exit 2b-26c32036c73bc9f3bf83f7578ef854534b9d4fae-9b04738c657e4a19-01
2021-11-23T06:36:27.545Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:27.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-9075e8528c8a705df1a03164a195ab0e874f1d21-12310c291b0f09c1-01 outer:exit 2b-9075e8528c8a705df1a03164a195ab0e874f1d21-50f3c2815b826829-01
2021-11-23T06:36:27.549Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:27.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f9ea680d77a629c685ffcdfdaf434f08909be4b-b2c81390f8c66aae-01 outer:exit 2b-2f9ea680d77a629c685ffcdfdaf434f08909be4b-abbe4a0c5e91697a-01
2021-11-23T06:36:27.557Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:27.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-31b66ac6ef7eb0cee9d4a931fc0e281ad1eae00a-c3e04a1578b0ffe0-01 outer:exit 2b-31b66ac6ef7eb0cee9d4a931fc0e281ad1eae00a-242a9f5d8872d531-01
2021-11-23T06:36:27.567Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:27.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7bffb96b132e06defac96edbf2abcb5dc269653-f225760280e78cf9-01 outer:exit 2b-d7bffb96b132e06defac96edbf2abcb5dc269653-720a262e5c30b65b-01
2021-11-23T06:36:27.583Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:27.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-864d406331709dde4885aae28c3b87aa5ece2b83-47f99c61754c7f98-01 outer:exit 2b-864d406331709dde4885aae28c3b87aa5ece2b83-63d70c4dc1b85a88-01
2021-11-23T06:36:27.662Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:27.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-af14fc7605e6c1ca6ee880f3e89c942efcb32818-8165527e4765cd54-01 outer:exit 2b-af14fc7605e6c1ca6ee880f3e89c942efcb32818-23b4b35d7d92d139-01
2021-11-23T06:36:27.665Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:27.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ea09cdc77d3752e3a2a3c92205778c847240df2-fc04102270dc6ad9-01 outer:exit 2b-1ea09cdc77d3752e3a2a3c92205778c847240df2-ace7aaa34658bd7b-01
2021-11-23T06:36:27.669Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:27.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b64bc63afb70eb9d6d347767d4a1e77e0285bff-a923668ba2375bfc-01 outer:exit 2b-7b64bc63afb70eb9d6d347767d4a1e77e0285bff-93cddf2855209d8c-01
2021-11-23T06:36:27.673Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:27.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-21d268a6e443159016c21107ab9cbeabda39bc81-dc4caa4212ca3872-01 outer:exit 2b-21d268a6e443159016c21107ab9cbeabda39bc81-d1d52e6fde97f74d-01
2021-11-23T06:36:27.676Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:27.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-421e410a93470e9ffdcda02fc70429691517e393-3deda981ee103f8b-01 outer:exit 2b-421e410a93470e9ffdcda02fc70429691517e393-7ebef91f7796c8f5-01
2021-11-23T06:36:27.678Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:27.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f51f0319ac0997d5c6c44a15d13de94596a94d0-4c424f15f96a44aa-01 outer:exit 2b-6f51f0319ac0997d5c6c44a15d13de94596a94d0-fc24d984485f76a7-01
2021-11-23T06:36:27.681Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:27.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc56e2d8bc260c86a348aaba580844f41de35908-256b1ebf744330e8-01 outer:exit 2b-fc56e2d8bc260c86a348aaba580844f41de35908-91f4f6c27148c24c-01
2021-11-23T06:36:27.686Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:27.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9159c3efcae618b2d469e40718c2d3e9c94493f-8a673f8ffd97017c-01 outer:exit 2b-b9159c3efcae618b2d469e40718c2d3e9c94493f-e39b788350ed8892-01
2021-11-23T06:36:27.688Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:27.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-38c4081886b23d7a02d59c23c6c966a1ffed4a04-ec87dcf73d42c825-01 outer:exit 2b-38c4081886b23d7a02d59c23c6c966a1ffed4a04-7cbcd81e65f46c98-01
2021-11-23T06:36:27.691Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:27.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c1bed097dd6eb3b0ba26b12b355ddc900b866dd-06de27812bcf31a4-01 outer:exit 2b-5c1bed097dd6eb3b0ba26b12b355ddc900b866dd-a53de03ea1407b65-01
2021-11-23T06:36:27.695Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:27.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-87abee59788dedd09889e905ee5ec6a7e2f276b5-651ef9dab43b57cc-01 outer:exit 2b-87abee59788dedd09889e905ee5ec6a7e2f276b5-20d4ab5265bdf28d-01
2021-11-23T06:36:27.701Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:27.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7d65b0cdfe388d8bde69ece996ecdec390b71e0-fcfa6f3351b55382-01 outer:exit 2b-c7d65b0cdfe388d8bde69ece996ecdec390b71e0-1ddef52f40b90402-01
2021-11-23T06:36:27.707Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:27.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-83917be611a58e3a63705dd6a63939bad779f0f3-b9f9631772cbdb0e-01 outer:exit 2b-83917be611a58e3a63705dd6a63939bad779f0f3-991db6e29828c6a6-01
2021-11-23T06:36:27.714Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:27.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b7a43f1048ee5151a35378a06c9ba8767aa3003-a3dc6843732231a9-01 outer:exit 2b-9b7a43f1048ee5151a35378a06c9ba8767aa3003-e3c6d73eb64f61a0-01
2021-11-23T06:36:27.719Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:27.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a8d69e075496c92688a3985d1b44a1beeb9640d-94ce5409250bc037-01 outer:exit 2b-1a8d69e075496c92688a3985d1b44a1beeb9640d-78d3215b4ad44566-01
2021-11-23T06:36:27.729Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:27.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-161f83a06ff64d21fc008a1e3e1279f29fcd3778-535376236fb52fc0-01 outer:exit 2b-161f83a06ff64d21fc008a1e3e1279f29fcd3778-e93f9efd566bb9a1-01
2021-11-23T06:36:27.742Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:27.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc9c411361f61b1be2943a7fc05e7d925edc2fe2-6805f2a3f6d861ea-01 outer:exit 2b-cc9c411361f61b1be2943a7fc05e7d925edc2fe2-6cc95090e4c42d9d-01
2021-11-23T06:36:27.745Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:27.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fca64b920619270dd728c78971689693ca3e310-b86415ce4c360b15-01 outer:exit 2b-6fca64b920619270dd728c78971689693ca3e310-71ce1e5002f1c4fd-01
2021-11-23T06:36:27.748Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:27.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a338c221f337a77bb3a4c44036c7812fa11eb85-f9cef805b144916f-01 outer:exit 2b-5a338c221f337a77bb3a4c44036c7812fa11eb85-aca620eac06078da-01
2021-11-23T06:36:27.758Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:27.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-a453dd5a2149e4dc3e2de05b4baad93e7631d0b7-44e4302279d054a6-01 outer:exit 2b-a453dd5a2149e4dc3e2de05b4baad93e7631d0b7-26c8f7375daf9848-01
2021-11-23T06:36:27.761Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:27.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-d03efffc0f5686747c45e6fe7261ba81c56ab41e-2324f17e0efaa796-01 outer:exit 2b-d03efffc0f5686747c45e6fe7261ba81c56ab41e-564da82ae03b0997-01
2021-11-23T06:36:27.763Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:27.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf707eea66a15bbfc5021cefffcc967f3810f0ef-2d6291463fe60d34-01 outer:exit 2b-bf707eea66a15bbfc5021cefffcc967f3810f0ef-e51af407518bf41d-01
2021-11-23T06:36:27.767Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:27.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-614e5422f6d294def4b898b37ef4f32c1e4a69df-6f0996af50ec661c-01 outer:exit 2b-614e5422f6d294def4b898b37ef4f32c1e4a69df-e667c78b7185997e-01
2021-11-23T06:36:27.772Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:27.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-65d5ee0d116e80c011d227fb36c8e522d6a8198b-ad92f46b02feb9e7-01 outer:exit 2b-65d5ee0d116e80c011d227fb36c8e522d6a8198b-50dc41f3e58376fe-01
2021-11-23T06:36:27.775Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:27.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9b13274cc8e003ed9463cdac0cb58cd4016ce4f-66aba89798b630a3-01 outer:exit 2b-d9b13274cc8e003ed9463cdac0cb58cd4016ce4f-4384c91e12857131-01
2021-11-23T06:36:27.786Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:27.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ac61278b4e8a182680bc7c89508d487b5a871ec-94aefbdd864f44f5-01 outer:exit 2b-9ac61278b4e8a182680bc7c89508d487b5a871ec-e565d707b32514ea-01
2021-11-23T06:36:27.799Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:27.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9f203efc5352946a8b743f1cde35a6ac4fc5e08-9f71b8c067a5ac74-01 outer:exit 2b-e9f203efc5352946a8b743f1cde35a6ac4fc5e08-7cfa3a726fbd51a0-01
2021-11-23T06:36:27.806Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:27.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-7117ec1969249d903c57d419ef5009f0bb75ff5f-4bcac32a1771987b-01 outer:exit 2b-7117ec1969249d903c57d419ef5009f0bb75ff5f-b59c59f57fa46b8d-01
2021-11-23T06:36:27.812Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:27.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfde3cd8183097203d5c28fd48c65eee39bd95c4-2518345a79843d02-01 outer:exit 2b-cfde3cd8183097203d5c28fd48c65eee39bd95c4-1fee2950704558c6-01
2021-11-23T06:36:27.816Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:27.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-b82ee9cc5fedac97f4316f4b83c817a235a09993-d0dca0bbf447c29e-01 outer:exit 2b-b82ee9cc5fedac97f4316f4b83c817a235a09993-e65f10fd42f4fe5b-01
2021-11-23T06:36:27.880Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (487ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:35.823Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:35.823Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:35.824Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:35.824Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:35.895Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:36.065Z appoptics:patching patched crypto 
2021-11-23T06:36:36.088Z appoptics:patching patched https 
2021-11-23T06:36:36.089Z appoptics:patching patched http 
2021-11-23T06:36:36.159Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:36.159Z appoptics:patching patched fs 
2021-11-23T06:36:36.178Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v17.1.0)
2021-11-23T06:36:36.187Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2021-11-23T06:36:36.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc306b69a0163a9d7af7ec70f5ca61e74a72e0af-c0f66719ab72f749-01 outer:exit 2b-cc306b69a0163a9d7af7ec70f5ca61e74a72e0af-9796850856abf71b-01
2021-11-23T06:36:36.256Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:36.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e7ecc1161bd84080d9e8bdb66ef29d4c2f0ebea-188bcff295c5715c-01 outer:exit 2b-6e7ecc1161bd84080d9e8bdb66ef29d4c2f0ebea-bc5671b7b69d6eca-01
2021-11-23T06:36:36.317Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:36.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ee94f45118b4087eab83f4dc7f577410e5fc3e6-0bf2d00e28a1c5ec-01 outer:exit 2b-2ee94f45118b4087eab83f4dc7f577410e5fc3e6-7cfbb1c72d8b168f-01
2021-11-23T06:36:36.322Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:36.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-58cf6682b38644e6c94cdbec657ad8f90721766c-e4673338563372a7-01 outer:exit 2b-58cf6682b38644e6c94cdbec657ad8f90721766c-4a0de9e976718634-01
2021-11-23T06:36:36.326Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:36.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-48d3767724184b7d0a1c94917316139933740d76-475b6a1edb03bdca-01 outer:exit 2b-48d3767724184b7d0a1c94917316139933740d76-7956ed79a68995b1-01
2021-11-23T06:36:36.338Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:36.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-00ecb0ea7a8959757bf18ee4a2e010038416a87d-17f05c70a2fe7c9e-01 outer:exit 2b-00ecb0ea7a8959757bf18ee4a2e010038416a87d-1b99475f9b2c4658-01
2021-11-23T06:36:36.343Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:36.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-daff7200ec015c46f54255d77801e48cc3c27492-60b5b1c1bf27fd64-01 outer:exit 2b-daff7200ec015c46f54255d77801e48cc3c27492-23a7dcff1897eb91-01
2021-11-23T06:36:36.356Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:36.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-eca3241dec75aeb6dc7860cbfa60276ffbcbc33e-0f2ff5f396ecc025-01 outer:exit 2b-eca3241dec75aeb6dc7860cbfa60276ffbcbc33e-26f537bb67703c6c-01
2021-11-23T06:36:36.363Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:36.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a3cffa48461ac0e60ef9378d857d94e808adb78-8becebaf5e253da1-01 outer:exit 2b-3a3cffa48461ac0e60ef9378d857d94e808adb78-c711e40bbd7e3248-01
2021-11-23T06:36:36.366Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:36.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-d83cc13c2df1bfd63adc02bd1efaa8982d5ae7a4-6957867468ac6d9e-01 outer:exit 2b-d83cc13c2df1bfd63adc02bd1efaa8982d5ae7a4-6b66d4bf5dd5f589-01
2021-11-23T06:36:36.371Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:36.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a76a5885d903fad815ef16e4064ebec5f8a1d59-89e67ec9ab1c2547-01 outer:exit 2b-4a76a5885d903fad815ef16e4064ebec5f8a1d59-bed4aa69e82031df-01
2021-11-23T06:36:36.377Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:36.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-dda2423550295bcc2bfdf1fc40bb31ea98b0bc7a-8045bca829ee70d3-01 outer:exit 2b-dda2423550295bcc2bfdf1fc40bb31ea98b0bc7a-e1c7b59bd87ddf4b-01
2021-11-23T06:36:36.387Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:36.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c3a78c06a4beb7fa191b66397e85744cba276eb-d84e370b21a7588d-01 outer:exit 2b-8c3a78c06a4beb7fa191b66397e85744cba276eb-0d28fc2aeb47c51b-01
2021-11-23T06:36:36.420Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:36.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1d9d614809c41d8b767bfafbe92ada7c1f8d5e0-7cee26d8804cbdb5-01 outer:exit 2b-f1d9d614809c41d8b767bfafbe92ada7c1f8d5e0-04fc320884243efb-01
2021-11-23T06:36:36.464Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:36.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-9128238b9695d2fbf069a09ca7ec7ed82665aba3-43c0c2e9667b143d-01 outer:exit 2b-9128238b9695d2fbf069a09ca7ec7ed82665aba3-2f85fa2f5227f2fe-01
2021-11-23T06:36:36.471Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:36.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-67b67181226bf299efa5d5218e6a62d0ce611d24-c0044eba1561a10e-01 outer:exit 2b-67b67181226bf299efa5d5218e6a62d0ce611d24-4811d28239389be8-01
2021-11-23T06:36:36.474Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:36.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c3eee1be7e96b1ab7a842aa2d0fd605134151e9-9ac910b108a4076a-01 outer:exit 2b-9c3eee1be7e96b1ab7a842aa2d0fd605134151e9-7abd1cd53f604a24-01
2021-11-23T06:36:36.480Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:36.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-311920c3cc2a80672ad8a243cc1d2de37c8a5eac-b20c526c78dc6ddf-01 outer:exit 2b-311920c3cc2a80672ad8a243cc1d2de37c8a5eac-e4642701d8d75a18-01
2021-11-23T06:36:36.482Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:36.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef9db48796cf6d09b4a730143b17ad372279c188-3f9c6dc669413498-01 outer:exit 2b-ef9db48796cf6d09b4a730143b17ad372279c188-af0e14cd89b396f8-01
2021-11-23T06:36:36.485Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:36.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-046de75a65261845df9ad51bb8e763948ac5f73f-717290e3f196c570-01 outer:exit 2b-046de75a65261845df9ad51bb8e763948ac5f73f-db38b3ab71f58992-01
2021-11-23T06:36:36.488Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:36.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-165a84a1d06d621ba1c8a731a1970751bf914c26-1861cbcb2f25f255-01 outer:exit 2b-165a84a1d06d621ba1c8a731a1970751bf914c26-913314b0d90e1fe9-01
2021-11-23T06:36:36.491Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:36.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-e736d09701eca79b2c357a6d857db7926893278a-44de8ae4f90aaeb3-01 outer:exit 2b-e736d09701eca79b2c357a6d857db7926893278a-0561fa143dcaccd0-01
2021-11-23T06:36:36.493Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:36.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac035c230ea5a2a3412a669f699733e9f235adcc-09abba182407b088-01 outer:exit 2b-ac035c230ea5a2a3412a669f699733e9f235adcc-e0d8822597339d4a-01
2021-11-23T06:36:36.497Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:36.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a47d170737462b44466e020125337bf6700359c-9e2f2f1edb68e302-01 outer:exit 2b-9a47d170737462b44466e020125337bf6700359c-c96612282f6da75c-01
2021-11-23T06:36:36.500Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:36.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-9294cca2c629c667b9c31328b82d2958942f730d-a8389d8a6354a772-01 outer:exit 2b-9294cca2c629c667b9c31328b82d2958942f730d-2e82224e7f805473-01
2021-11-23T06:36:36.503Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:36.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-42c4fe1bd01ec39b3472a508049959152702d08d-ee99ea15f1ac8223-01 outer:exit 2b-42c4fe1bd01ec39b3472a508049959152702d08d-ac479572017230f1-01
2021-11-23T06:36:36.505Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:36.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d7ecc7505394473efaf4debf2fb9411edcca22a-510d0540928375da-01 outer:exit 2b-5d7ecc7505394473efaf4debf2fb9411edcca22a-e4292403c63c5105-01
2021-11-23T06:36:36.512Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:36.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-207de3403b2c972b57568af9aa9d1eab700d5611-0d5fd8c212beb6f7-01 outer:exit 2b-207de3403b2c972b57568af9aa9d1eab700d5611-c9166a4d505dd0e0-01
2021-11-23T06:36:36.517Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:36.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-651d8ba9caaafcbcf6a0bbd762dde16f71667ef5-d4b30959b4b3a01e-01 outer:exit 2b-651d8ba9caaafcbcf6a0bbd762dde16f71667ef5-e48a36fa6e51369e-01
2021-11-23T06:36:36.527Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:36.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-beffcdcab733b9d4159d87b755b96d37fb4394f0-0a58b8e6fedcb85c-01 outer:exit 2b-beffcdcab733b9d4159d87b755b96d37fb4394f0-7da88af95d7c2943-01
2021-11-23T06:36:36.537Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:36.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-afedf7cd0c93f22b7889b0725f64b205e79733cf-e0fc3fb1f68586b9-01 outer:exit 2b-afedf7cd0c93f22b7889b0725f64b205e79733cf-95902b7c5ac07b2b-01
2021-11-23T06:36:36.540Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:36.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-6114915b7074badc915db689c0b09a467f0c07a0-dce82930dd3db750-01 outer:exit 2b-6114915b7074badc915db689c0b09a467f0c07a0-77e2dffa61dec402-01
2021-11-23T06:36:36.545Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:36.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ca571cefe621bc1fbf16585e425d3de23db66c5-6eba3dc4b4137345-01 outer:exit 2b-5ca571cefe621bc1fbf16585e425d3de23db66c5-b565cf3baf696c7f-01
2021-11-23T06:36:36.552Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:36.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-80529c340c9c2aa405ceae748425a38770490f4e-af78a43481755902-01 outer:exit 2b-80529c340c9c2aa405ceae748425a38770490f4e-022c032b19532581-01
2021-11-23T06:36:36.555Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:36.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bc906a88fa2690f8a30ab55e157c99f57931f7e-df28af69077bc605-01 outer:exit 2b-2bc906a88fa2690f8a30ab55e157c99f57931f7e-99f36a0c4c4c1094-01
2021-11-23T06:36:36.558Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:36.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-4509e341414a9cf085c3e19eb9b5f94fe13cafac-0a7d6a587fad7f92-01 outer:exit 2b-4509e341414a9cf085c3e19eb9b5f94fe13cafac-d3cb80e16ab9ebfa-01
2021-11-23T06:36:36.561Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:36.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7a4998b676276984476856b1bfef11655d69ae5-42b61c1f8d80943d-01 outer:exit 2b-c7a4998b676276984476856b1bfef11655d69ae5-d5d0cd321a47a6d3-01
2021-11-23T06:36:36.563Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:36.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-3daf145d58e1fff4a516542d4823fec6e1d144ea-cafcc46e650bd1c0-01 outer:exit 2b-3daf145d58e1fff4a516542d4823fec6e1d144ea-e293b4668be93998-01
2021-11-23T06:36:36.566Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:36.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-386cbdb94bf430403dbb1b23ba614c0acc6d01bf-cd88ed2385c0c68e-01 outer:exit 2b-386cbdb94bf430403dbb1b23ba614c0acc6d01bf-44daa47e40dd86d7-01
2021-11-23T06:36:36.584Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:36.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-af992510cf4cb484c218e41f6523d54e6b9d0bdd-810b05de1be0e023-01 outer:exit 2b-af992510cf4cb484c218e41f6523d54e6b9d0bdd-9843bcec8dd5ed61-01
2021-11-23T06:36:36.595Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:36.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b8c33c2d32010d5d3d525c56789088993b600de-7a96e4c9d4695168-01 outer:exit 2b-6b8c33c2d32010d5d3d525c56789088993b600de-6f0ae2e37eb3e250-01
2021-11-23T06:36:36.598Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:36.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-5027c3e774f57cd738fa2ac27e3a9ff3ee961443-b743105856b2e8f4-01 outer:exit 2b-5027c3e774f57cd738fa2ac27e3a9ff3ee961443-a969ff1b7a55e5e1-01
2021-11-23T06:36:36.602Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:36.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-907f6b16a0d9d77b7b7db92c2b30dd0af0506dc2-210fcdb15204339c-01 outer:exit 2b-907f6b16a0d9d77b7b7db92c2b30dd0af0506dc2-df4f6b93710755ae-01
2021-11-23T06:36:36.605Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:36.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-98954f16a3aba593f8bd16bb67cb6172753bc662-d13ea2f2f119eb50-01 outer:exit 2b-98954f16a3aba593f8bd16bb67cb6172753bc662-1988f5431a505b52-01
2021-11-23T06:36:36.638Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (441ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:44.743Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:44.744Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:44.744Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:44.745Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:44.809Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:44.980Z appoptics:patching patched crypto 
2021-11-23T06:36:45.000Z appoptics:patching patched https 
2021-11-23T06:36:45.001Z appoptics:patching patched http 
2021-11-23T06:36:45.062Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:45.063Z appoptics:patching patched fs 
2021-11-23T06:36:45.080Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v17.1.0)
2021-11-23T06:36:45.088Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2021-11-23T06:36:45.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-1abdd6258da31df2fb99de46fe7450f027e882d7-b03e3dec72373b6f-01 outer:exit 2b-1abdd6258da31df2fb99de46fe7450f027e882d7-e8993313b53da195-01
2021-11-23T06:36:45.154Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:45.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-19e84099c28d5b11857bdb35394e3235ba9c1c59-7287ead72a3f53a3-01 outer:exit 2b-19e84099c28d5b11857bdb35394e3235ba9c1c59-ea6d52705e55d368-01
2021-11-23T06:36:45.216Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:45.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-540d231eb4961c3a2bca5c926e17710d5948ac78-f7923b22ad90e24c-01 outer:exit 2b-540d231eb4961c3a2bca5c926e17710d5948ac78-622a5ce6ba606096-01
2021-11-23T06:36:45.221Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:45.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-179544feb877be2965fd1e9fb2b232b539ee30df-70b18c0ca687d194-01 outer:exit 2b-179544feb877be2965fd1e9fb2b232b539ee30df-c953b837ab5fd498-01
2021-11-23T06:36:45.227Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:45.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-a68c33a6458a1daacab99c390b225267e43a085f-5fdeaef540329fd4-01 outer:exit 2b-a68c33a6458a1daacab99c390b225267e43a085f-e9302a9501cbb49e-01
2021-11-23T06:36:45.238Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:45.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-9776284bae22805e54afcfa00ab25e7f8f643b2e-8a89126c319e1001-01 outer:exit 2b-9776284bae22805e54afcfa00ab25e7f8f643b2e-b1f08286f89f3ccf-01
2021-11-23T06:36:45.243Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:45.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee925fce751c1383adff572fee4ed5c041e784be-40f0375d4b3e02ae-01 outer:exit 2b-ee925fce751c1383adff572fee4ed5c041e784be-fb84995241f98f4b-01
2021-11-23T06:36:45.247Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:45.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9faa721025e46fdb2006e18c8ae9252788c3e9f-41752b14ea06f63c-01 outer:exit 2b-f9faa721025e46fdb2006e18c8ae9252788c3e9f-f5ed0224591e58d1-01
2021-11-23T06:36:45.250Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:45.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-b12c37ee23df473c9fd5ac681d3577753888903a-81ed02ab10a9faa6-01 outer:exit 2b-b12c37ee23df473c9fd5ac681d3577753888903a-812884110cfb4028-01
2021-11-23T06:36:45.253Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:45.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4af13b23264b046d2d5ec09f0f90d97f408bc2f-f1520abed483fe3a-01 outer:exit 2b-a4af13b23264b046d2d5ec09f0f90d97f408bc2f-879cb1a1533f7c0d-01
2021-11-23T06:36:45.257Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:45.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdf864360e767e8da00a9e6285a02bc86ff8bcec-43b1aeaf89fc29a8-01 outer:exit 2b-fdf864360e767e8da00a9e6285a02bc86ff8bcec-4e4c58600ed61baf-01
2021-11-23T06:36:45.262Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:45.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-756f51a7e1c37a9afd545b22abf8d8782ad66628-f99ddbbef676cfdd-01 outer:exit 2b-756f51a7e1c37a9afd545b22abf8d8782ad66628-fde7491fa20f3133-01
2021-11-23T06:36:45.270Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:45.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f0f234d1a8bf6c68609e0d4415f4b0a4ddade7f-293c94ab5685f972-01 outer:exit 2b-6f0f234d1a8bf6c68609e0d4415f4b0a4ddade7f-7395101a728f3f54-01
2021-11-23T06:36:45.287Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:45.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-de87cde67f28be664937b5a32b0130ea7f079034-966cf1756f956c80-01 outer:exit 2b-de87cde67f28be664937b5a32b0130ea7f079034-37e2b4b5729ef87d-01
2021-11-23T06:36:45.349Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:45.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-6156521096331f038d5c63ef7f03ce3a746c2436-e947e9775eaea0f2-01 outer:exit 2b-6156521096331f038d5c63ef7f03ce3a746c2436-98474ed67a66ca56-01
2021-11-23T06:36:45.353Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:45.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-70a09cba01de78d59c8e81cd9ff6bfaf58cf497d-a465279b85531d5c-01 outer:exit 2b-70a09cba01de78d59c8e81cd9ff6bfaf58cf497d-dd2f36e84c8f759f-01
2021-11-23T06:36:45.356Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:45.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-b189062d993fb11e4525410bb607842b121a575b-4a36dfd13b151d1a-01 outer:exit 2b-b189062d993fb11e4525410bb607842b121a575b-1ed2feeca77803b9-01
2021-11-23T06:36:45.359Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:45.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-5308a4c0e1710a61fcf27e0e0ad816593e90a029-5e483736dd394dad-01 outer:exit 2b-5308a4c0e1710a61fcf27e0e0ad816593e90a029-669aa823fa98b0c2-01
2021-11-23T06:36:45.362Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:45.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4015e58d7a5db9389771584e2ab94e27f2430e6-c0e1e46314237ac1-01 outer:exit 2b-f4015e58d7a5db9389771584e2ab94e27f2430e6-dae3189476416e79-01
2021-11-23T06:36:45.365Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:45.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-f448a1814bfcb5b33925e3b123aacc84994d2126-669aef266f9d5316-01 outer:exit 2b-f448a1814bfcb5b33925e3b123aacc84994d2126-4046a52ca5ca5613-01
2021-11-23T06:36:45.368Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:45.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-905acd809579e56de4c85ceb131b13aa1f83a6ae-dd3408373961e0eb-01 outer:exit 2b-905acd809579e56de4c85ceb131b13aa1f83a6ae-377453ae590da427-01
2021-11-23T06:36:45.370Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:45.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e5267282adb93b6b793cf3f5a6b3abcf0082998-f22064169627d494-01 outer:exit 2b-7e5267282adb93b6b793cf3f5a6b3abcf0082998-335c222025c5bdaf-01
2021-11-23T06:36:45.373Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:45.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-911384e7c12dfcc9c4df198d9ae9c9ecb3a43517-51a8c56fbe9f93a9-01 outer:exit 2b-911384e7c12dfcc9c4df198d9ae9c9ecb3a43517-65f857bf00c6e467-01
2021-11-23T06:36:45.376Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:45.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-62202316eb2ab0b5b39324e43d35aafec941b708-676f003fa0fc9b05-01 outer:exit 2b-62202316eb2ab0b5b39324e43d35aafec941b708-1da8bb552488d736-01
2021-11-23T06:36:45.380Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:45.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c8ed1c481fe34d2f5e73e725cdf309988a7c9e0-71cd3422f0d74379-01 outer:exit 2b-5c8ed1c481fe34d2f5e73e725cdf309988a7c9e0-c027f30b9c7cb1a6-01
2021-11-23T06:36:45.383Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:45.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b7523c92ffa0a3c0a350b29c41a0672a12727db-d31d2c60a39f7a71-01 outer:exit 2b-7b7523c92ffa0a3c0a350b29c41a0672a12727db-d19167e1cf887e19-01
2021-11-23T06:36:45.386Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:45.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-636374226b5d827789277791eb233dfbe2fdc826-ecbcc935c08a683c-01 outer:exit 2b-636374226b5d827789277791eb233dfbe2fdc826-438fffc891289387-01
2021-11-23T06:36:45.393Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:45.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-de1a54e6ecbc2815a2a81c98f0988c53e0d9cf97-e4284b5a8c0fa9e7-01 outer:exit 2b-de1a54e6ecbc2815a2a81c98f0988c53e0d9cf97-dbad1db22391e667-01
2021-11-23T06:36:45.398Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:45.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-93b179302d0b43b62eb493c5e123d0e7debece71-4d833b29ef14eb0f-01 outer:exit 2b-93b179302d0b43b62eb493c5e123d0e7debece71-acc92ce7f4e9b4ea-01
2021-11-23T06:36:45.408Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:45.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9b283c1e2b0c5812f00db327344f47c56946b27-57a1317cc6482d33-01 outer:exit 2b-f9b283c1e2b0c5812f00db327344f47c56946b27-d569839e06736f82-01
2021-11-23T06:36:45.418Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:45.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-9422ae878a4ed1fc5706d9574b75c6534a2e50b9-54d7efe35bc306b5-01 outer:exit 2b-9422ae878a4ed1fc5706d9574b75c6534a2e50b9-851d5e6f8c3c6710-01
2021-11-23T06:36:45.420Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:45.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-1be53b0958aea48c374866b6271f185a1f1573b0-fab961f67cdc07c4-01 outer:exit 2b-1be53b0958aea48c374866b6271f185a1f1573b0-1abdf1213ff0d508-01
2021-11-23T06:36:45.432Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:45.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-461e36b93bc7be55e572e6c0e58cf68a12cbb49b-293324a5ea9fb06b-01 outer:exit 2b-461e36b93bc7be55e572e6c0e58cf68a12cbb49b-939f334ab886438b-01
2021-11-23T06:36:45.441Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:45.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfe1e931ca56f6db0b79a15b418363fefdc24225-9905aa3f43c86656-01 outer:exit 2b-bfe1e931ca56f6db0b79a15b418363fefdc24225-abd940c140481c47-01
2021-11-23T06:36:45.444Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:45.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-cabcd616ff1ed30d7d354fcb17823f4bbb21aec8-6dcbc79b1114195f-01 outer:exit 2b-cabcd616ff1ed30d7d354fcb17823f4bbb21aec8-a1e99c257b2f33d8-01
2021-11-23T06:36:45.447Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:45.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea36b4848b0ec245f0d2c6379a945153b13509d2-5bd48a1d0bb0b26c-01 outer:exit 2b-ea36b4848b0ec245f0d2c6379a945153b13509d2-e07a1d1b3692d909-01
2021-11-23T06:36:45.449Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:45.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-41812d25eeaea812c25819349641b76bf03e1fb9-870b8cce6017dc2f-01 outer:exit 2b-41812d25eeaea812c25819349641b76bf03e1fb9-2248a0123f1a732b-01
2021-11-23T06:36:45.451Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:45.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b0d4769dde2b2b52a0d8ddec5db24474a5b01e0-e38fda25ed2dc446-01 outer:exit 2b-2b0d4769dde2b2b52a0d8ddec5db24474a5b01e0-9bd33ceb5a182f5b-01
2021-11-23T06:36:45.454Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:45.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-ece3efe97377eee1d6fe98bcb3a00342cefb7908-f6200f4561bd44d9-01 outer:exit 2b-ece3efe97377eee1d6fe98bcb3a00342cefb7908-5220f555fec093fb-01
2021-11-23T06:36:45.465Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:45.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-3aed0a739c6c36a24ac3fc3a2e0f9f2750d02ca1-92f7f18cc5f6fa39-01 outer:exit 2b-3aed0a739c6c36a24ac3fc3a2e0f9f2750d02ca1-a433fb9d89e9db44-01
2021-11-23T06:36:45.475Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:45.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-586c9d6e7e759c0c337d22a265d0d15bf78bd5cc-cd7b2312752b7109-01 outer:exit 2b-586c9d6e7e759c0c337d22a265d0d15bf78bd5cc-95cb13a5ead847ee-01
2021-11-23T06:36:45.478Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:45.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1a75ba30339f397622de186069efd9d88ac4517-7f1a7dca7b969144-01 outer:exit 2b-d1a75ba30339f397622de186069efd9d88ac4517-37c0b0a3d44721b9-01
2021-11-23T06:36:45.481Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:45.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea8f33261fbb4cfbb5728622e1ce5afced8a902d-6157fd23eeebcafc-01 outer:exit 2b-ea8f33261fbb4cfbb5728622e1ce5afced8a902d-cbfad92d78e8f085-01
2021-11-23T06:36:45.487Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:45.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5640ac6067c4d910a9e260517f7655ca877dac7-abf4a1e306c4ed38-01 outer:exit 2b-d5640ac6067c4d910a9e260517f7655ca877dac7-78cda5bf714dbd89-01
2021-11-23T06:36:45.520Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (425ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:52.771Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:52.772Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:52.772Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:52.773Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:52.845Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:53.038Z appoptics:patching patched crypto 
2021-11-23T06:36:53.065Z appoptics:patching patched https 
2021-11-23T06:36:53.065Z appoptics:patching patched http 
2021-11-23T06:36:53.145Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:53.145Z appoptics:patching patched fs 
2021-11-23T06:36:53.163Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v17.1.0)
2021-11-23T06:36:53.172Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2021-11-23T06:36:53.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b6d6cfd5922d64dfa14f85c7c412ed5d6dd4c4b-b070b1e55f1bad97-01 outer:exit 2b-1b6d6cfd5922d64dfa14f85c7c412ed5d6dd4c4b-24bb2b4f54bc8625-01
2021-11-23T06:36:53.247Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:53.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-48d3d45bc7019835e927f88d27e6d945a68134b8-62dae171c7813b6e-01 outer:exit 2b-48d3d45bc7019835e927f88d27e6d945a68134b8-443a7d1e65092fe1-01
2021-11-23T06:36:53.312Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:53.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9901b6cc86dbc6f3a16347eff73d6eee29b50a6-1a1c774b2f5c7ed7-01 outer:exit 2b-d9901b6cc86dbc6f3a16347eff73d6eee29b50a6-3259e2fd9c105ab7-01
2021-11-23T06:36:53.317Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:53.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-87987b250eb6a74fd9c3fb9cda7ec06cc217a114-28b67971f302df95-01 outer:exit 2b-87987b250eb6a74fd9c3fb9cda7ec06cc217a114-9910f3dc67290d40-01
2021-11-23T06:36:53.321Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:53.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-849cd31726638ca937a86bca1886faac8e95f384-d6efc652858dff0a-01 outer:exit 2b-849cd31726638ca937a86bca1886faac8e95f384-93dc46ecfa2de7fc-01
2021-11-23T06:36:53.330Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:53.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b869af3766e3bdd9c39190397a82f33aa3560ad-e62a5bcb7db38a04-01 outer:exit 2b-5b869af3766e3bdd9c39190397a82f33aa3560ad-ba3c6f27551b8b24-01
2021-11-23T06:36:53.334Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:53.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e8d8b3cc531f372aea94f1a17fcb44b2733e88e-f6483aeeb5d4a7dd-01 outer:exit 2b-9e8d8b3cc531f372aea94f1a17fcb44b2733e88e-c07eb6b95bb063b2-01
2021-11-23T06:36:53.339Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:53.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-0151763aaa28fa2beb87c10c4cef6df182f72984-63394d35aef62c6a-01 outer:exit 2b-0151763aaa28fa2beb87c10c4cef6df182f72984-dfaa1750971efc7c-01
2021-11-23T06:36:53.347Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:53.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0443e143d599a92109108d29c14a034e9023869-b96925667ce1d32d-01 outer:exit 2b-f0443e143d599a92109108d29c14a034e9023869-be6cee37d0d99955-01
2021-11-23T06:36:53.350Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:53.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5a4da990e02d377313db62f8b7b622bc5abcabc-331cde5df526452d-01 outer:exit 2b-f5a4da990e02d377313db62f8b7b622bc5abcabc-a2f3341a8855761e-01
2021-11-23T06:36:53.354Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:53.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-430322d67739083f0042c6bc23c01d2458ddfcd7-0e9d0470a00613a1-01 outer:exit 2b-430322d67739083f0042c6bc23c01d2458ddfcd7-4503a4f3d16326a4-01
2021-11-23T06:36:53.360Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:53.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3e83cbbde329b3de1c2f1ea65b2b2439002873b-73d98f35407321e7-01 outer:exit 2b-d3e83cbbde329b3de1c2f1ea65b2b2439002873b-e714ed393429c213-01
2021-11-23T06:36:53.367Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:53.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-526c751dbbf02721eb732f69723bdc57e7f48952-fc06a31f133eeb82-01 outer:exit 2b-526c751dbbf02721eb732f69723bdc57e7f48952-7c5d2d6e7af31e9d-01
2021-11-23T06:36:53.391Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:53.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0fd0dcb2f95722bc1ccabcf65e918a82883ebe4-d114e0a1082c356b-01 outer:exit 2b-e0fd0dcb2f95722bc1ccabcf65e918a82883ebe4-6232a842ec1734c2-01
2021-11-23T06:36:53.454Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:53.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-99230582b4ce5d336119d8c0546a6a99af5443f2-66852bb9c1af5875-01 outer:exit 2b-99230582b4ce5d336119d8c0546a6a99af5443f2-aa1b2c93f978234a-01
2021-11-23T06:36:53.458Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:53.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5d28b92ae60b24b49eff0a31fe57b4a7eb727d3-43969773b069b852-01 outer:exit 2b-d5d28b92ae60b24b49eff0a31fe57b4a7eb727d3-be6a75eb8d059e7d-01
2021-11-23T06:36:53.460Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:53.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-fea3d97e8ac4e8410050fc0e65d3be1320c377a6-f58d98aa8c60a03b-01 outer:exit 2b-fea3d97e8ac4e8410050fc0e65d3be1320c377a6-bd97ca3d190a2df7-01
2021-11-23T06:36:53.468Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:53.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-37771370c8a654c1cdadb294fa737d1b466802f0-93584ae125bb3e95-01 outer:exit 2b-37771370c8a654c1cdadb294fa737d1b466802f0-dd4274195934595e-01
2021-11-23T06:36:53.471Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:53.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c7a321aa3b8582688d8c3bedfff168300bfc870-426c6015d8a96426-01 outer:exit 2b-1c7a321aa3b8582688d8c3bedfff168300bfc870-0d1485f6573f3ca0-01
2021-11-23T06:36:53.473Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:53.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cd91656dd27e1d0ed9d4c0c36e8cdbeb9317e73-71afd482869b5c6e-01 outer:exit 2b-6cd91656dd27e1d0ed9d4c0c36e8cdbeb9317e73-05aa9f2c1fdd1e26-01
2021-11-23T06:36:53.476Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:53.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-49cea3199c5d5cf20758fc670aa09c6a5c7feee6-7f624b4866478143-01 outer:exit 2b-49cea3199c5d5cf20758fc670aa09c6a5c7feee6-889a5ce4ef37a4cc-01
2021-11-23T06:36:53.481Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:53.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5d9eb90eca0f73c9f64924a5111ac8001263075-bd53d318758fb848-01 outer:exit 2b-f5d9eb90eca0f73c9f64924a5111ac8001263075-9a1ef7db6f7bb86d-01
2021-11-23T06:36:53.484Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:53.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-f40fb5e051c09b2f2f220e5feb62432ad2c27c00-a39301c7f1befbf1-01 outer:exit 2b-f40fb5e051c09b2f2f220e5feb62432ad2c27c00-afb83f431046a0f6-01
2021-11-23T06:36:53.491Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:53.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-52b18a71f11a59de44e0fc246b4f511134b491ca-c1e898bea4071646-01 outer:exit 2b-52b18a71f11a59de44e0fc246b4f511134b491ca-703d7067e9f9888b-01
2021-11-23T06:36:53.494Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:53.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-246df7fe92a0527f2a697c5bfa5b4808257e8ca4-36a9e2114ef3f6c8-01 outer:exit 2b-246df7fe92a0527f2a697c5bfa5b4808257e8ca4-e38ab2ab778d3589-01
2021-11-23T06:36:53.499Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:53.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-e58deb2d0cb475973e0f7bc75a4322a402fc464c-3d0a241e5037a853-01 outer:exit 2b-e58deb2d0cb475973e0f7bc75a4322a402fc464c-9c2ac8cddbfa62d0-01
2021-11-23T06:36:53.502Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:53.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-72a356922907039500698ebfb50db8bcb2d539df-39a4148906d7769f-01 outer:exit 2b-72a356922907039500698ebfb50db8bcb2d539df-40a50c1d3ed2f206-01
2021-11-23T06:36:53.513Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:53.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e0de35d59f9983df9d4accd5cb4436ec8f7421a-46f62f71cf132d69-01 outer:exit 2b-4e0de35d59f9983df9d4accd5cb4436ec8f7421a-196f63a58717c2aa-01
2021-11-23T06:36:53.518Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:53.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-f13b1647f6a8683234e8787f52bb336d70ba2eec-79f0c3dbfd350718-01 outer:exit 2b-f13b1647f6a8683234e8787f52bb336d70ba2eec-ea1e64055cc3ebad-01
2021-11-23T06:36:53.529Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:53.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf3b3a007e14eea746b3331d0532b27ecd32c9ba-b2dec9c13013ee35-01 outer:exit 2b-bf3b3a007e14eea746b3331d0532b27ecd32c9ba-3685ef9881561ffc-01
2021-11-23T06:36:53.537Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:53.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b1ad50feb5c9a4070a67cd80f288558d6616496-7d0856ca7072e310-01 outer:exit 2b-1b1ad50feb5c9a4070a67cd80f288558d6616496-fdbc306b4d39c0f1-01
2021-11-23T06:36:53.540Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:53.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4621ad04c9ae982c57692686b7e2fa75e0cca8b-f75cb632472c98e0-01 outer:exit 2b-e4621ad04c9ae982c57692686b7e2fa75e0cca8b-808f690bcca42361-01
2021-11-23T06:36:53.544Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:53.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a7d8a0439a58136f06f4b1ffa496afabbba8e4e-6ff028f6620ee8a4-01 outer:exit 2b-9a7d8a0439a58136f06f4b1ffa496afabbba8e4e-93badd27715e6b03-01
2021-11-23T06:36:53.553Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:53.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f27888ba3fedf077f2464972f393f6921bc7643-9edf03078a6fcb5c-01 outer:exit 2b-7f27888ba3fedf077f2464972f393f6921bc7643-c0ce2dff889d9f0c-01
2021-11-23T06:36:53.556Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:53.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef03b3c9192a874d8d6f81c6b05f9195a75d45f4-d18865b46c46236e-01 outer:exit 2b-ef03b3c9192a874d8d6f81c6b05f9195a75d45f4-3eaa6255268753c6-01
2021-11-23T06:36:53.559Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:53.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b31c9c69eca3bcf72b4fd1b78b9618b1fb4684f-84adf75e3d8e2e77-01 outer:exit 2b-0b31c9c69eca3bcf72b4fd1b78b9618b1fb4684f-3b60a641b9ffe8dc-01
2021-11-23T06:36:53.562Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:53.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cd4172d7246e141be53de559df84d8d40da9c2f-81896186f8d471bc-01 outer:exit 2b-5cd4172d7246e141be53de559df84d8d40da9c2f-a33b3022ebbab3b7-01
2021-11-23T06:36:53.566Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:53.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbb9648608ea040ff66e9c6ca68f18d4c9e18db2-2cb72894a7eb424d-01 outer:exit 2b-bbb9648608ea040ff66e9c6ca68f18d4c9e18db2-f35d03162d81ba6f-01
2021-11-23T06:36:53.568Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:53.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-4079362463b09f3a9541e2bc9243e61ec3c1672e-38aad894b42c9632-01 outer:exit 2b-4079362463b09f3a9541e2bc9243e61ec3c1672e-4a36fdfe63ad8938-01
2021-11-23T06:36:53.587Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:53.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0ce901aa14fcfa00977c230bb22d2cf0ae411fe-eed3ed40ab2b8af2-01 outer:exit 2b-a0ce901aa14fcfa00977c230bb22d2cf0ae411fe-ae9a1bad2151b4f0-01
2021-11-23T06:36:53.597Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:53.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9595b70640b07fbf56b56e461ba511a8f4be2c8-587d13471e0b59ea-01 outer:exit 2b-a9595b70640b07fbf56b56e461ba511a8f4be2c8-6c4ffb03b499943d-01
2021-11-23T06:36:53.601Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:53.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-8643ffd534ddb5a0ee4c8bf4f2cedbff740b3d07-05a9315c45e65d9d-01 outer:exit 2b-8643ffd534ddb5a0ee4c8bf4f2cedbff740b3d07-2ea429dccd0e2fdc-01
2021-11-23T06:36:53.604Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:53.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1c1beec2c3a37ab0f8fd27c5d7405643be3d1d0-e8e70a3b938ea589-01 outer:exit 2b-d1c1beec2c3a37ab0f8fd27c5d7405643be3d1d0-a0c701faa69d065d-01
2021-11-23T06:36:53.609Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:53.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f56f0664b734d7cb22bd62699cc164addec1aed-2e818c3531fcf7a8-01 outer:exit 2b-0f56f0664b734d7cb22bd62699cc164addec1aed-c12116d9266ffd92-01
2021-11-23T06:36:53.645Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (463ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:01.458Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:01.459Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:01.459Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:01.460Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:01.527Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:01.688Z appoptics:patching patched crypto 
2021-11-23T06:37:01.708Z appoptics:patching patched https 
2021-11-23T06:37:01.709Z appoptics:patching patched http 
2021-11-23T06:37:01.775Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:01.776Z appoptics:patching patched fs 
2021-11-23T06:37:01.801Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v17.1.0)
2021-11-23T06:37:01.814Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2021-11-23T06:37:01.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-59d0cd1e635194a47e35d7df10b3685633116fe7-3adc01b571b8d558-01 outer:exit 2b-59d0cd1e635194a47e35d7df10b3685633116fe7-a514427b9983211c-01
2021-11-23T06:37:01.889Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:37:01.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-d27a5c2052ed4b2a64209eafad16027ce59ce21c-0fe7077a6a34ea8b-01 outer:exit 2b-d27a5c2052ed4b2a64209eafad16027ce59ce21c-b031ad29c2d61e0a-01
2021-11-23T06:37:01.948Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:37:01.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5f3b968e6dbcacfa8a1e09c1009d45c15a0426d-d11bda91092599e5-01 outer:exit 2b-d5f3b968e6dbcacfa8a1e09c1009d45c15a0426d-34aec03f962bc202-01
2021-11-23T06:37:01.952Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:37:01.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b6ed5428aa2501a268028efb5759e1d46100129-5a5921c8f86009f0-01 outer:exit 2b-9b6ed5428aa2501a268028efb5759e1d46100129-ac6ad9cf9cd0ff2c-01
2021-11-23T06:37:01.956Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:37:01.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-63795670bebdd907a3e783386a348ad035ea100c-56c3c124354ad8dc-01 outer:exit 2b-63795670bebdd907a3e783386a348ad035ea100c-5ca55a126d2e320a-01
2021-11-23T06:37:01.962Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:37:01.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf23f4d5b5282865c15e856b53d0584d94c16137-fa5817745be43de1-01 outer:exit 2b-cf23f4d5b5282865c15e856b53d0584d94c16137-1823f322a3a7741c-01
2021-11-23T06:37:01.966Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:37:01.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6c0e4e61d0cd3d7f2487be6238ef850a9413d27-c08d62a3e6841eea-01 outer:exit 2b-a6c0e4e61d0cd3d7f2487be6238ef850a9413d27-52d8785783d895d2-01
2021-11-23T06:37:01.971Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:37:01.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3332de3a70072262fb655bc15044fcd2c023c4a-2d4453c4b5d200bf-01 outer:exit 2b-d3332de3a70072262fb655bc15044fcd2c023c4a-9e62de6efd29741f-01
2021-11-23T06:37:01.975Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:37:01.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba6b1f24cf704d60738b51ad5285ddaa8b699e58-ec55c234aa07ee57-01 outer:exit 2b-ba6b1f24cf704d60738b51ad5285ddaa8b699e58-a034eeef62877a3c-01
2021-11-23T06:37:01.978Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:37:01.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-ead46b62013ace3ad724f88f459b94bdd1132388-2f9c1c24b045e88e-01 outer:exit 2b-ead46b62013ace3ad724f88f459b94bdd1132388-affec79cf9447843-01
2021-11-23T06:37:01.982Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:37:01.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-652f340b3f11bd7fca5de4b137bd2eb1c345ab0a-ca413c83e0a74f63-01 outer:exit 2b-652f340b3f11bd7fca5de4b137bd2eb1c345ab0a-aed324c739e3b59f-01
2021-11-23T06:37:01.987Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:37:01.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-d88ef829ce9d0d0a64875a48249074eaa5def4ed-88181ed767ed416f-01 outer:exit 2b-d88ef829ce9d0d0a64875a48249074eaa5def4ed-2052fb51ebc5f364-01
2021-11-23T06:37:01.994Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:37:02.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-27ae2ea4701fcd43fb0e04c20ac8129eafd5189b-f1181daded1afa95-01 outer:exit 2b-27ae2ea4701fcd43fb0e04c20ac8129eafd5189b-7e73a82409f0c178-01
2021-11-23T06:37:02.014Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:37:02.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-83b069ae097c772b686f6a90a01d63f797a84f8b-93a00be5b5967f78-01 outer:exit 2b-83b069ae097c772b686f6a90a01d63f797a84f8b-05d2820d04caa03e-01
2021-11-23T06:37:02.046Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:37:02.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-878917e10f3997f73c99be1530b0912c6bcfd584-56ef83563b31afb2-01 outer:exit 2b-878917e10f3997f73c99be1530b0912c6bcfd584-53dba0a82e0a9a11-01
2021-11-23T06:37:02.048Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:37:02.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-953f3d008fe6f1adc424f0398fcf748b809d709a-81247a7288ee889d-01 outer:exit 2b-953f3d008fe6f1adc424f0398fcf748b809d709a-3129645d0121ce9a-01
2021-11-23T06:37:02.051Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:37:02.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-7720a4cabd91c9064638354c14ff1c88852f23eb-bdecedd971f94eef-01 outer:exit 2b-7720a4cabd91c9064638354c14ff1c88852f23eb-79a62efcbb46d1f5-01
2021-11-23T06:37:02.054Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:37:02.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fab755396e1f1e0285258e375074216604e1a00-416da52267487e96-01 outer:exit 2b-8fab755396e1f1e0285258e375074216604e1a00-05062bd7b6da70bd-01
2021-11-23T06:37:02.057Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:37:02.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-08d8385daafd9f1e21e74867acf06b148c13cdd2-bdc9f9ce3feedf81-01 outer:exit 2b-08d8385daafd9f1e21e74867acf06b148c13cdd2-17999f2b3a2056a1-01
2021-11-23T06:37:02.060Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:37:02.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b2bd5e83a4b2980f7eb5c9ab226aa1ed58500b3-df31345597d7fee1-01 outer:exit 2b-6b2bd5e83a4b2980f7eb5c9ab226aa1ed58500b3-418ec2d206ecc2c8-01
2021-11-23T06:37:02.063Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:37:02.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe0d12ff6b598eaabc5995ba0cda2d639cf0ab9d-f4e2802e596ff336-01 outer:exit 2b-fe0d12ff6b598eaabc5995ba0cda2d639cf0ab9d-145014b3242982ad-01
2021-11-23T06:37:02.066Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:37:02.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-200d2346622c9e83760366ec2cc5e6d213021907-e86369292f5ec703-01 outer:exit 2b-200d2346622c9e83760366ec2cc5e6d213021907-f6797391a9d36269-01
2021-11-23T06:37:02.068Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:37:02.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd421c45d7d00bbcc2d60601415e2749a292e7dd-8f003102a169c229-01 outer:exit 2b-cd421c45d7d00bbcc2d60601415e2749a292e7dd-def2207f313e9478-01
2021-11-23T06:37:02.072Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:37:02.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fb2f342d10113297b9ed4a2dad30a57ab81deac-3d57cbace61f4850-01 outer:exit 2b-5fb2f342d10113297b9ed4a2dad30a57ab81deac-b54666db15f0dca5-01
2021-11-23T06:37:02.076Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:37:02.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-96b620d5852aed408cf2f053cdcd2b732cc6ac54-e87abacb59517774-01 outer:exit 2b-96b620d5852aed408cf2f053cdcd2b732cc6ac54-df0d6d3de4e51df0-01
2021-11-23T06:37:02.083Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:37:02.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-bad69422cb54406c1203d1109279192c8f472070-4cbeb75c2546ddd9-01 outer:exit 2b-bad69422cb54406c1203d1109279192c8f472070-39114fd55ceadb03-01
2021-11-23T06:37:02.086Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:37:02.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-06dd44cbdd787dba0fa3f90aaba82192d970e77e-52c824fa62fd237f-01 outer:exit 2b-06dd44cbdd787dba0fa3f90aaba82192d970e77e-3e241303f982c92d-01
2021-11-23T06:37:02.093Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:37:02.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-06e60f9c6af38064650335a7d7a740d186834e38-00361944f5b265cd-01 outer:exit 2b-06e60f9c6af38064650335a7d7a740d186834e38-2a552e8bf21188eb-01
2021-11-23T06:37:02.097Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:37:02.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6b3e3db184f32617ff650229b4bf009261f1b25-e60b0471c3074e89-01 outer:exit 2b-c6b3e3db184f32617ff650229b4bf009261f1b25-b4f02ad854c0eb81-01
2021-11-23T06:37:02.111Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:37:02.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8df810e6fa8969257ef92f97c893da0d1ad24ca-a846d15bc64bde04-01 outer:exit 2b-e8df810e6fa8969257ef92f97c893da0d1ad24ca-f7317aa2d6dffc68-01
2021-11-23T06:37:02.119Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:37:02.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fd2de6e88339e23a7f0d7a2401dfa647a049821-115fbf9b2eb67f28-01 outer:exit 2b-7fd2de6e88339e23a7f0d7a2401dfa647a049821-7aa11c8db84ff251-01
2021-11-23T06:37:02.121Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:37:02.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6641e5d3b7cd2575cc4779fb0cb8c1d4526feae-c7ab981c97f25258-01 outer:exit 2b-a6641e5d3b7cd2575cc4779fb0cb8c1d4526feae-ec766c63eb136907-01
2021-11-23T06:37:02.125Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:37:02.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-de0b20b73acf9b0d80054308fcd0d971cf87ced0-efeaf8171f79947b-01 outer:exit 2b-de0b20b73acf9b0d80054308fcd0d971cf87ced0-31abf1b46e380613-01
2021-11-23T06:37:02.133Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:37:02.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-2adece6311e45b0bad7c166fbd41fa6cab856f27-b2289ef127a51371-01 outer:exit 2b-2adece6311e45b0bad7c166fbd41fa6cab856f27-39665a5e355136b2-01
2021-11-23T06:37:02.135Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:37:02.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ea9b5fdb257932f62d7f9c5d9bef331a4d5944e-2511a51cc683dd44-01 outer:exit 2b-1ea9b5fdb257932f62d7f9c5d9bef331a4d5944e-f0b4d1f598d7fb44-01
2021-11-23T06:37:02.137Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:37:02.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-56cc6b94348c5a85070869c7e4339cae504c79ba-361f83f2d2119db9-01 outer:exit 2b-56cc6b94348c5a85070869c7e4339cae504c79ba-e4a93b6246bf1230-01
2021-11-23T06:37:02.140Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:37:02.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc584b8ba09c53ad30dcf36d641f2754c2a1cb62-51b47867f84043be-01 outer:exit 2b-bc584b8ba09c53ad30dcf36d641f2754c2a1cb62-63ea5cddbf02d976-01
2021-11-23T06:37:02.142Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:37:02.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e42d75395a72779ced6c2451f257cc7612fc35e-33df4dfe375a1a44-01 outer:exit 2b-9e42d75395a72779ced6c2451f257cc7612fc35e-0cea03d01a068fa2-01
2021-11-23T06:37:02.144Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:37:02.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-70004902d8f21add38a416f23d9a5e6e527bd254-a8ed1ec5e74e2b8f-01 outer:exit 2b-70004902d8f21add38a416f23d9a5e6e527bd254-574c9583ffd08f4f-01
2021-11-23T06:37:02.155Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:37:02.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-d434c31a5c98ba06dcc349f7b46766fdd2d42c93-74a85b7acc32da1f-01 outer:exit 2b-d434c31a5c98ba06dcc349f7b46766fdd2d42c93-36d0ad32ca30b70b-01
2021-11-23T06:37:02.166Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:37:02.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-1269f6601542b2078f33eb2183c898afa22c1896-820d69603c42d247-01 outer:exit 2b-1269f6601542b2078f33eb2183c898afa22c1896-aa688cb4a28ffbc8-01
2021-11-23T06:37:02.170Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:37:02.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-2180466e921ec26d862dfb52acca7a01425d264a-c3ae10dede797783-01 outer:exit 2b-2180466e921ec26d862dfb52acca7a01425d264a-a01d7cc59c494278-01
2021-11-23T06:37:02.173Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:37:02.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e542c0db7ce126ea44d274e08691f80e546f7e7-4989e3c412065c93-01 outer:exit 2b-4e542c0db7ce126ea44d274e08691f80e546f7e7-16679d293ac09fcb-01
2021-11-23T06:37:02.176Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:37:02.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-d59017010b0ea6926973f86075921c24df3850f5-6586b7f812ecbb19-01 outer:exit 2b-d59017010b0ea6926973f86075921c24df3850f5-f6e9795c93cc6c56-01
2021-11-23T06:37:02.208Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (382ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:10.177Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:10.178Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:10.178Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:10.179Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:10.263Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:10.443Z appoptics:patching patched crypto 
2021-11-23T06:37:10.466Z appoptics:patching patched https 
2021-11-23T06:37:10.467Z appoptics:patching patched http 
2021-11-23T06:37:10.550Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:10.552Z appoptics:patching patched fs 
2021-11-23T06:37:10.572Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v17.1.0)
2021-11-23T06:37:10.582Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2021-11-23T06:37:10.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0fdec6b6a08d6c13616b881e5bc9e8f1ca24dfb-bbb6c77bdd783037-01 outer:exit 2b-d0fdec6b6a08d6c13616b881e5bc9e8f1ca24dfb-991657f06d79371f-01
2021-11-23T06:37:10.653Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:37:10.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-d06816292318cbc4b9dd8c0e9bb95df57669d31d-35e5f177c288e141-01 outer:exit 2b-d06816292318cbc4b9dd8c0e9bb95df57669d31d-ce851913b027d16e-01
2021-11-23T06:37:10.709Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:37:10.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d88171e0a0e0971a7c4ec96ca2fc924df017335-3dad5d471fd3ffe1-01 outer:exit 2b-7d88171e0a0e0971a7c4ec96ca2fc924df017335-88bf31b743e198ec-01
2021-11-23T06:37:10.713Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:37:10.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-e027615d06473d6cf2dda2abe15b3590d33c9d09-a99565f724412b09-01 outer:exit 2b-e027615d06473d6cf2dda2abe15b3590d33c9d09-60ee5fdfc225090e-01
2021-11-23T06:37:10.718Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:37:10.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-299be867534e95d566e3d81c1fb887b9e1b82986-a7e50092eea41f96-01 outer:exit 2b-299be867534e95d566e3d81c1fb887b9e1b82986-3c64665d648b3d42-01
2021-11-23T06:37:10.724Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:37:10.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-f41939007b270074e9453ed2f94d8f839230c63f-eb79b9cb7fbe5005-01 outer:exit 2b-f41939007b270074e9453ed2f94d8f839230c63f-60cdf91d431c9c81-01
2021-11-23T06:37:10.729Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:37:10.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-150ef350f44fb1af03d1ba56cc6dee34e72f75c7-e1c96359c9fc2a9c-01 outer:exit 2b-150ef350f44fb1af03d1ba56cc6dee34e72f75c7-8ecfa4e6ff8f99b5-01
2021-11-23T06:37:10.732Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:37:10.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a2f696be504deacd029ad04d09d1d35fb9759d4-9bd4612028cf99e2-01 outer:exit 2b-2a2f696be504deacd029ad04d09d1d35fb9759d4-10313caec2d5296a-01
2021-11-23T06:37:10.736Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:37:10.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-df944f815c04040293e9fd36c4cc0a391a6d1011-3b3d3bdd879e14ca-01 outer:exit 2b-df944f815c04040293e9fd36c4cc0a391a6d1011-9b54d256b7ff81dc-01
2021-11-23T06:37:10.739Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:37:10.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-0058cc565eefe029f8cfa1ab59aa9ac9903a95c8-642d306cd7e9fdb4-01 outer:exit 2b-0058cc565eefe029f8cfa1ab59aa9ac9903a95c8-d1c33d290500e3b2-01
2021-11-23T06:37:10.744Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:37:10.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-8280591fddfd45f505d9cd6d0c2ed193ad9c181a-c8bc1d68229bb46c-01 outer:exit 2b-8280591fddfd45f505d9cd6d0c2ed193ad9c181a-d014b5fd4661b54f-01
2021-11-23T06:37:10.749Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:37:10.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-555cec5e3dd12a906502f184b3e3ea24f0416c52-bc09dcc6a1c581da-01 outer:exit 2b-555cec5e3dd12a906502f184b3e3ea24f0416c52-3761bbd085dc5e5f-01
2021-11-23T06:37:10.757Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:37:10.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-0826238ecf1b909438700ac55b24a5fafec3e2ce-10a5cc40b94f80f4-01 outer:exit 2b-0826238ecf1b909438700ac55b24a5fafec3e2ce-d5f225db78138956-01
2021-11-23T06:37:10.783Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:37:10.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-52100da82679d39afb398088a6711af57f88ad5a-e7c5b5c9767ff9c4-01 outer:exit 2b-52100da82679d39afb398088a6711af57f88ad5a-736e21587d5a10b5-01
2021-11-23T06:37:10.844Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:37:10.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-058892b97440e531d437da0ddd1b6f51f0f1ee4b-4091eb3e2c96a52c-01 outer:exit 2b-058892b97440e531d437da0ddd1b6f51f0f1ee4b-5b9df31a4b995aaa-01
2021-11-23T06:37:10.847Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:37:10.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-4496d6ad3fdf6017f473cf81c7b7c2dbc790560c-1f3c965dbf017875-01 outer:exit 2b-4496d6ad3fdf6017f473cf81c7b7c2dbc790560c-4afe72e38d4abeeb-01
2021-11-23T06:37:10.850Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:37:10.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-24d32353fd7573cdc2adac5351c02abf0cf5fd5b-45401668f405e8cc-01 outer:exit 2b-24d32353fd7573cdc2adac5351c02abf0cf5fd5b-0bf1fe4f21f5d38a-01
2021-11-23T06:37:10.854Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:37:10.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-91f5e3927e2aa8ba4c8fc7a29edb124fbb9350c9-f8fa901e8e63384d-01 outer:exit 2b-91f5e3927e2aa8ba4c8fc7a29edb124fbb9350c9-3c53187586a1585d-01
2021-11-23T06:37:10.856Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:37:10.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-6edc840fedebabed93baa53a13cc67274dbea070-db5783d912a912a8-01 outer:exit 2b-6edc840fedebabed93baa53a13cc67274dbea070-79e65491d7359927-01
2021-11-23T06:37:10.859Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:37:10.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1c38edbc7e68e444214caa903467ad217d435d8-2488ac29728f3cf4-01 outer:exit 2b-d1c38edbc7e68e444214caa903467ad217d435d8-599eebd3eb259923-01
2021-11-23T06:37:10.862Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:37:10.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4ce16b5ff6ce0c90129f91abb21b7bac89f5508-f14f52210e706437-01 outer:exit 2b-e4ce16b5ff6ce0c90129f91abb21b7bac89f5508-957fa30613543102-01
2021-11-23T06:37:10.865Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:37:10.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-615ff9e2ac6ffde62451d36ce841422f311caff3-027f07fc601974b9-01 outer:exit 2b-615ff9e2ac6ffde62451d36ce841422f311caff3-457d4b38136753c1-01
2021-11-23T06:37:10.867Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:37:10.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-bac5a2fd17e2934183a3575d84b8ebe4ae8d4d31-b738d88595aa6940-01 outer:exit 2b-bac5a2fd17e2934183a3575d84b8ebe4ae8d4d31-91ae4f96c99ece40-01
2021-11-23T06:37:10.871Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:37:10.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-53f25517a6a885353a555398dd5cf8a32137aa83-c2e31f07f0f7487e-01 outer:exit 2b-53f25517a6a885353a555398dd5cf8a32137aa83-0df67dbb87e49beb-01
2021-11-23T06:37:10.874Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:37:10.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-d37098f55fd24a171b4f6866fb6f88fa938b29d8-c2ed22ca1db04090-01 outer:exit 2b-d37098f55fd24a171b4f6866fb6f88fa938b29d8-17745baf7d3d9ed5-01
2021-11-23T06:37:10.877Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:37:10.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-01eadf26674b6a9cc43cd1499157510306e9b50c-364e4c6a08bc1aff-01 outer:exit 2b-01eadf26674b6a9cc43cd1499157510306e9b50c-653fc952d744f823-01
2021-11-23T06:37:10.880Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:37:10.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-c14c31dd9533b81c2d700809ba45284c152ae7b2-2b4bb730c853f847-01 outer:exit 2b-c14c31dd9533b81c2d700809ba45284c152ae7b2-7dfc0d4dd4e8273d-01
2021-11-23T06:37:10.887Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:37:10.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-db7302b1211e622049297eddddbcd839ab37295c-fca0ac0209ef4913-01 outer:exit 2b-db7302b1211e622049297eddddbcd839ab37295c-8568f6b8ff473de5-01
2021-11-23T06:37:10.892Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:37:10.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ca5bbf5103a0739cf237fb490c1d309c484b6ac-87a1dca8795126ea-01 outer:exit 2b-9ca5bbf5103a0739cf237fb490c1d309c484b6ac-194a3cbafb0234e0-01
2021-11-23T06:37:10.905Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:37:10.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4e8fc709b822a35c5e787d63104fe9cd9470e08-2df7dfa35ab4ab1d-01 outer:exit 2b-b4e8fc709b822a35c5e787d63104fe9cd9470e08-163fa859a1869737-01
2021-11-23T06:37:10.913Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:37:10.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-32c117b2f013b3ec7c94df88ecd3a8ae71d4ee86-54511101c0a3d37d-01 outer:exit 2b-32c117b2f013b3ec7c94df88ecd3a8ae71d4ee86-70669fe367ae5abc-01
2021-11-23T06:37:10.915Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:37:10.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-68e688b62ecddf3007239aaff17192a30833c427-ef22bf98ac72297e-01 outer:exit 2b-68e688b62ecddf3007239aaff17192a30833c427-3c1c332732b22c33-01
2021-11-23T06:37:10.920Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:37:10.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e6d4358a043bed795f1bcc3d6c86096bc87a1fa-0b3996cfcac9c330-01 outer:exit 2b-9e6d4358a043bed795f1bcc3d6c86096bc87a1fa-f9089266561f713e-01
2021-11-23T06:37:10.930Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:37:10.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-38976324aeabeda33c3fbd7d1a6a549ef02ef1ba-f7655d0063c0c7cf-01 outer:exit 2b-38976324aeabeda33c3fbd7d1a6a549ef02ef1ba-8c8287fa76938651-01
2021-11-23T06:37:10.933Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:37:10.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-322a3b748eb22e2c7bc0a0f3322879ee304fd613-e909193ae1c92abe-01 outer:exit 2b-322a3b748eb22e2c7bc0a0f3322879ee304fd613-0a8a67bd0151c308-01
2021-11-23T06:37:10.935Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:37:10.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbe30b5acd23c5787d28cd5107de22fc7d73139a-4c8db6b21d10340e-01 outer:exit 2b-fbe30b5acd23c5787d28cd5107de22fc7d73139a-f21e70d19c4de9d6-01
2021-11-23T06:37:10.938Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:37:10.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-9188ba5688bac98172cab6efe8b55e1cb86e4d58-96a991f947a4ddf3-01 outer:exit 2b-9188ba5688bac98172cab6efe8b55e1cb86e4d58-d4b14993d57180f3-01
2021-11-23T06:37:10.940Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:37:10.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-f63b0c1de8dd1ebb3d9ae5401d4975317eea01ef-c1671c522a2d7951-01 outer:exit 2b-f63b0c1de8dd1ebb3d9ae5401d4975317eea01ef-f03417699081e239-01
2021-11-23T06:37:10.943Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:37:10.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-967263c68b0a64d5f13aaa49605fae19b9302b5c-f6025d49be2d0b29-01 outer:exit 2b-967263c68b0a64d5f13aaa49605fae19b9302b5c-2f2aa1091a727414-01
2021-11-23T06:37:10.956Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:37:10.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ef4f2ba313a9d31d23772aac8604e4f129b6e24-36c32f5bfc95d340-01 outer:exit 2b-4ef4f2ba313a9d31d23772aac8604e4f129b6e24-4c2cf9e8c719007c-01
2021-11-23T06:37:10.966Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:37:10.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c9f349227344b0d4475930ea564f052ea92e554-2aed0cd57d4386fa-01 outer:exit 2b-4c9f349227344b0d4475930ea564f052ea92e554-e93b6509763e998a-01
2021-11-23T06:37:10.969Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:37:10.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-39acac82aa113aa15223a2130273e17747adeb81-54f4920860acbc41-01 outer:exit 2b-39acac82aa113aa15223a2130273e17747adeb81-d6e3647ba0b0ca1f-01
2021-11-23T06:37:10.972Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:37:10.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c99c2038d3b7154892026d1c49e3f2d805acc7c-56dac4fa9b284202-01 outer:exit 2b-0c99c2038d3b7154892026d1c49e3f2d805acc7c-eebf7fcd902b2266-01
2021-11-23T06:37:10.975Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:37:11.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cf6b65370b0b15157ef5b4b538f062c2c31b39c-6196c5bdc92ab63d-01 outer:exit 2b-2cf6b65370b0b15157ef5b4b538f062c2c31b39c-4a2df6a2a859a5af-01
2021-11-23T06:37:11.010Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (417ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:17.984Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:17.985Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:17.985Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:17.985Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:18.077Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:18.249Z appoptics:patching patched crypto 
2021-11-23T06:37:18.270Z appoptics:patching patched https 
2021-11-23T06:37:18.271Z appoptics:patching patched http 
2021-11-23T06:37:18.344Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:18.344Z appoptics:patching patched fs 
2021-11-23T06:37:18.362Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v17.1.0)
2021-11-23T06:37:18.372Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2021-11-23T06:37:18.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-51845546084b31750af3df8c0d30868343cd4017-c30d7b532ea233f6-01 outer:exit 2b-51845546084b31750af3df8c0d30868343cd4017-cbc22979e2526396-01
2021-11-23T06:37:18.445Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:37:18.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d2eceb53fc85d68a40aadb1b90b5e2d41adbaec-e84be5b3b1682ab1-01 outer:exit 2b-1d2eceb53fc85d68a40aadb1b90b5e2d41adbaec-6644ee453dea0ce5-01
2021-11-23T06:37:18.513Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:37:18.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-956abbad02c2cc94e458f89b73b0e04cfeb0af37-9c30788638c603ac-01 outer:exit 2b-956abbad02c2cc94e458f89b73b0e04cfeb0af37-eee3293c5c364171-01
2021-11-23T06:37:18.521Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:37:18.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e398f2a5fb6f6853760224e49a0a10284dd7ce6-d6f8b964c0ea8793-01 outer:exit 2b-1e398f2a5fb6f6853760224e49a0a10284dd7ce6-2e4865ec152e32c7-01
2021-11-23T06:37:18.528Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:37:18.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3b45acd5673adb67bf584d531f68ff4a0fa620d-11cf9cd878fc618c-01 outer:exit 2b-f3b45acd5673adb67bf584d531f68ff4a0fa620d-8f3e58749a7fa52f-01
2021-11-23T06:37:18.538Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:37:18.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-c66e11389bd3d684fa0d37535b7b8d1a9978d01c-904c2b4effaa8093-01 outer:exit 2b-c66e11389bd3d684fa0d37535b7b8d1a9978d01c-950130e79bccd88f-01
2021-11-23T06:37:18.543Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:37:18.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-f834b2d9cadda2308c6ecde0d25080edab0851f8-7f618d0a9b99a5ee-01 outer:exit 2b-f834b2d9cadda2308c6ecde0d25080edab0851f8-5c1d9454b7d009fb-01
2021-11-23T06:37:18.553Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:37:18.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-b23e967e3ce1ed90c1ce0f7c4f592291e03cca59-2c62028c8a61182b-01 outer:exit 2b-b23e967e3ce1ed90c1ce0f7c4f592291e03cca59-5ccf0b97241c50c8-01
2021-11-23T06:37:18.562Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:37:18.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-96ffd522dada731de4befaf5f8f5a85f43d4daed-ab6257815186f2ca-01 outer:exit 2b-96ffd522dada731de4befaf5f8f5a85f43d4daed-24723154a487919d-01
2021-11-23T06:37:18.565Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:37:18.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-b473ccb1b0b08659d848fc37c88e5e9cce11900c-3b6f48833e534ccb-01 outer:exit 2b-b473ccb1b0b08659d848fc37c88e5e9cce11900c-4472ace08e186659-01
2021-11-23T06:37:18.569Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:37:18.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-79e4bfb3e3abd88867c9464d684872f5a16dd32d-9ca693541c9fe554-01 outer:exit 2b-79e4bfb3e3abd88867c9464d684872f5a16dd32d-3bad199b7de4f5c2-01
2021-11-23T06:37:18.578Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:37:18.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b3bf8f46f6cc864bf9e4f3dadfa661a93bbb419-04c5bae00aec781c-01 outer:exit 2b-2b3bf8f46f6cc864bf9e4f3dadfa661a93bbb419-b0b6af538050476a-01
2021-11-23T06:37:18.588Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:37:18.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-617f75b7a1542da3c175a2acc54427a419379f4c-3919c9260c99124d-01 outer:exit 2b-617f75b7a1542da3c175a2acc54427a419379f4c-23d16f73bbfd9a83-01
2021-11-23T06:37:18.605Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:37:18.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cf4e7b1cabcb2883bcfb56caeaf2493fbf9a31a-e6815b9143f8e0f3-01 outer:exit 2b-3cf4e7b1cabcb2883bcfb56caeaf2493fbf9a31a-4d29bbdedb59c6b7-01
2021-11-23T06:37:18.652Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:37:18.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ee9a9c8d74e523047ddff8356a68e756a007977-93e779d58aec9b6c-01 outer:exit 2b-7ee9a9c8d74e523047ddff8356a68e756a007977-fd736157d46896f8-01
2021-11-23T06:37:18.656Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:37:18.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-0336a9cd7c96dbdf4c00800b9d2731b15ffc6e8f-25a01c9349c8c321-01 outer:exit 2b-0336a9cd7c96dbdf4c00800b9d2731b15ffc6e8f-5cf9184676c3d1be-01
2021-11-23T06:37:18.659Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:37:18.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea1fa6f6cf6b3002582eba0d519880f3f66b4c5f-9a1f13087fa5492b-01 outer:exit 2b-ea1fa6f6cf6b3002582eba0d519880f3f66b4c5f-011a0d5731029a20-01
2021-11-23T06:37:18.664Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:37:18.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-d73b217e535b5edfe221b6352363699fb37c04af-1f26f2147559bb47-01 outer:exit 2b-d73b217e535b5edfe221b6352363699fb37c04af-fbc86adefa0dd60a-01
2021-11-23T06:37:18.667Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:37:18.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-47f6c399cd5f74a5130da5cc3a2d69b64084684f-f2b34edf5aa91664-01 outer:exit 2b-47f6c399cd5f74a5130da5cc3a2d69b64084684f-70dcc0931c56930b-01
2021-11-23T06:37:18.670Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:37:18.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d8f344d352792d382fbd7731a1d33bdc62438e5-9601a618d1949d34-01 outer:exit 2b-9d8f344d352792d382fbd7731a1d33bdc62438e5-94255217c225728e-01
2021-11-23T06:37:18.672Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:37:18.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e7135fd5c92983c44f19e52759d550f30753d73-9d2948137642200e-01 outer:exit 2b-4e7135fd5c92983c44f19e52759d550f30753d73-0982dbbbd2ad9eeb-01
2021-11-23T06:37:18.675Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:37:18.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4936677ee256d38a006704a2dbcca279adcd07f-8c15517007e831af-01 outer:exit 2b-c4936677ee256d38a006704a2dbcca279adcd07f-981b95051bbbe798-01
2021-11-23T06:37:18.677Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:37:18.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-16579de652af8f900162ca1534a55912fde04864-c4c412d417f6d49b-01 outer:exit 2b-16579de652af8f900162ca1534a55912fde04864-a9621884e3690562-01
2021-11-23T06:37:18.681Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:37:18.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c492ce65dc761f637e43bcfedf5ece456ad0c8e-ef9f2b05ccdf842e-01 outer:exit 2b-4c492ce65dc761f637e43bcfedf5ece456ad0c8e-5de06f3e1bbcb5bc-01
2021-11-23T06:37:18.687Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:37:18.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-34df38f71a4b9d90db9a35b9af6109be921d2141-d1bc3cceeb405cdb-01 outer:exit 2b-34df38f71a4b9d90db9a35b9af6109be921d2141-a795eb52581cd1a1-01
2021-11-23T06:37:18.689Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:37:18.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-f78b862aed6cdcc2ec72c974cab853dfd363137d-599199b6d25a2dbf-01 outer:exit 2b-f78b862aed6cdcc2ec72c974cab853dfd363137d-3badd93687ecead2-01
2021-11-23T06:37:18.692Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:37:18.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3c8ec2514c0324eb49eec796fdd5feee7666a4e-101fde28df0e12fa-01 outer:exit 2b-d3c8ec2514c0324eb49eec796fdd5feee7666a4e-888604a9d45b128c-01
2021-11-23T06:37:18.703Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:37:18.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcdc8a194393304ec051e19788f2b1eb02503158-329984a51a6a4ec8-01 outer:exit 2b-dcdc8a194393304ec051e19788f2b1eb02503158-658d94cc7b39662f-01
2021-11-23T06:37:18.712Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:37:18.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd354984f2ddd608f54852fb0692a1cb9b36a27e-4d954eb4028998f7-01 outer:exit 2b-cd354984f2ddd608f54852fb0692a1cb9b36a27e-dd940c86fa56e404-01
2021-11-23T06:37:18.727Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:37:18.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-31e73c446f9f5c1012fcacfe887f15c0eb50a33d-973ce168fdcdfd0e-01 outer:exit 2b-31e73c446f9f5c1012fcacfe887f15c0eb50a33d-60d51d65fbbbdf62-01
2021-11-23T06:37:18.734Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:37:18.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-f439b1594c49f5518fa4c52a6846595c37d6d08a-9477967ab14be32b-01 outer:exit 2b-f439b1594c49f5518fa4c52a6846595c37d6d08a-0cfc15658e803253-01
2021-11-23T06:37:18.737Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:37:18.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-68616a8bdcc4923977ec9e7e3a2e4fd38fd355e1-33ca048641a884ea-01 outer:exit 2b-68616a8bdcc4923977ec9e7e3a2e4fd38fd355e1-6711b7b9b37ba3cf-01
2021-11-23T06:37:18.741Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:37:18.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bf718d808fc2c11bde896d3a7a844e5dd929fe3-520cd6f1761a65f3-01 outer:exit 2b-2bf718d808fc2c11bde896d3a7a844e5dd929fe3-8d83b09c21f4a492-01
2021-11-23T06:37:18.750Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:37:18.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-6df7ed90a69a81ad35b28df13bb8028347020d23-0a284e8e07095a8c-01 outer:exit 2b-6df7ed90a69a81ad35b28df13bb8028347020d23-3244c8bc484406d1-01
2021-11-23T06:37:18.752Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:37:18.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-e42aa129c1154f60e65b032324602425f6e8532e-ad6b923e14e8766f-01 outer:exit 2b-e42aa129c1154f60e65b032324602425f6e8532e-9f107a01545677d9-01
2021-11-23T06:37:18.755Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:37:18.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-86ac1419c53e3cd7a200c20d634854681825b89e-9738e0249f140cae-01 outer:exit 2b-86ac1419c53e3cd7a200c20d634854681825b89e-b90b5fb964d1d752-01
2021-11-23T06:37:18.757Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:37:18.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-19f70c8a37acb8bcc7f3cd96c78d604757783935-6c93cc29ae854406-01 outer:exit 2b-19f70c8a37acb8bcc7f3cd96c78d604757783935-5a18dbf03e1983f1-01
2021-11-23T06:37:18.761Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:37:18.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-0235c6b2f617f6e4d22860754575f6c211d2fb5c-eab15b97c6de939f-01 outer:exit 2b-0235c6b2f617f6e4d22860754575f6c211d2fb5c-28824bece8e8ab74-01
2021-11-23T06:37:18.763Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:37:18.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e3bce15122ef4325b91779475a32e7fa8d80caa-5d5c2e66744bfb28-01 outer:exit 2b-7e3bce15122ef4325b91779475a32e7fa8d80caa-3eda587d9e0904d9-01
2021-11-23T06:37:18.776Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:37:18.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a6e83eee4fe011936c419fb35d39f946173ddb7-23b19356839f828e-01 outer:exit 2b-6a6e83eee4fe011936c419fb35d39f946173ddb7-3cb439f10d03c97a-01
2021-11-23T06:37:18.788Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:37:18.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-479427858196929ae793332f20b62c2a7a06f73c-05fa8d35dd4963b8-01 outer:exit 2b-479427858196929ae793332f20b62c2a7a06f73c-105350b3455d373b-01
2021-11-23T06:37:18.793Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:37:18.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-282fa77d1ceb8a8c67a9a5ae57632a8fb796dbfa-7253b15145dfd4a4-01 outer:exit 2b-282fa77d1ceb8a8c67a9a5ae57632a8fb796dbfa-be37b6051485c89a-01
2021-11-23T06:37:18.797Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:37:18.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-155a159d20eecdc27031a7a4aefe22517b6e0d0a-ee59d2f75fbb3086-01 outer:exit 2b-155a159d20eecdc27031a7a4aefe22517b6e0d0a-c7c181bc57402c64-01
2021-11-23T06:37:18.800Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:37:18.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-c23ad56f84a5796b04c9ad8bb303e6d98e6e386e-185ef08a37d9ec4e-01 outer:exit 2b-c23ad56f84a5796b04c9ad8bb303e6d98e6e386e-fe8258747a30902e-01
2021-11-23T06:37:18.848Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (465ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:26.451Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:26.451Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:26.452Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:26.452Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:26.524Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:26.684Z appoptics:patching patched crypto 
2021-11-23T06:37:26.707Z appoptics:patching patched https 
2021-11-23T06:37:26.707Z appoptics:patching patched http 
2021-11-23T06:37:26.773Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:26.774Z appoptics:patching patched fs 
2021-11-23T06:37:26.790Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v17.1.0)
2021-11-23T06:37:26.800Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2021-11-23T06:37:26.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-78e257a8cb3c203b03f60be8ea3aae168e1df705-6ad1be086b302a00-01 outer:exit 2b-78e257a8cb3c203b03f60be8ea3aae168e1df705-93f14e2c6f016320-01
2021-11-23T06:37:26.873Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:37:26.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-bafc7191d95103cdfc5d8038c5286f7c1369e332-516f6ba95bf8d20b-01 outer:exit 2b-bafc7191d95103cdfc5d8038c5286f7c1369e332-2f0534c7dc419f1c-01
2021-11-23T06:37:26.958Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:37:26.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-d929a405349b5ba450cd37d78ecf11861bfa09ad-0c488719cfb24347-01 outer:exit 2b-d929a405349b5ba450cd37d78ecf11861bfa09ad-76b53d7daeff4b34-01
2021-11-23T06:37:26.963Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:37:26.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca1fe84eb257133b103b06348ad95e3b1a205ee3-bd85be4b9ebf7daa-01 outer:exit 2b-ca1fe84eb257133b103b06348ad95e3b1a205ee3-aed7cc5e17eafd2f-01
2021-11-23T06:37:26.967Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:37:26.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-2781905ccdeb363bc49fa750c833beb23ab29367-d300b82fe77616bf-01 outer:exit 2b-2781905ccdeb363bc49fa750c833beb23ab29367-6d16937dbdaab04e-01
2021-11-23T06:37:26.973Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:37:26.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2bb290fcfad6f288d1ad62c8ddae4d66c250166-3654cb3ba0878cbf-01 outer:exit 2b-b2bb290fcfad6f288d1ad62c8ddae4d66c250166-25e9c51075ee477b-01
2021-11-23T06:37:26.976Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:37:26.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-4de744a0b4c0189b7038ce8279723fe2ee93d2ba-4a5de2a3ef74ad01-01 outer:exit 2b-4de744a0b4c0189b7038ce8279723fe2ee93d2ba-f3970806aa07a10d-01
2021-11-23T06:37:26.980Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:37:26.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3b3275352f8942a7021dc42895ad8af54c652b7-6d5707c494ae7741-01 outer:exit 2b-a3b3275352f8942a7021dc42895ad8af54c652b7-ccee55f7044848af-01
2021-11-23T06:37:26.984Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:37:26.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b7f86168cbca3e3d6144148222764e2f25f8a9b-f2571ae1e9a108c9-01 outer:exit 2b-0b7f86168cbca3e3d6144148222764e2f25f8a9b-82aa16d8477d5e72-01
2021-11-23T06:37:26.987Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:37:26.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-b68b75bff52ffe0363acf94c4e95533dde044319-a9ae099c6e57b948-01 outer:exit 2b-b68b75bff52ffe0363acf94c4e95533dde044319-d787dd2b08ffffe6-01
2021-11-23T06:37:26.991Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:37:26.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c512a517f3e92f424bc67330a92b46a0cb9befc-1ffce81681568a81-01 outer:exit 2b-7c512a517f3e92f424bc67330a92b46a0cb9befc-5a50f013250d86f3-01
2021-11-23T06:37:26.995Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:37:27.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-dae95cbbc7be84cfc48fa507c276ff4293d3f82f-554f47b8818d29d0-01 outer:exit 2b-dae95cbbc7be84cfc48fa507c276ff4293d3f82f-69e1665b05190947-01
2021-11-23T06:37:27.004Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:37:27.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-702d0ba39bb08a49b1d2c7ba1951fad89feabafc-cab1a6be29184212-01 outer:exit 2b-702d0ba39bb08a49b1d2c7ba1951fad89feabafc-57c0ef5619c6b75f-01
2021-11-23T06:37:27.021Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:37:27.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0e514a26348ceed3c0cdd12f9a8f900d8d427ae-3a9660b58eb8281a-01 outer:exit 2b-e0e514a26348ceed3c0cdd12f9a8f900d8d427ae-8e6aa8679221c4f0-01
2021-11-23T06:37:27.059Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:37:27.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-30e4134622c07305a469ad04ddf217ceddfbdf21-21d7c45253f85111-01 outer:exit 2b-30e4134622c07305a469ad04ddf217ceddfbdf21-a4c33f8df83f7329-01
2021-11-23T06:37:27.064Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:37:27.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-5374248716a31a4e0fea2de15e9de1a58ff21bdc-119f7bafd61ef94a-01 outer:exit 2b-5374248716a31a4e0fea2de15e9de1a58ff21bdc-70835b9501ec1ffe-01
2021-11-23T06:37:27.067Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:37:27.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-45b7b65559ad063b489ae9e8319b7535a73341cf-da29e06413383c60-01 outer:exit 2b-45b7b65559ad063b489ae9e8319b7535a73341cf-25e16673af69ba55-01
2021-11-23T06:37:27.071Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:37:27.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bcce91132d189915deb4f9fc0ce56598a9f031d-18e658682aa42718-01 outer:exit 2b-8bcce91132d189915deb4f9fc0ce56598a9f031d-24b601c9f06be582-01
2021-11-23T06:37:27.074Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:37:27.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ddd476eab9f0c7f63ef04112b8e7cc20f6dd1cc-f6bf846028319795-01 outer:exit 2b-7ddd476eab9f0c7f63ef04112b8e7cc20f6dd1cc-4ed741e808f1a20f-01
2021-11-23T06:37:27.077Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:37:27.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-0542cb58f30c46d332f765f67f8cac2d0a586f0b-5aec8f759bfe59b7-01 outer:exit 2b-0542cb58f30c46d332f765f67f8cac2d0a586f0b-0f4532668c434d75-01
2021-11-23T06:37:27.080Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:37:27.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f4d9814f8e0825f166af14df89584407af9fc9b-5bf01fdfe2b4a774-01 outer:exit 2b-2f4d9814f8e0825f166af14df89584407af9fc9b-1d3b64f15881935b-01
2021-11-23T06:37:27.082Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:37:27.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-caf0b9c4d43778a060925b15915881594491d358-d9c25e6e1f4a661a-01 outer:exit 2b-caf0b9c4d43778a060925b15915881594491d358-0a26637daa3ce730-01
2021-11-23T06:37:27.085Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:37:27.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-85185f7a27c77749cf8b7867006557638b4cdcdc-07b6470f8ec8fb97-01 outer:exit 2b-85185f7a27c77749cf8b7867006557638b4cdcdc-9a31622f51a9199e-01
2021-11-23T06:37:27.088Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:37:27.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b30215f0695a3097e1e5ab8bc47bd977bb02db9-24e00cab800fea6e-01 outer:exit 2b-5b30215f0695a3097e1e5ab8bc47bd977bb02db9-2423b4965e297628-01
2021-11-23T06:37:27.092Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:37:27.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ee065c18af09e0f0f6446b6ce4af1b61126286f-22304da63b65dda8-01 outer:exit 2b-3ee065c18af09e0f0f6446b6ce4af1b61126286f-a602eb7c3c47224c-01
2021-11-23T06:37:27.095Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:37:27.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-355a3880d8ac6b468c3fd4acf204d7a2dc12c909-03998b338d71d9e8-01 outer:exit 2b-355a3880d8ac6b468c3fd4acf204d7a2dc12c909-11b34dc4d14d3ac4-01
2021-11-23T06:37:27.097Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:37:27.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-5372e98c6bdc31c7583f4517c676d64a2f734fca-999a15fb6052cd16-01 outer:exit 2b-5372e98c6bdc31c7583f4517c676d64a2f734fca-18dfac1d72c19e5f-01
2021-11-23T06:37:27.104Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:37:27.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4e60a961a3c3be749eb965cd0b49bc47af56e77-cc79e1c7205a5f93-01 outer:exit 2b-f4e60a961a3c3be749eb965cd0b49bc47af56e77-25cba5b743f0488f-01
2021-11-23T06:37:27.111Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:37:27.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-869ce1d78f741ee1e6fdf98a04f841371a3e5975-4719122376729596-01 outer:exit 2b-869ce1d78f741ee1e6fdf98a04f841371a3e5975-dc119f2543461ea8-01
2021-11-23T06:37:27.123Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:37:27.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-5102c75f4f4abc7d596f8209fc0007ad1830aa47-eb2c0a534e94a3fa-01 outer:exit 2b-5102c75f4f4abc7d596f8209fc0007ad1830aa47-ef25175d0379fe97-01
2021-11-23T06:37:27.133Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:37:27.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee406b1d47a8d52c1c50b0e5e6b8cfc39af6d2f6-051ab0ad8926be22-01 outer:exit 2b-ee406b1d47a8d52c1c50b0e5e6b8cfc39af6d2f6-df0071323e296317-01
2021-11-23T06:37:27.136Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:37:27.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ab774efed9ac3fdbc51480ea7a8e9facdf464ae-d0253e901282ecbe-01 outer:exit 2b-1ab774efed9ac3fdbc51480ea7a8e9facdf464ae-317b50ae0ddf92ac-01
2021-11-23T06:37:27.141Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:37:27.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-494068ce81de1222a4e46643ef0b00756889d94f-c3f23e4bc101db90-01 outer:exit 2b-494068ce81de1222a4e46643ef0b00756889d94f-b9d34aea4a91270e-01
2021-11-23T06:37:27.148Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:37:27.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-3387962060b3077de81761babd19bfa0032c71f9-0b532ddaf8d29836-01 outer:exit 2b-3387962060b3077de81761babd19bfa0032c71f9-5c8bd2f0d65420cd-01
2021-11-23T06:37:27.151Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:37:27.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-2914d1abe35a8f350bcbf5912bfa3bd86b5d83df-6fbe674dd941f244-01 outer:exit 2b-2914d1abe35a8f350bcbf5912bfa3bd86b5d83df-47f54b4ba8179768-01
2021-11-23T06:37:27.154Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:37:27.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff199444f00276477a276ac1b8e756f8aa0ed8c6-f30bb9179ee0d5fa-01 outer:exit 2b-ff199444f00276477a276ac1b8e756f8aa0ed8c6-fad1d2158ff3b92e-01
2021-11-23T06:37:27.157Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:37:27.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d7aa38a8b1047e95a9e39663848cfe4aae2406d-25bd3142c968323f-01 outer:exit 2b-3d7aa38a8b1047e95a9e39663848cfe4aae2406d-23fc244afcb3fa77-01
2021-11-23T06:37:27.161Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:37:27.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-32b03f05012cfbe0a66c9635582bf222223be3f3-9b132aff7299fdf5-01 outer:exit 2b-32b03f05012cfbe0a66c9635582bf222223be3f3-f3928e4f5cec1da6-01
2021-11-23T06:37:27.164Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:37:27.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-672f3e5a5f4cb68eb4521c38cfae0c075c72560b-a0f45c213ccd8d88-01 outer:exit 2b-672f3e5a5f4cb68eb4521c38cfae0c075c72560b-4d40653cf0eaa045-01
2021-11-23T06:37:27.178Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:37:27.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d0cfaf6da574fdf82af1ac0cadb7187598f7307-727deccef4246fe1-01 outer:exit 2b-6d0cfaf6da574fdf82af1ac0cadb7187598f7307-303eea7abcba7f6d-01
2021-11-23T06:37:27.187Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:37:27.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-0efcf6d17bc2794ae7e632a22d3901f9c60462d4-1eb5a2ea96adaf88-01 outer:exit 2b-0efcf6d17bc2794ae7e632a22d3901f9c60462d4-b73831c58da52266-01
2021-11-23T06:37:27.191Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:37:27.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-53c45577329a140da03fe8a2dc6df6c7d8bbce3f-7424c634bc7e1c06-01 outer:exit 2b-53c45577329a140da03fe8a2dc6df6c7d8bbce3f-7a1833ade63be03b-01
2021-11-23T06:37:27.194Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:37:27.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb0815321976ed2541946595ec06a2fc675cd288-02b859d18f695499-01 outer:exit 2b-cb0815321976ed2541946595ec06a2fc675cd288-74b6bb1345fef764-01
2021-11-23T06:37:27.198Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:37:27.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-d39ff26e1279295e2d869378796f8c5897974d0f-f2e9dec2d4959403-01 outer:exit 2b-d39ff26e1279295e2d869378796f8c5897974d0f-583522af057f6a58-01
2021-11-23T06:37:27.230Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (419ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:35.587Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:35.588Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:35.588Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:35.589Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:35.658Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:35.838Z appoptics:patching patched crypto 
2021-11-23T06:37:35.860Z appoptics:patching patched https 
2021-11-23T06:37:35.860Z appoptics:patching patched http 
2021-11-23T06:37:35.932Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:35.932Z appoptics:patching patched fs 
2021-11-23T06:37:35.951Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v17.1.0)
2021-11-23T06:37:35.960Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2021-11-23T06:37:36.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-1397f2f5b5e7202d994341235e8395379e42173f-6f676c5d86a62199-01 outer:exit 2b-1397f2f5b5e7202d994341235e8395379e42173f-0cdfef6593ff6098-01
2021-11-23T06:37:36.028Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:37:36.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-918ff27c952c353b82ffbf155b4b9c257688f50e-918528323e70981f-01 outer:exit 2b-918ff27c952c353b82ffbf155b4b9c257688f50e-48e580b72b77741b-01
2021-11-23T06:37:36.112Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:37:36.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-28fa142f23f79f4bf41b8e04437108ae1630cd70-d196c37f3123023a-01 outer:exit 2b-28fa142f23f79f4bf41b8e04437108ae1630cd70-5a2a495635105314-01
2021-11-23T06:37:36.117Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:37:36.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8348bc8f82c25d7a357a5378c9b97d257aa2476-a92c5ca77a0267b1-01 outer:exit 2b-d8348bc8f82c25d7a357a5378c9b97d257aa2476-19e66e3ec1c53f24-01
2021-11-23T06:37:36.120Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:37:36.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-57987505ba56bd717b281e2a1ca9811e70f8e4c0-3f252bab89a1ba5f-01 outer:exit 2b-57987505ba56bd717b281e2a1ca9811e70f8e4c0-a7512a35e9a41247-01
2021-11-23T06:37:36.126Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:37:36.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-84efd5715e7db244d4da9607eda3704758940814-8323e386fd04ee85-01 outer:exit 2b-84efd5715e7db244d4da9607eda3704758940814-a964b6fda4d7f88b-01
2021-11-23T06:37:36.130Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:37:36.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-160faaf23cd2ce0b86ed3f2395994999c9112f64-81d94b4aa42a4a0f-01 outer:exit 2b-160faaf23cd2ce0b86ed3f2395994999c9112f64-bd007432ca31a58d-01
2021-11-23T06:37:36.134Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:37:36.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3bd7d254e944eb37d0182bec8a418c9f21a9d8a-839d576acb48cd66-01 outer:exit 2b-c3bd7d254e944eb37d0182bec8a418c9f21a9d8a-c3b2afccd82a3ba5-01
2021-11-23T06:37:36.137Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:37:36.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf64bec50d60b186470c5de8959038f11f0774e1-8e6757e94b1749bf-01 outer:exit 2b-cf64bec50d60b186470c5de8959038f11f0774e1-43b75904927426dc-01
2021-11-23T06:37:36.140Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:37:36.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-505865edc87c1ca4a32a2dd8e7f850d2725ca4c0-ac087262fec00da8-01 outer:exit 2b-505865edc87c1ca4a32a2dd8e7f850d2725ca4c0-b5d2b130575f401c-01
2021-11-23T06:37:36.144Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:37:36.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ca035eff03bd1361fb62eaacfecf0b46bbdcf16-b160ff8802622790-01 outer:exit 2b-4ca035eff03bd1361fb62eaacfecf0b46bbdcf16-800d1a3de8f16fe3-01
2021-11-23T06:37:36.150Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:37:36.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-4824d8dd4eb03144d06e02c83464a0a92b92957d-6c813e1800e4e51d-01 outer:exit 2b-4824d8dd4eb03144d06e02c83464a0a92b92957d-0b82683cf4b71f1e-01
2021-11-23T06:37:36.172Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:37:36.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-6deeff54bf325ba9e7ef064000e986baf66abfbe-ea79c2301a725fd0-01 outer:exit 2b-6deeff54bf325ba9e7ef064000e986baf66abfbe-1c6ab432f0c5eb0a-01
2021-11-23T06:37:36.189Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:37:36.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9a304569f75fc6fcc907841a3cae70a8f8e2835-0cdabbe0385e9dc8-01 outer:exit 2b-d9a304569f75fc6fcc907841a3cae70a8f8e2835-9de4acf6ad42452d-01
2021-11-23T06:37:36.251Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:37:36.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c041f131602ca6c610e7cf5615ff3f02647618d-037eb8dae064f23e-01 outer:exit 2b-5c041f131602ca6c610e7cf5615ff3f02647618d-600e27d31dc0ac5a-01
2021-11-23T06:37:36.255Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:37:36.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-0596ec80f2f8a61603bfd5de347e03604a2969a8-c802f554732573f1-01 outer:exit 2b-0596ec80f2f8a61603bfd5de347e03604a2969a8-4d18c0b2d88ae24b-01
2021-11-23T06:37:36.258Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:37:36.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-29b1510d4e3063b2ada6073d085bb43a2e78cb7f-a3c5859b3f3edad1-01 outer:exit 2b-29b1510d4e3063b2ada6073d085bb43a2e78cb7f-ef3bd9f06e708fa2-01
2021-11-23T06:37:36.262Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:37:36.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-1656d35303d6a3449c5921d287edee252cf23854-f2fdf1116dc105ca-01 outer:exit 2b-1656d35303d6a3449c5921d287edee252cf23854-5eac10f81b732c2a-01
2021-11-23T06:37:36.265Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:37:36.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa8577f022296b84e962ff226fa1af45d3ce2f75-7afb3c45e4c447e8-01 outer:exit 2b-fa8577f022296b84e962ff226fa1af45d3ce2f75-395b9e43773aace7-01
2021-11-23T06:37:36.268Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:37:36.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-86c5a96f98138eedb0904fef033da7b2e4f62f36-48b6bf10dd83cca1-01 outer:exit 2b-86c5a96f98138eedb0904fef033da7b2e4f62f36-bee22faff48d55fd-01
2021-11-23T06:37:36.271Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:37:36.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc4c9d722303113b72c86d23f2d6b9413f85d9cc-5ff8a769aff39217-01 outer:exit 2b-bc4c9d722303113b72c86d23f2d6b9413f85d9cc-88c1f44898d71a06-01
2021-11-23T06:37:36.274Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:37:36.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-56398cd9fbb902b4ec7e1e475e7fa3fd02d4aad2-9eb054204866886c-01 outer:exit 2b-56398cd9fbb902b4ec7e1e475e7fa3fd02d4aad2-912c4b2700be254e-01
2021-11-23T06:37:36.276Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:37:36.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-f686aeb13835b8082c3c467259501ea165625c55-0ca07c218bccad7b-01 outer:exit 2b-f686aeb13835b8082c3c467259501ea165625c55-4bc6a1721f9f6d56-01
2021-11-23T06:37:36.280Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:37:36.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dff0475c669b07c3b2f19f2178aee060741157f-bcc35d2364711abe-01 outer:exit 2b-5dff0475c669b07c3b2f19f2178aee060741157f-3814fdad386d53b5-01
2021-11-23T06:37:36.284Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:37:36.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-659c2a7489a55d49ec9620e502a8b33a8c7fd6bd-8b58ae94b62d2000-01 outer:exit 2b-659c2a7489a55d49ec9620e502a8b33a8c7fd6bd-1563ad5a5e46d091-01
2021-11-23T06:37:36.287Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:37:36.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-df7becfd636135a9c4ee3695aff4ff8ac48e2aa4-509a5650cff90abf-01 outer:exit 2b-df7becfd636135a9c4ee3695aff4ff8ac48e2aa4-82953bdc80f79626-01
2021-11-23T06:37:36.291Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:37:36.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ebd18f235b63efb9b12ace9e276a051335d612a-36831a0362a22b4e-01 outer:exit 2b-5ebd18f235b63efb9b12ace9e276a051335d612a-8048b39cb0334238-01
2021-11-23T06:37:36.310Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:37:36.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb804b2180e0f1da94b88400034e14ec70556166-568d45f722757083-01 outer:exit 2b-fb804b2180e0f1da94b88400034e14ec70556166-ed413fcf233ce3d7-01
2021-11-23T06:37:36.328Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:37:36.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-9740979bdd5d2f13895accf5ed1dcb41bfc29b6c-89f628488c57e1f7-01 outer:exit 2b-9740979bdd5d2f13895accf5ed1dcb41bfc29b6c-827bafad34f118f8-01
2021-11-23T06:37:36.342Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:37:36.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-f821609cf1cf6628f385d507f51b079df8c77d4c-4a547b7733b0fb04-01 outer:exit 2b-f821609cf1cf6628f385d507f51b079df8c77d4c-32b3747e63e13891-01
2021-11-23T06:37:36.350Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:37:36.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-d234fd8cdb0188e2d3c8dbbe152ad48c1b06b4ae-f4d6b657b1c5d8cf-01 outer:exit 2b-d234fd8cdb0188e2d3c8dbbe152ad48c1b06b4ae-5967db8144070102-01
2021-11-23T06:37:36.352Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:37:36.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-2663caad8de576b2bc73d5483f81591b851becc3-a87d5ca826a4c1df-01 outer:exit 2b-2663caad8de576b2bc73d5483f81591b851becc3-04060427be724829-01
2021-11-23T06:37:36.357Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:37:36.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b578856c9f52a36e4e9376afc902ed0b2487a2f-480e8c128765a03e-01 outer:exit 2b-3b578856c9f52a36e4e9376afc902ed0b2487a2f-82ebf46c8c071068-01
2021-11-23T06:37:36.366Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:37:36.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-53e8101703c2a2b378fcac6b00aca6ce3cfebdaf-49758dd29b76fc82-01 outer:exit 2b-53e8101703c2a2b378fcac6b00aca6ce3cfebdaf-a37e765d32a0b6b9-01
2021-11-23T06:37:36.369Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:37:36.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-63ed4c28eb665f196074af21b95f3e748efdd22f-1c6f379fe6800a3e-01 outer:exit 2b-63ed4c28eb665f196074af21b95f3e748efdd22f-0ed341b51b0982aa-01
2021-11-23T06:37:36.371Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:37:36.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-67781fc05b82de21055a3422713100dae8b216f8-3022df373a7b0a8b-01 outer:exit 2b-67781fc05b82de21055a3422713100dae8b216f8-e4f263fdbf86ef71-01
2021-11-23T06:37:36.373Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:37:36.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-584c3eb48fd5aa6b9d194e6dcc1f9ec90ff1e96c-e2e74a1be699e529-01 outer:exit 2b-584c3eb48fd5aa6b9d194e6dcc1f9ec90ff1e96c-03b079886bb4dbca-01
2021-11-23T06:37:36.375Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:37:36.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb8752f4452d89227ba9bcb2bd7b0bc03f238412-ce6bb2fef050b442-01 outer:exit 2b-fb8752f4452d89227ba9bcb2bd7b0bc03f238412-0ca8effe8da95ced-01
2021-11-23T06:37:36.379Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:37:36.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbfee132696d47fda8da76a18fc957bcab34439d-e6942454cb8311a2-01 outer:exit 2b-bbfee132696d47fda8da76a18fc957bcab34439d-dd4ff9e20a7c1805-01
2021-11-23T06:37:36.395Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:37:36.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2197b898646085717938bd81c19bec9760dea73-90d1c0cd65401765-01 outer:exit 2b-b2197b898646085717938bd81c19bec9760dea73-a4e1301b87fa534a-01
2021-11-23T06:37:36.405Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:37:36.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a0fcf174cacd924fbb16167526646e71634659d-d1a5348755b58f63-01 outer:exit 2b-3a0fcf174cacd924fbb16167526646e71634659d-b79c5ca4af95725f-01
2021-11-23T06:37:36.411Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:37:36.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-c961c406c22d82fbc8160ca68a08018c78055f5a-609698c20d0c1497-01 outer:exit 2b-c961c406c22d82fbc8160ca68a08018c78055f5a-0649a06acd7a3520-01
2021-11-23T06:37:36.415Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:37:36.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-553ffdd68d4d668f728ece002e3a22dbed4996f0-0ffcfed6b195c0f2-01 outer:exit 2b-553ffdd68d4d668f728ece002e3a22dbed4996f0-1af08901a2989d75-01
2021-11-23T06:37:36.431Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:37:36.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-01868627c9fe7e4ac5038fd26e40b6d2b0ebc847-4b8f959bf0dc5cf0-01 outer:exit 2b-01868627c9fe7e4ac5038fd26e40b6d2b0ebc847-f2b708e913d8072d-01
2021-11-23T06:37:36.466Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (495ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:43.424Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:43.426Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:43.426Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:43.427Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:43.523Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:43.740Z appoptics:patching patched crypto 
2021-11-23T06:37:43.773Z appoptics:patching patched https 
2021-11-23T06:37:43.774Z appoptics:patching patched http 
2021-11-23T06:37:43.889Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:43.889Z appoptics:patching patched fs 
2021-11-23T06:37:43.928Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v17.1.0)
2021-11-23T06:37:43.947Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2021-11-23T06:37:44.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-f948ef8df3d350a9982c1f9b34ff4457f50039dd-98e75328793606ac-01 outer:exit 2b-f948ef8df3d350a9982c1f9b34ff4457f50039dd-a806f7f8e6e388c8-01
2021-11-23T06:37:44.055Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:37:44.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ae4a0f836bb5fad3cd2ed09a681ce038d4e7c12-55e2b6d01320b9ed-01 outer:exit 2b-3ae4a0f836bb5fad3cd2ed09a681ce038d4e7c12-ddd0f75a37e87db8-01
2021-11-23T06:37:44.115Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:37:44.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-589e6b16114217a6bc09b5b146b26bbef9a6d248-62481eb39ab205b3-01 outer:exit 2b-589e6b16114217a6bc09b5b146b26bbef9a6d248-9b7799ede18cf991-01
2021-11-23T06:37:44.120Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:37:44.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f3a5af5e6974e405d2066d4ca570d0827091743-105679e1e9af94ab-01 outer:exit 2b-4f3a5af5e6974e405d2066d4ca570d0827091743-307d2e4a9c1faa1c-01
2021-11-23T06:37:44.128Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:37:44.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccbe24779b6c38449092c03fc564024ffe750f4f-001eafbeb938c035-01 outer:exit 2b-ccbe24779b6c38449092c03fc564024ffe750f4f-7f3f0eb374a0917c-01
2021-11-23T06:37:44.135Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:37:44.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-161ca329f7d4aa7a6263fd8e0934482f6b566573-ea13e0fbf89fb06c-01 outer:exit 2b-161ca329f7d4aa7a6263fd8e0934482f6b566573-cd55862cb42a14a3-01
2021-11-23T06:37:44.141Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:37:44.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-488d37ab5865a10e1c808b44a9885ee1d5b1b64c-d3ad73de983d7b3a-01 outer:exit 2b-488d37ab5865a10e1c808b44a9885ee1d5b1b64c-987695d2536a72ce-01
2021-11-23T06:37:44.149Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:37:44.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-174340d1ef5e9355f123bc8cdd0a740424918fea-f3dd353644cc18bd-01 outer:exit 2b-174340d1ef5e9355f123bc8cdd0a740424918fea-98aae71355f9fda4-01
2021-11-23T06:37:44.152Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:37:44.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a8f87bf3332c07df30f11dc8860b87f61ffed22-9ebac63aad976e61-01 outer:exit 2b-4a8f87bf3332c07df30f11dc8860b87f61ffed22-bccf910da942c98a-01
2021-11-23T06:37:44.159Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:37:44.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ff34de375938e233446f54a2198bb9baa9a2691-af8d3ab78afdf578-01 outer:exit 2b-6ff34de375938e233446f54a2198bb9baa9a2691-dc5b036d884c7fc5-01
2021-11-23T06:37:44.164Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:37:44.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-e98eb746a1cf7cba15df1053bc973b95332a1577-3b83f877665453c5-01 outer:exit 2b-e98eb746a1cf7cba15df1053bc973b95332a1577-c461b47d66a30510-01
2021-11-23T06:37:44.170Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:37:44.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7b6f07a60650df2b77335d2f19e2c297fa3bd0d-910c21e0440ceb5a-01 outer:exit 2b-f7b6f07a60650df2b77335d2f19e2c297fa3bd0d-4349cd8dfddb2723-01
2021-11-23T06:37:44.181Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:37:44.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb38af0fd18195ca827f92e6266fc0720f839378-e4100cba8a13b00d-01 outer:exit 2b-cb38af0fd18195ca827f92e6266fc0720f839378-c928d89e10b4f3db-01
2021-11-23T06:37:44.201Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:37:44.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f30d90216556d05110092586c3548c073917fb2-fd07425e3a6875e5-01 outer:exit 2b-4f30d90216556d05110092586c3548c073917fb2-846fbc15c1c9c63c-01
2021-11-23T06:37:44.249Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:37:44.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-d017d26f235c448a42dca7ab555c453a5a7c7b34-7e5ec7022fc0022f-01 outer:exit 2b-d017d26f235c448a42dca7ab555c453a5a7c7b34-d6baadd515c2f8e0-01
2021-11-23T06:37:44.253Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:37:44.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-78502cd6cc1590232d58ef938d88353a72d5069a-9afb24836a84cb36-01 outer:exit 2b-78502cd6cc1590232d58ef938d88353a72d5069a-73aec5ea44c85529-01
2021-11-23T06:37:44.257Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:37:44.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-9df451640b526e2b5ac8c32d9d270da51ab498d9-31e49f45255a86f5-01 outer:exit 2b-9df451640b526e2b5ac8c32d9d270da51ab498d9-b3ee1a7e9e9950ec-01
2021-11-23T06:37:44.263Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:37:44.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-866bdd81f1610da0ad5bf0efed1a441f9d73edce-22d5fb14a8a35643-01 outer:exit 2b-866bdd81f1610da0ad5bf0efed1a441f9d73edce-197b29e509d8d811-01
2021-11-23T06:37:44.273Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:37:44.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2064be6ecb1e6ab372fcb5dd4426cddc99c4582-6baac81be56a236c-01 outer:exit 2b-b2064be6ecb1e6ab372fcb5dd4426cddc99c4582-e996117ee2a6fcd9-01
2021-11-23T06:37:44.275Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:37:44.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-941a1d56efaf251d9b0c1d5b6dbe5dbd126d7731-6e9d9234038df76c-01 outer:exit 2b-941a1d56efaf251d9b0c1d5b6dbe5dbd126d7731-b51d88c67ea983ca-01
2021-11-23T06:37:44.278Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:37:44.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2faf8c2c765d607df76aa67e2e8a6ce30f8e1b8-bed9d8b21819f2e7-01 outer:exit 2b-d2faf8c2c765d607df76aa67e2e8a6ce30f8e1b8-64bb09c35c300058-01
2021-11-23T06:37:44.284Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:37:44.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-324d34f743c3134b214af3b27759a18a5a537526-a0f8a52bba831636-01 outer:exit 2b-324d34f743c3134b214af3b27759a18a5a537526-9436e33077686d6a-01
2021-11-23T06:37:44.287Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:37:44.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-0efa7be674af5eb16d29c0cae5208630d1f3a3a6-ef54d6b3d4634bc5-01 outer:exit 2b-0efa7be674af5eb16d29c0cae5208630d1f3a3a6-1165757036d837b1-01
2021-11-23T06:37:44.294Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:37:44.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-03c9dd314cac07ae77a6c77230dabbcf9d8accac-919c996e73d4dbf5-01 outer:exit 2b-03c9dd314cac07ae77a6c77230dabbcf9d8accac-30408485e06ea2f1-01
2021-11-23T06:37:44.299Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:37:44.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb336ee6b0e5d0a1ac5222c7835298cb71ac4412-f1f9e3453333d9b4-01 outer:exit 2b-cb336ee6b0e5d0a1ac5222c7835298cb71ac4412-7a33263259788777-01
2021-11-23T06:37:44.306Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:37:44.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c1afa72fbda8def466e86204cf9e1cfca343819-9e2721c5e41c6105-01 outer:exit 2b-6c1afa72fbda8def466e86204cf9e1cfca343819-58682b58b00cc676-01
2021-11-23T06:37:44.312Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:37:44.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-64fe028ff01cce77e067f4d593e6236ef24bfcbf-1cee248de9d4410b-01 outer:exit 2b-64fe028ff01cce77e067f4d593e6236ef24bfcbf-405095bdf34f2a25-01
2021-11-23T06:37:44.320Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:37:44.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7ef2bc7d41c0ddc9e9b6f23a077588a6b14ba8d-5cd74b257a37c012-01 outer:exit 2b-d7ef2bc7d41c0ddc9e9b6f23a077588a6b14ba8d-47eb58bb2fde51a2-01
2021-11-23T06:37:44.329Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:37:44.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-b59b19d2356051a13c99df07b94531c8d4e583dd-562bb678591a7b5a-01 outer:exit 2b-b59b19d2356051a13c99df07b94531c8d4e583dd-fbde6abead3b96bb-01
2021-11-23T06:37:44.343Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:37:44.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a086e7d13a681ef83c6dcefe22c7433cf394ae2-6f8fc22cdca155a9-01 outer:exit 2b-4a086e7d13a681ef83c6dcefe22c7433cf394ae2-8c5b0c1ba11b8352-01
2021-11-23T06:37:44.353Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:37:44.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae7cfe75fcb16daea2297347acc1284560c02240-3167862af72706a3-01 outer:exit 2b-ae7cfe75fcb16daea2297347acc1284560c02240-050e5e80e036f59e-01
2021-11-23T06:37:44.355Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:37:44.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-82a68d3647ba33d92f28c0f095e5c8a3be56151c-87361c85524f02b7-01 outer:exit 2b-82a68d3647ba33d92f28c0f095e5c8a3be56151c-320a728179c8f344-01
2021-11-23T06:37:44.360Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:37:44.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a44c7d266fe6b311bb59ad78e9650595d4a3a5e-d91b352d836eb2e7-01 outer:exit 2b-8a44c7d266fe6b311bb59ad78e9650595d4a3a5e-6bba44b555c4129f-01
2021-11-23T06:37:44.367Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:37:44.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bc990f8fc1710059504c2f145b1ab2829f894e3-d7e7c0126c806227-01 outer:exit 2b-1bc990f8fc1710059504c2f145b1ab2829f894e3-b65614c0594c18e9-01
2021-11-23T06:37:44.370Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:37:44.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-a69f13a4fc67b939a9452f0ad678a2175a1a1265-fe68b2d533f5365d-01 outer:exit 2b-a69f13a4fc67b939a9452f0ad678a2175a1a1265-3e4169d4331e67f9-01
2021-11-23T06:37:44.376Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:37:44.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbcad58bdde191a940b620d7db30cd4e03bd56b4-b4f14281fb8331f6-01 outer:exit 2b-cbcad58bdde191a940b620d7db30cd4e03bd56b4-52b428a3e88d5ff0-01
2021-11-23T06:37:44.379Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:37:44.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c0d96be5775ab4b4992d4c074988fea444098ff-2e1f121e901d050e-01 outer:exit 2b-1c0d96be5775ab4b4992d4c074988fea444098ff-a2fc9f9c83b1a8f7-01
2021-11-23T06:37:44.385Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:37:44.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ee014df310b868fb91c10d2b7d0c39cbca36799-88dc4fb93598f3ba-01 outer:exit 2b-3ee014df310b868fb91c10d2b7d0c39cbca36799-45d8297341991e05-01
2021-11-23T06:37:44.389Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:37:44.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e6797defb04204c9f996ea6a1e5ea9fbacd71d4-cad46f8bbbbf442e-01 outer:exit 2b-0e6797defb04204c9f996ea6a1e5ea9fbacd71d4-a363efe3ef0986d2-01
2021-11-23T06:37:44.408Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:37:44.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-781d85e495ea047d8094cfcde4c9134ada3b2b46-d7587f17112091bc-01 outer:exit 2b-781d85e495ea047d8094cfcde4c9134ada3b2b46-78a5d75db1bf35a4-01
2021-11-23T06:37:44.418Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:37:44.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-42c3e5695824ef9364424c2f33ff5b26b0e6eb4a-e4c53bd2a5f8c21f-01 outer:exit 2b-42c3e5695824ef9364424c2f33ff5b26b0e6eb4a-59ff3e172df1ebd3-01
2021-11-23T06:37:44.421Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:37:44.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb5b9a18a10e5730274f94ba15bb2120d62b62ca-e2fc4cb9d18245a3-01 outer:exit 2b-fb5b9a18a10e5730274f94ba15bb2120d62b62ca-c02f22428c8936eb-01
2021-11-23T06:37:44.424Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:37:44.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7db492c4e5d9e12902833544e441adbb6adcfba-eb1fc5cf55f6d822-01 outer:exit 2b-f7db492c4e5d9e12902833544e441adbb6adcfba-67506a732153fd68-01
2021-11-23T06:37:44.429Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:37:44.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-5369eb86a065773dd949fe07514569f7052454ae-0cdb2a8790fb3587-01 outer:exit 2b-5369eb86a065773dd949fe07514569f7052454ae-1eed25bf71a1f4df-01
2021-11-23T06:37:44.481Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (525ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:51.984Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:51.984Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:51.985Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:51.985Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:52.092Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:52.259Z appoptics:patching patched crypto 
2021-11-23T06:37:52.281Z appoptics:patching patched https 
2021-11-23T06:37:52.282Z appoptics:patching patched http 
2021-11-23T06:37:52.345Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:52.346Z appoptics:patching patched fs 
2021-11-23T06:37:52.363Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v17.1.0)
2021-11-23T06:37:52.372Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2021-11-23T06:37:52.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-541ad82182b631a027cd8d48487f03cced8b0745-8054bad51e5fa4c7-01 outer:exit 2b-541ad82182b631a027cd8d48487f03cced8b0745-037086fb9d932ea3-01
2021-11-23T06:37:52.435Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:37:52.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d87861b01be62deaf3428f636d7f6873ee1b92a-05ad5f786e9b58b4-01 outer:exit 2b-0d87861b01be62deaf3428f636d7f6873ee1b92a-e8c920be2bf6431c-01
2021-11-23T06:37:52.517Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:37:52.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-15a9aa3d0582e47f0654ffb3ff197e93656bda8a-9c56af3b3e439920-01 outer:exit 2b-15a9aa3d0582e47f0654ffb3ff197e93656bda8a-2fbceb099f3ae32c-01
2021-11-23T06:37:52.521Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:37:52.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-b42b2b868add1dc5b3ef0df7c928fb17dad3caf4-f333c48c4b0f5d8c-01 outer:exit 2b-b42b2b868add1dc5b3ef0df7c928fb17dad3caf4-339b135e4b67f319-01
2021-11-23T06:37:52.525Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:37:52.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-4273e15fa15a9a98e94911deac365086947346d5-3e83579fcfd8ce75-01 outer:exit 2b-4273e15fa15a9a98e94911deac365086947346d5-766fcfdedcb26e21-01
2021-11-23T06:37:52.530Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:37:52.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ecec5a29480572b00df151cea7a90cfcc567774-b0a7fe12c092949e-01 outer:exit 2b-5ecec5a29480572b00df151cea7a90cfcc567774-ed49ee0ae9de709e-01
2021-11-23T06:37:52.535Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:37:52.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6028106284debb07b968a37cc61e9456b293fce-f9de924e25515473-01 outer:exit 2b-b6028106284debb07b968a37cc61e9456b293fce-13b94adc54c02b21-01
2021-11-23T06:37:52.538Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:37:52.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-7eecee2d123738419e076bd872859de8f1a1d1d2-ba66017f70eaecc1-01 outer:exit 2b-7eecee2d123738419e076bd872859de8f1a1d1d2-a140417e80b4268d-01
2021-11-23T06:37:52.542Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:37:52.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-27927b7fb65b9f8015b90f1d8bf89004a260f734-6d6adb39797f9554-01 outer:exit 2b-27927b7fb65b9f8015b90f1d8bf89004a260f734-a088a69635a0996e-01
2021-11-23T06:37:52.545Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:37:52.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-d694252ecdbb3042ef7ad50a376ef0347feff162-61ba4adb309c498b-01 outer:exit 2b-d694252ecdbb3042ef7ad50a376ef0347feff162-7d521bad7d42e3b0-01
2021-11-23T06:37:52.549Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:37:52.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a9eb2f24655046451b369094ab37596ce9fe5e9-a8ffc608eaf52b85-01 outer:exit 2b-7a9eb2f24655046451b369094ab37596ce9fe5e9-2649603b50856a4c-01
2021-11-23T06:37:52.553Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:37:52.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-5aefda9a395eed6867b29893eb2288f71005b00b-3cdc5299bbebc2ae-01 outer:exit 2b-5aefda9a395eed6867b29893eb2288f71005b00b-b9e87dbf1cb9c831-01
2021-11-23T06:37:52.560Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:37:52.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff644c8b01a6bfb16c920fc2573bfc9fc5d2d4b1-c057b94841b6c684-01 outer:exit 2b-ff644c8b01a6bfb16c920fc2573bfc9fc5d2d4b1-17eab5e679b11b75-01
2021-11-23T06:37:52.577Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:37:52.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-812d0068257fd481388a86b9f52b660a0cb66f45-f2c6f5e1d23f536d-01 outer:exit 2b-812d0068257fd481388a86b9f52b660a0cb66f45-d01b9a18cb6c1506-01
2021-11-23T06:37:52.608Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:37:52.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-af75148f31b39a89517aac27032d10aff181f2d2-36eab03e4ef5e6f6-01 outer:exit 2b-af75148f31b39a89517aac27032d10aff181f2d2-2a52b924e155ae87-01
2021-11-23T06:37:52.611Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:37:52.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e101e9deb8bc7e0f530efc488b81fa566bbdef2-e9d935460c5df0fa-01 outer:exit 2b-3e101e9deb8bc7e0f530efc488b81fa566bbdef2-bbc99c52a7a71ec0-01
2021-11-23T06:37:52.614Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:37:52.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-93c923ce552166f291e98aff523875c458d321e7-63cb7094c32123a8-01 outer:exit 2b-93c923ce552166f291e98aff523875c458d321e7-932a8926ccb848d0-01
2021-11-23T06:37:52.617Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:37:52.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-339f0318e2569860b29910c751f63fb763a97cfc-ddb1511ec52d6210-01 outer:exit 2b-339f0318e2569860b29910c751f63fb763a97cfc-9ed89283087ad910-01
2021-11-23T06:37:52.620Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:37:52.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aafce77418402d23aebc0b461ec954ba7e77562-83d5a229efdbce47-01 outer:exit 2b-8aafce77418402d23aebc0b461ec954ba7e77562-eb56308b38f26962-01
2021-11-23T06:37:52.624Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:37:52.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-c106690c7131bf10b53b7685f4a4075dfa916455-7ac352ac7f8d6481-01 outer:exit 2b-c106690c7131bf10b53b7685f4a4075dfa916455-3cdcde7ff2bfcd59-01
2021-11-23T06:37:52.626Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:37:52.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-872933dff011030a4c61ef9697cab8e2ed1433d7-2628c9b8332713f2-01 outer:exit 2b-872933dff011030a4c61ef9697cab8e2ed1433d7-cd5201dda1819b96-01
2021-11-23T06:37:52.629Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:37:52.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-e14982754471b06cce7f41bb3144d6161ac2c501-3fa896173a210e02-01 outer:exit 2b-e14982754471b06cce7f41bb3144d6161ac2c501-65c5dcb43a263baf-01
2021-11-23T06:37:52.631Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:37:52.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4c3b527c181499eb8c5de3c5d5d29fcf1507d80-b07b0c9a480cbee5-01 outer:exit 2b-c4c3b527c181499eb8c5de3c5d5d29fcf1507d80-84af58a7d8150e6d-01
2021-11-23T06:37:52.635Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:37:52.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d5964e7e3de6bb9bcfee514dd8d34725fbfebee-cf043b4d8fccd454-01 outer:exit 2b-8d5964e7e3de6bb9bcfee514dd8d34725fbfebee-d7f55c4465a0624f-01
2021-11-23T06:37:52.638Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:37:52.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-4978b7739cf550b6ea4875c583e77bd47d307100-b0aa86a2b37771a7-01 outer:exit 2b-4978b7739cf550b6ea4875c583e77bd47d307100-4125334135bd4659-01
2021-11-23T06:37:52.641Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:37:52.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-ada3c65197e875ed86fefd83d0bb2ec79ac0a2de-a2bc6401d4db508f-01 outer:exit 2b-ada3c65197e875ed86fefd83d0bb2ec79ac0a2de-8f626b91688d3d76-01
2021-11-23T06:37:52.644Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:37:52.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-e76a03b6e0410da460046fd2a98f970f2887e811-758540400384d809-01 outer:exit 2b-e76a03b6e0410da460046fd2a98f970f2887e811-45cd35f65b68ae92-01
2021-11-23T06:37:52.651Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:37:52.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-f223b465c5c9d735d1b3fe1fd8a50d95891d4100-32f115afdece084c-01 outer:exit 2b-f223b465c5c9d735d1b3fe1fd8a50d95891d4100-094efe063e814370-01
2021-11-23T06:37:52.658Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:37:52.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec323624cee438e2ec26a5290283e195ac54bbe3-7f1afcefeb2a22a0-01 outer:exit 2b-ec323624cee438e2ec26a5290283e195ac54bbe3-f8815aadee831c99-01
2021-11-23T06:37:52.668Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:37:52.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b9399743b7106f39eaa2c2d599ea0f1a8cce55a-42a95846003e2940-01 outer:exit 2b-0b9399743b7106f39eaa2c2d599ea0f1a8cce55a-2a579093233d0998-01
2021-11-23T06:37:52.675Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:37:52.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-c97df2244fef54f207da1af68908a21ce5e6e9b1-8eeccf599fdaad70-01 outer:exit 2b-c97df2244fef54f207da1af68908a21ce5e6e9b1-8c6fcf84ba1bde0b-01
2021-11-23T06:37:52.677Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:37:52.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e0cedbcb6279d2b2a7a6fd8b5a0a7b63d0d86c6-de05351569f79277-01 outer:exit 2b-1e0cedbcb6279d2b2a7a6fd8b5a0a7b63d0d86c6-8176608640438aa8-01
2021-11-23T06:37:52.681Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:37:52.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-32677dbd84b467a911e039c935104474468f2b3b-dc4dad85de70e0b3-01 outer:exit 2b-32677dbd84b467a911e039c935104474468f2b3b-5aedf8fba73d77d6-01
2021-11-23T06:37:52.689Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:37:52.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-7599ee8f96c87c9592f750dfc4f4c80e38d4f3db-39e2cf2cdc30d637-01 outer:exit 2b-7599ee8f96c87c9592f750dfc4f4c80e38d4f3db-fdb8325db03b23ec-01
2021-11-23T06:37:52.691Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:37:52.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0d7b445065be90faf636ad5540c515008412473-5c285bc18632a181-01 outer:exit 2b-c0d7b445065be90faf636ad5540c515008412473-70a19abcbd28afeb-01
2021-11-23T06:37:52.693Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:37:52.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-23f7c23c917749ed82506fdf4b2c3fcda188274f-cbcc84a05656fb8e-01 outer:exit 2b-23f7c23c917749ed82506fdf4b2c3fcda188274f-81c6a7eb725f62e7-01
2021-11-23T06:37:52.696Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:37:52.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-77121ee3fa8076bb153cef51fc5d226bdf4a8067-70a780de62304cff-01 outer:exit 2b-77121ee3fa8076bb153cef51fc5d226bdf4a8067-753d406382527fb6-01
2021-11-23T06:37:52.698Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:37:52.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-789367bc9b2b0088b77aafe7f41581eb68cbb41c-2082e45106a90605-01 outer:exit 2b-789367bc9b2b0088b77aafe7f41581eb68cbb41c-5fc6a5557302c8ea-01
2021-11-23T06:37:52.701Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:37:52.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-38782c3fc55f52898fc82503b9687d26ab92f1fe-fc750e1c0ca6d7a8-01 outer:exit 2b-38782c3fc55f52898fc82503b9687d26ab92f1fe-8c707939f77019a9-01
2021-11-23T06:37:52.714Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:37:52.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-0809d022891e4443ee06cb7f1d2814524d4250f0-5811785404186694-01 outer:exit 2b-0809d022891e4443ee06cb7f1d2814524d4250f0-160782564569f9d4-01
2021-11-23T06:37:52.723Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:37:52.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-78ad8bb95561c64c93b46eaada7a041ba3f32db6-975d04a30158a300-01 outer:exit 2b-78ad8bb95561c64c93b46eaada7a041ba3f32db6-c2f3a1cf23708fcd-01
2021-11-23T06:37:52.727Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:37:52.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b3d750d45ee8fc1149b9b8153c3bf5c7c7e3951-132c5b844b3cd5a5-01 outer:exit 2b-5b3d750d45ee8fc1149b9b8153c3bf5c7c7e3951-4fc1363063acd9bb-01
2021-11-23T06:37:52.730Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:37:52.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-17c0800f94261384b92a7354e6889de20e08bd03-393f4a25088f8cf4-01 outer:exit 2b-17c0800f94261384b92a7354e6889de20e08bd03-ec4499c827b7cc5c-01
2021-11-23T06:37:52.733Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:37:52.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe3e61c569b085c59e0aa386873de952b10e879c-ebede4ff7c5be72f-01 outer:exit 2b-fe3e61c569b085c59e0aa386873de952b10e879c-e53e717b9ffae94a-01
2021-11-23T06:37:52.762Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (381ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:00.440Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:00.441Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:00.441Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:00.442Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:00.514Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:00.700Z appoptics:patching patched crypto 
2021-11-23T06:38:00.723Z appoptics:patching patched https 
2021-11-23T06:38:00.724Z appoptics:patching patched http 
2021-11-23T06:38:00.781Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:00.782Z appoptics:patching patched fs 
2021-11-23T06:38:00.814Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v17.1.0)
2021-11-23T06:38:00.823Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2021-11-23T06:38:00.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9137f32be4a8b1e07acdf86691d0256127cc0cc-85df32653cc3e883-01 outer:exit 2b-d9137f32be4a8b1e07acdf86691d0256127cc0cc-d825ec32d9bb905c-01
2021-11-23T06:38:00.892Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:38:00.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-9709ef68070fd5bbff85c27da79980775c064724-544ad9df17e5214d-01 outer:exit 2b-9709ef68070fd5bbff85c27da79980775c064724-18ebac8180f6e3d5-01
2021-11-23T06:38:00.960Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:38:00.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d6982c03d70c38217e438f0e79b133f01ec1afd-cf5f790c6ffea84e-01 outer:exit 2b-3d6982c03d70c38217e438f0e79b133f01ec1afd-0009640cbd114ba6-01
2021-11-23T06:38:00.965Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:38:00.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-b10f9feeaa05eb4ac7d91fc3df09565dc0c8cc2e-767d643f55ff4dae-01 outer:exit 2b-b10f9feeaa05eb4ac7d91fc3df09565dc0c8cc2e-558f49180946c0d0-01
2021-11-23T06:38:00.968Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:38:00.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-f40e0548a1d723f0e937f7283a4bed47725da270-a4cd713aaa326e48-01 outer:exit 2b-f40e0548a1d723f0e937f7283a4bed47725da270-f95c047428936ad6-01
2021-11-23T06:38:00.974Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:38:00.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaf1a5456804488301c635c5cbfd7ac09f82a039-df85d1a6eee2fb86-01 outer:exit 2b-eaf1a5456804488301c635c5cbfd7ac09f82a039-316923275a60ea95-01
2021-11-23T06:38:00.977Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:38:00.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4ef59feca61d13be6ff506a63a264b038f1216a-cb388e348a22bee2-01 outer:exit 2b-c4ef59feca61d13be6ff506a63a264b038f1216a-27242f0fccfc9a57-01
2021-11-23T06:38:00.981Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:38:00.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d72217b6520ddd225db280057828c4627fe5f05-562d0482dc529a2d-01 outer:exit 2b-2d72217b6520ddd225db280057828c4627fe5f05-dcef8f739173d4bb-01
2021-11-23T06:38:00.984Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:38:00.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fba71bde8b04016acc8dae44dadb273cd02764b-8922107527bc35e8-01 outer:exit 2b-6fba71bde8b04016acc8dae44dadb273cd02764b-159f9c1acba23f75-01
2021-11-23T06:38:00.987Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:38:00.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f90dcfad02b79d1524be55f122082df4fde8599-40bc336099e3b663-01 outer:exit 2b-4f90dcfad02b79d1524be55f122082df4fde8599-6dbf96f35e5da0bd-01
2021-11-23T06:38:00.990Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:38:00.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-82ce1298efd5e7f56d2ab52468a84ddc21e41a1d-15818cd9e2779693-01 outer:exit 2b-82ce1298efd5e7f56d2ab52468a84ddc21e41a1d-950eae4cc07d818c-01
2021-11-23T06:38:00.995Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:38:01.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-d016eff17928a6e21ffd5591691711d94684fbb4-44ab8fc7dbbe729f-01 outer:exit 2b-d016eff17928a6e21ffd5591691711d94684fbb4-8fd6ea67f8a56dba-01
2021-11-23T06:38:01.002Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:38:01.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-108bf09ea01c2ff61c1dba9578655d6ea7781f2b-6ddd286a841d48e7-01 outer:exit 2b-108bf09ea01c2ff61c1dba9578655d6ea7781f2b-932d073f6a8e2d2d-01
2021-11-23T06:38:01.019Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:38:01.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bceaba65b48cf3b7b1b9447160538169d469a48-7149765394a4294b-01 outer:exit 2b-7bceaba65b48cf3b7b1b9447160538169d469a48-b139e5ccfacf418b-01
2021-11-23T06:38:01.061Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:38:01.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-451646dd2c814d284eaa705af38109c632ba732b-fed8b461642e9f9b-01 outer:exit 2b-451646dd2c814d284eaa705af38109c632ba732b-0a4ef757eceea7ab-01
2021-11-23T06:38:01.066Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:38:01.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-629509d6603b5c2c383c2c466b8a99459ae22dee-8d181f6181da296a-01 outer:exit 2b-629509d6603b5c2c383c2c466b8a99459ae22dee-604cbcb1ed6b5a6f-01
2021-11-23T06:38:01.069Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:38:01.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-c08f2efabd57cb271cb98ddac2c0fd27c114bf13-553d8947cad7ca6a-01 outer:exit 2b-c08f2efabd57cb271cb98ddac2c0fd27c114bf13-b0ef267542200a74-01
2021-11-23T06:38:01.073Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:38:01.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-259cb276741a84601955f151dffe8c6cf74e3326-845a305d70c47562-01 outer:exit 2b-259cb276741a84601955f151dffe8c6cf74e3326-a3d3133086f268fa-01
2021-11-23T06:38:01.076Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:38:01.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-13b2d28befe64c26bbbbf462d84c155842a1b0fa-be0f2221d1b859fd-01 outer:exit 2b-13b2d28befe64c26bbbbf462d84c155842a1b0fa-2dd5cff3e1a8b67c-01
2021-11-23T06:38:01.079Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:38:01.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-09b4891bd91910f493ec55ed8a68ce75c07133f7-244ca94bfea8c7b5-01 outer:exit 2b-09b4891bd91910f493ec55ed8a68ce75c07133f7-5148aaef1ff47ad9-01
2021-11-23T06:38:01.081Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:38:01.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-dddd271bd8e0029418ee238efabd84b77c470826-ea9cd6c41ce5fbd9-01 outer:exit 2b-dddd271bd8e0029418ee238efabd84b77c470826-ebf5806d4bfd663e-01
2021-11-23T06:38:01.085Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:38:01.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-05d723565bda542a428970eba044962d9b694061-c2dca663cf318520-01 outer:exit 2b-05d723565bda542a428970eba044962d9b694061-937c01d12482e672-01
2021-11-23T06:38:01.087Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:38:01.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-d70e9a285dd98be7548ce575a5f53b04aec0bd86-2bf6d8c7040cbb4b-01 outer:exit 2b-d70e9a285dd98be7548ce575a5f53b04aec0bd86-7b07f452244e4068-01
2021-11-23T06:38:01.091Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:38:01.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-07b5ae8b494b8b57c1e675b6cdfc1c97721f5dfe-7c4f0735d6b9f357-01 outer:exit 2b-07b5ae8b494b8b57c1e675b6cdfc1c97721f5dfe-6408f46aaf41efac-01
2021-11-23T06:38:01.095Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:38:01.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb18bbc2289949b54d7cc0209e6bac9e96f0f1b1-e4a7bdba2723f61a-01 outer:exit 2b-bb18bbc2289949b54d7cc0209e6bac9e96f0f1b1-0a77a6582df42d82-01
2021-11-23T06:38:01.097Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:38:01.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-57d183d1af0e6b33ec191b72c28fb2bf79af9f72-23f39ea20df9003a-01 outer:exit 2b-57d183d1af0e6b33ec191b72c28fb2bf79af9f72-43d1121f18e76333-01
2021-11-23T06:38:01.101Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:38:01.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a19036173cc541aa9ad0d68300870b9ace45f7e-cb21ad03771c2aa0-01 outer:exit 2b-1a19036173cc541aa9ad0d68300870b9ace45f7e-8558a53c89316ee8-01
2021-11-23T06:38:01.107Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:38:01.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-de3b48a2f0038530ed66f5cac8a6630a89745c77-242f54b78140fc54-01 outer:exit 2b-de3b48a2f0038530ed66f5cac8a6630a89745c77-93009dec85ca1649-01
2021-11-23T06:38:01.113Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:38:01.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f925edbd86202834ebace931be08e5eb74744e5-0630c09b85d31ec1-01 outer:exit 2b-9f925edbd86202834ebace931be08e5eb74744e5-97879d1e57462841-01
2021-11-23T06:38:01.124Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:38:01.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7a07e838ffc113b731231b5ed891b79f2200fd8-bcb7e7de7fc41841-01 outer:exit 2b-f7a07e838ffc113b731231b5ed891b79f2200fd8-07c74138a392df55-01
2021-11-23T06:38:01.131Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:38:01.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a702f809eab17370321a09d5a66b647f53384e3-b5d191f01638a226-01 outer:exit 2b-3a702f809eab17370321a09d5a66b647f53384e3-d5c1ed4cb26cbb26-01
2021-11-23T06:38:01.133Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:38:01.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-25eafd3b5b0a2dc59fc08abce1533e554a43fcfe-f3c0aafb4dfb0b44-01 outer:exit 2b-25eafd3b5b0a2dc59fc08abce1533e554a43fcfe-c5983978ac4c68fd-01
2021-11-23T06:38:01.136Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:38:01.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d23d19eda8564f289e98f39972297d658ccefff-2294acfe0bb81e97-01 outer:exit 2b-7d23d19eda8564f289e98f39972297d658ccefff-46f41e84ff25fc20-01
2021-11-23T06:38:01.143Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:38:01.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-7704268f0f231d6f2d187351cd1d21b177534506-068b7ea206487bcc-01 outer:exit 2b-7704268f0f231d6f2d187351cd1d21b177534506-1436e364492a9e0d-01
2021-11-23T06:38:01.146Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:38:01.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-721be0c5cb1c8edf0320cde81bf449f119c1c6ab-357074b47ba84ab5-01 outer:exit 2b-721be0c5cb1c8edf0320cde81bf449f119c1c6ab-fabe9ebcfcdf6fb9-01
2021-11-23T06:38:01.148Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:38:01.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-4db48fe096a5c01a8c9d2cce0f840562710fcb51-7cd38a240b5f156a-01 outer:exit 2b-4db48fe096a5c01a8c9d2cce0f840562710fcb51-dd564e209b48cb76-01
2021-11-23T06:38:01.151Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:38:01.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-c25b59c8fca1ecdc0590b764917dfc6ed54f260f-39e40bff9d1725a5-01 outer:exit 2b-c25b59c8fca1ecdc0590b764917dfc6ed54f260f-26cb5836c29742e5-01
2021-11-23T06:38:01.153Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:38:01.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-7adb949a5d3bb5c8af441a010dde2ed34317c4a9-7a4d2cd1bb3a58f1-01 outer:exit 2b-7adb949a5d3bb5c8af441a010dde2ed34317c4a9-5e5f0659f7926fc1-01
2021-11-23T06:38:01.155Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:38:01.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-84fc22963f4c3a2f67e3d648e062a86d4617171e-e7a3bd6018e2bcb1-01 outer:exit 2b-84fc22963f4c3a2f67e3d648e062a86d4617171e-3b9ab8961fdba892-01
2021-11-23T06:38:01.166Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:38:01.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-840c5445f262198affce3fee24798d7f39d4a3b7-d738311f434b863f-01 outer:exit 2b-840c5445f262198affce3fee24798d7f39d4a3b7-4efbe6a3d628596d-01
2021-11-23T06:38:01.179Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:38:01.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d4e0ab5e385b88c608c089a1d2bd1eafd358179-2ce22b571fd3e06e-01 outer:exit 2b-4d4e0ab5e385b88c608c089a1d2bd1eafd358179-f8cdbfe06a2c363d-01
2021-11-23T06:38:01.182Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:38:01.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b470ed45e356e38412782fcde941e28b0700df9-236dc3156955bac3-01 outer:exit 2b-2b470ed45e356e38412782fcde941e28b0700df9-485baf8b6ad8d043-01
2021-11-23T06:38:01.185Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:38:01.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-726d666cc0f8e982b157de07bcdaa392b01131ff-7f8bbfc3b0ed57c3-01 outer:exit 2b-726d666cc0f8e982b157de07bcdaa392b01131ff-9c683d627c8f4e07-01
2021-11-23T06:38:01.188Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:38:01.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ac1f6c20a046d01dfec2a5c990a58d356d399ec-5aa1623919ebe1ef-01 outer:exit 2b-2ac1f6c20a046d01dfec2a5c990a58d356d399ec-f66022470bf2e49a-01
2021-11-23T06:38:01.220Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (387ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:08.425Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:08.426Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:08.426Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:08.427Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:08.494Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:08.668Z appoptics:patching patched crypto 
2021-11-23T06:38:08.694Z appoptics:patching patched https 
2021-11-23T06:38:08.695Z appoptics:patching patched http 
2021-11-23T06:38:08.762Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:08.763Z appoptics:patching patched fs 
2021-11-23T06:38:08.806Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v17.1.0)
2021-11-23T06:38:08.818Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2021-11-23T06:38:08.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-de7b2f6840b90ce447a9bb9cb941d02bf993b337-6a04da92b6ee54c6-01 outer:exit 2b-de7b2f6840b90ce447a9bb9cb941d02bf993b337-90e7e08a0df90c01-01
2021-11-23T06:38:08.899Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:38:08.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-2548e1a88e8974bf699830404770e66d0ad016d6-c596288373876daf-01 outer:exit 2b-2548e1a88e8974bf699830404770e66d0ad016d6-7c1493b0514109b8-01
2021-11-23T06:38:08.950Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:38:08.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fea065cd6c32a7e2cdecb61bedb2564d5363b7f-5066be7727bff909-01 outer:exit 2b-2fea065cd6c32a7e2cdecb61bedb2564d5363b7f-81f24f82e50361a7-01
2021-11-23T06:38:08.955Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:38:08.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-68da0e6a4c2b44625c1444ccd271e8dac9660c92-b08dd3a550d491a7-01 outer:exit 2b-68da0e6a4c2b44625c1444ccd271e8dac9660c92-2974c99456388185-01
2021-11-23T06:38:08.960Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:38:08.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc6d55190f4afabf1adb1ca176ca5ab3748d641f-5a521c9130dcdfd6-01 outer:exit 2b-cc6d55190f4afabf1adb1ca176ca5ab3748d641f-e19b61d2624e7eff-01
2021-11-23T06:38:08.973Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:38:08.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1d6ca7fcb40bced1860ba529fc85f5f1883fb97-2da96c45ba0c5346-01 outer:exit 2b-c1d6ca7fcb40bced1860ba529fc85f5f1883fb97-2e0329026bbe0813-01
2021-11-23T06:38:08.977Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:38:08.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-02e2cb7d93b0e2c32cc1f9ed427c010df13a69f7-1530581ba6c6ae47-01 outer:exit 2b-02e2cb7d93b0e2c32cc1f9ed427c010df13a69f7-b7362b4dd8f00437-01
2021-11-23T06:38:08.984Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:38:08.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ad1eb82864b5b1836a0ca05bce8ba0eeda79c29-9eeb77cb3f14e78c-01 outer:exit 2b-3ad1eb82864b5b1836a0ca05bce8ba0eeda79c29-4f0ec866a528874d-01
2021-11-23T06:38:08.991Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:38:08.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b0d326b7a5b1b645916f33ea8f79d4e2695ffee-0e34f0b9f8b0b5b2-01 outer:exit 2b-5b0d326b7a5b1b645916f33ea8f79d4e2695ffee-b11eb250972f48af-01
2021-11-23T06:38:08.994Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:38:09.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-b08197e4efd92ae1e3df7239ceba7ca786ac59bd-0224200b4cb879ea-01 outer:exit 2b-b08197e4efd92ae1e3df7239ceba7ca786ac59bd-b805526cb2e269bb-01
2021-11-23T06:38:09.003Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:38:09.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bf5b74dc14b74f9b0804e836be21b874059b46d-e88c27b356d3f4b7-01 outer:exit 2b-7bf5b74dc14b74f9b0804e836be21b874059b46d-55c8432d2faa342c-01
2021-11-23T06:38:09.009Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:38:09.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-67b3e744921e8ecd04c9c751c401bb98c4e92b75-4976280eea95cfc7-01 outer:exit 2b-67b3e744921e8ecd04c9c751c401bb98c4e92b75-2a127c468ec2826c-01
2021-11-23T06:38:09.016Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:38:09.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1688d7e857e358ce892911ebd348a7e8682668b-f177e8ff98f3b268-01 outer:exit 2b-b1688d7e857e358ce892911ebd348a7e8682668b-180596f6902ded68-01
2021-11-23T06:38:09.038Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:38:09.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-62c050eee73d8d1c5dbd29e4f94030f1d25f03b0-217214777cb51f7d-01 outer:exit 2b-62c050eee73d8d1c5dbd29e4f94030f1d25f03b0-fc7b57b22d6e0bde-01
2021-11-23T06:38:09.113Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:38:09.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a0b5084f2b419ae79c67e76255ab65b8e8fdd03-97df34873db77eb3-01 outer:exit 2b-6a0b5084f2b419ae79c67e76255ab65b8e8fdd03-79d7ce4b345a1166-01
2021-11-23T06:38:09.117Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:38:09.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4cf0eb8ddb5dd1cba16332cab6337a0a95c7233-a4ab5cc85a5bae9f-01 outer:exit 2b-f4cf0eb8ddb5dd1cba16332cab6337a0a95c7233-c0e401a782fb19e0-01
2021-11-23T06:38:09.127Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:38:09.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c5e4ce332495d286ab53c67db35649da1424c8d-4af653f5711d331b-01 outer:exit 2b-6c5e4ce332495d286ab53c67db35649da1424c8d-b2cd81d9279c8f9a-01
2021-11-23T06:38:09.130Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:38:09.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-032c8870a3cf4136644fc94f2204841d870d1312-963d7d1aeae77567-01 outer:exit 2b-032c8870a3cf4136644fc94f2204841d870d1312-a56231f1806a0ba0-01
2021-11-23T06:38:09.135Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:38:09.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d485854e65d9c909f08839cd5a13ceac038e40b-9d23035972e85921-01 outer:exit 2b-0d485854e65d9c909f08839cd5a13ceac038e40b-9fe85c064602f133-01
2021-11-23T06:38:09.139Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:38:09.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-a698aa01613ee7dde627b14df66718393967c2de-f0a11b576fd9f6ca-01 outer:exit 2b-a698aa01613ee7dde627b14df66718393967c2de-ba21c63fbcafb6a9-01
2021-11-23T06:38:09.142Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:38:09.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe30536b4b904d0ab4b7cfa6e87b9e659064d151-55d59c3f0740a6a8-01 outer:exit 2b-fe30536b4b904d0ab4b7cfa6e87b9e659064d151-1d733901c5fd1514-01
2021-11-23T06:38:09.147Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:38:09.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3c9c7402a1c9c025b7445769b1621ef618227ca-20cdbb05547a82c4-01 outer:exit 2b-d3c9c7402a1c9c025b7445769b1621ef618227ca-d0afd972a5ba3c14-01
2021-11-23T06:38:09.149Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:38:09.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-9935663ffca942141040e6ec9f4de240ea1b9163-f77ca073bd039e78-01 outer:exit 2b-9935663ffca942141040e6ec9f4de240ea1b9163-ad65a126e5e044ee-01
2021-11-23T06:38:09.154Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:38:09.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-d050debd438b7a9cd30b0305c38217b160906bcb-b56a05b890786d36-01 outer:exit 2b-d050debd438b7a9cd30b0305c38217b160906bcb-5d6a5933b9c8cc1f-01
2021-11-23T06:38:09.161Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:38:09.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fe03ae31502977b6f87ccfa9768bc24b135414b-b71be15474b42b7f-01 outer:exit 2b-6fe03ae31502977b6f87ccfa9768bc24b135414b-f3658ed592927f9c-01
2021-11-23T06:38:09.164Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:38:09.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-7eb60329bcf9fd1475ebfa7f715a04049a222baf-5828d0f7e006c880-01 outer:exit 2b-7eb60329bcf9fd1475ebfa7f715a04049a222baf-63f625da372f2761-01
2021-11-23T06:38:09.168Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:38:09.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc51a7fda3d1f211b47ec941d7ffae9d6b72786a-042c07d73ef7406b-01 outer:exit 2b-dc51a7fda3d1f211b47ec941d7ffae9d6b72786a-cbaa612b0f95c163-01
2021-11-23T06:38:09.179Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:38:09.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eb3a05c8ccc992ee84e73df235f884c6a637166-b2aa7b3d1e0103de-01 outer:exit 2b-0eb3a05c8ccc992ee84e73df235f884c6a637166-6eb478997460cb8e-01
2021-11-23T06:38:09.188Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:38:09.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff13d07493d58995c99fdecb317e072804ad3d59-ccef6edaf2d790d0-01 outer:exit 2b-ff13d07493d58995c99fdecb317e072804ad3d59-35517416d14e636f-01
2021-11-23T06:38:09.202Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:38:09.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd79b01706899e83bc2ce5490185334db39387bf-dd9a4c00ab8a68fd-01 outer:exit 2b-cd79b01706899e83bc2ce5490185334db39387bf-289569048e33f658-01
2021-11-23T06:38:09.212Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:38:09.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f15ba880729472a0977e84e770c78fe2b15f249-4d9ea40cbf030849-01 outer:exit 2b-3f15ba880729472a0977e84e770c78fe2b15f249-c8c776990c0db1ee-01
2021-11-23T06:38:09.215Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:38:09.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6a860c1e0c1242f44d051916f254cdf59faa8e7-d5a66b03dc1ba94f-01 outer:exit 2b-d6a860c1e0c1242f44d051916f254cdf59faa8e7-2167f80839b3f5ba-01
2021-11-23T06:38:09.218Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:38:09.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd757b01090e532092fd6fb2dd9d02f441d1841d-e877cfc496e9ffc2-01 outer:exit 2b-cd757b01090e532092fd6fb2dd9d02f441d1841d-7b8da7fa9d098240-01
2021-11-23T06:38:09.228Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:38:09.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5949d43b80efab9c7b19690275e71e9b97b6a04-8f6274d800d75093-01 outer:exit 2b-d5949d43b80efab9c7b19690275e71e9b97b6a04-e7f402adddd65538-01
2021-11-23T06:38:09.231Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:38:09.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-0337aa8ae28ff266a401a1a022c30a50f2e5361f-385610d97a03028b-01 outer:exit 2b-0337aa8ae28ff266a401a1a022c30a50f2e5361f-64eef70654c6759a-01
2021-11-23T06:38:09.234Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:38:09.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fe8ed97a943262316c83926de8be7ae298c08de-db561ddaf306fc6f-01 outer:exit 2b-4fe8ed97a943262316c83926de8be7ae298c08de-26a822bfa61ade5c-01
2021-11-23T06:38:09.237Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:38:09.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-308b13df8be10ec9cabc37fe09f7dd6f7ff4e677-5442284b70244f8c-01 outer:exit 2b-308b13df8be10ec9cabc37fe09f7dd6f7ff4e677-f8296e8e40445068-01
2021-11-23T06:38:09.239Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:38:09.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-16850b165d4cba2e459503234b4279f4e7ea4d1a-313d9b95d6422cb8-01 outer:exit 2b-16850b165d4cba2e459503234b4279f4e7ea4d1a-1da4e81dae451f11-01
2021-11-23T06:38:09.242Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:38:09.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-142f993641b6203931b237e35028f8e46fde7ac9-267502e577a7590b-01 outer:exit 2b-142f993641b6203931b237e35028f8e46fde7ac9-4cf26f2ad117e75b-01
2021-11-23T06:38:09.257Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:38:09.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a651934989fbcdc16e9e1841751e985695e31d9-87bcec7d62a5a0c9-01 outer:exit 2b-3a651934989fbcdc16e9e1841751e985695e31d9-ad7a953ec2738742-01
2021-11-23T06:38:09.269Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:38:09.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-f79b5a3d45acc1a7f1d5c747c8dd94260ebbaae3-7a6ceb862ef361fc-01 outer:exit 2b-f79b5a3d45acc1a7f1d5c747c8dd94260ebbaae3-2a9ca8a78546831b-01
2021-11-23T06:38:09.273Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:38:09.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2088a4c69599443526cdd4ffa951a3b042595ca-a5a4cf70e93c11d6-01 outer:exit 2b-a2088a4c69599443526cdd4ffa951a3b042595ca-81fe5a80ed64dafd-01
2021-11-23T06:38:09.277Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:38:09.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-aced6ecbb53e68fedd4e25a44ce06943271302d6-6a020ed4be4f4653-01 outer:exit 2b-aced6ecbb53e68fedd4e25a44ce06943271302d6-e63bf1e7b6b81274-01
2021-11-23T06:38:09.281Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:38:09.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-503dbb44623d707e9af081fdef123187638a444c-6d56ce676a9e8868-01 outer:exit 2b-503dbb44623d707e9af081fdef123187638a444c-af122a096e9e5523-01
2021-11-23T06:38:09.329Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (500ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:16.833Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:16.834Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:16.834Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:16.834Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:16.921Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:17.091Z appoptics:patching patched crypto 
2021-11-23T06:38:17.113Z appoptics:patching patched https 
2021-11-23T06:38:17.114Z appoptics:patching patched http 
2021-11-23T06:38:17.175Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:17.176Z appoptics:patching patched fs 
2021-11-23T06:38:17.211Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v17.1.0)
2021-11-23T06:38:17.220Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2021-11-23T06:38:17.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-b55cc83e74681e906d41c09105f3ef1c4075247a-6078a990522718fd-01 outer:exit 2b-b55cc83e74681e906d41c09105f3ef1c4075247a-96945c31e2913435-01
2021-11-23T06:38:17.290Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:38:17.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-edb1d840dcc1cfeecf4a3c62806cad87defbc5ce-a380a7a9387bc5de-01 outer:exit 2b-edb1d840dcc1cfeecf4a3c62806cad87defbc5ce-eb69dec5c3fdb672-01
2021-11-23T06:38:17.348Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:38:17.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-355e96894f3da350455804bee9bfa823b3feeef8-88b0ec3e29f2f0ef-01 outer:exit 2b-355e96894f3da350455804bee9bfa823b3feeef8-4c457bbeb2ed94ee-01
2021-11-23T06:38:17.353Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:38:17.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-097e8f148e54e5b6e34bd848f2441c994a05844a-ca99b353db94b713-01 outer:exit 2b-097e8f148e54e5b6e34bd848f2441c994a05844a-de66ace36103ee8c-01
2021-11-23T06:38:17.356Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:38:17.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-c399ea5370a64bb506ce678b4420097050d09540-5ea2f6a10972af52-01 outer:exit 2b-c399ea5370a64bb506ce678b4420097050d09540-e4f4a9b271d8e637-01
2021-11-23T06:38:17.363Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:38:17.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ee7cce6591f38ac2ffca38d8881ae8b742c46f3-842bf4c0c7c81058-01 outer:exit 2b-9ee7cce6591f38ac2ffca38d8881ae8b742c46f3-c2f623bee769df83-01
2021-11-23T06:38:17.367Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:38:17.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1f5db519e70f1164038976f6a1987302e0ea483-1dfe6068acc3432a-01 outer:exit 2b-c1f5db519e70f1164038976f6a1987302e0ea483-51b7469ad2d995e4-01
2021-11-23T06:38:17.371Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:38:17.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a523df7e6f5763a7ae020bb68c54faa263e8b8b-d8878c668d451e2c-01 outer:exit 2b-9a523df7e6f5763a7ae020bb68c54faa263e8b8b-35330334f3e515a7-01
2021-11-23T06:38:17.374Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:38:17.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-4caefdd45ce1fdcbc709942ba570e9b44b690257-c21a0ca7be469511-01 outer:exit 2b-4caefdd45ce1fdcbc709942ba570e9b44b690257-0d2b9dbae7181b19-01
2021-11-23T06:38:17.378Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:38:17.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd7b9c31320f0add6f01c6252e95ad650044151b-eeffa0b009769c6e-01 outer:exit 2b-cd7b9c31320f0add6f01c6252e95ad650044151b-2f9991ed757c086c-01
2021-11-23T06:38:17.383Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:38:17.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-70a5ac9affd35a5c8a6cf1b4254e7fe6511c553f-6666dc50693b7929-01 outer:exit 2b-70a5ac9affd35a5c8a6cf1b4254e7fe6511c553f-3ed28b6ff0277ad1-01
2021-11-23T06:38:17.388Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:38:17.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-e069a63f2566b27d9c1fc847d42ed8f0145836c1-0f93a06ddbcca7bf-01 outer:exit 2b-e069a63f2566b27d9c1fc847d42ed8f0145836c1-fba7f60dd6721711-01
2021-11-23T06:38:17.395Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:38:17.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4b18112d315651dd26b02b7c05b3896d6ede404-4b4c8c4208a5e41d-01 outer:exit 2b-c4b18112d315651dd26b02b7c05b3896d6ede404-b6cb483a17bf8682-01
2021-11-23T06:38:17.417Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:38:17.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-bedf87dde0dac3e48c29e0d01ca91f0e798d7392-e90fa09d4f63ffd6-01 outer:exit 2b-bedf87dde0dac3e48c29e0d01ca91f0e798d7392-683d2e53ba58b901-01
2021-11-23T06:38:17.445Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:38:17.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-2afb73ed64a40768c7433fec278c88edd0feba54-bcdfaf05d2d852dd-01 outer:exit 2b-2afb73ed64a40768c7433fec278c88edd0feba54-ec2b78816186c23b-01
2021-11-23T06:38:17.449Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:38:17.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4f781d93a65859f5ecfca19c423c9fe17c705a7-3bb9cf452bda6d6d-01 outer:exit 2b-c4f781d93a65859f5ecfca19c423c9fe17c705a7-b2d7a075abe8da33-01
2021-11-23T06:38:17.452Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:38:17.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-c63a81ed8f215c32b251bd1f4375ff38f60f6c54-beb85990530fefc5-01 outer:exit 2b-c63a81ed8f215c32b251bd1f4375ff38f60f6c54-824754a33665f34f-01
2021-11-23T06:38:17.457Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:38:17.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-092e81a5dcd303fc0f6e65ca721001c1021fcf76-29007b2a44bde049-01 outer:exit 2b-092e81a5dcd303fc0f6e65ca721001c1021fcf76-d3621ad2e5437975-01
2021-11-23T06:38:17.460Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:38:17.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-133db5b40e6753077539835d51b53e5dedc7d6ee-aff583bbed34ae2f-01 outer:exit 2b-133db5b40e6753077539835d51b53e5dedc7d6ee-a419c62dba903df7-01
2021-11-23T06:38:17.463Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:38:17.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-1939c526151f53806e3bf9340193c14ebfc40e3b-eeb1a3b06aa3e742-01 outer:exit 2b-1939c526151f53806e3bf9340193c14ebfc40e3b-b593b3aab08df821-01
2021-11-23T06:38:17.466Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:38:17.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-aac7f17fb378b16188a686600240371123acf320-23a030d702a09d60-01 outer:exit 2b-aac7f17fb378b16188a686600240371123acf320-29d4d5417c2aaf0b-01
2021-11-23T06:38:17.472Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:38:17.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d889c50871762edd300f0aa15e7f77691127e28-d1829294a8c0b5c4-01 outer:exit 2b-2d889c50871762edd300f0aa15e7f77691127e28-54ff8bd6fd575d25-01
2021-11-23T06:38:17.475Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:38:17.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eedc2d26c8ac9b01ac8e596b85f5e3ea4e977e9-a860ca7ab63b4423-01 outer:exit 2b-3eedc2d26c8ac9b01ac8e596b85f5e3ea4e977e9-61e54ed0fc044d58-01
2021-11-23T06:38:17.480Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:38:17.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9b90b98bae4403465dab705c7ab861ad43ea09c-1cf8eaa6692bbb8c-01 outer:exit 2b-c9b90b98bae4403465dab705c7ab861ad43ea09c-eb9f313cda388ae0-01
2021-11-23T06:38:17.484Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:38:17.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffff39eb5cc050e1465d4a899dfa29c79134b15e-578fd340652d8f2a-01 outer:exit 2b-ffff39eb5cc050e1465d4a899dfa29c79134b15e-e0c5415322d7b0a4-01
2021-11-23T06:38:17.486Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:38:17.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-078be2f3525ace5d1aa12fc42b89e748c9fa086b-cf71d4bd0866d62b-01 outer:exit 2b-078be2f3525ace5d1aa12fc42b89e748c9fa086b-b92a5e599c4fd803-01
2021-11-23T06:38:17.489Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:38:17.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-b18c1655bdbb4ff9b531c8cda9f232ab0b962ce0-ba91df0225ee5855-01 outer:exit 2b-b18c1655bdbb4ff9b531c8cda9f232ab0b962ce0-5874ff794e80c598-01
2021-11-23T06:38:17.496Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:38:17.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-1319903c0e722b8cfe85323bfa71cda272525357-4943fe9d5bfe055e-01 outer:exit 2b-1319903c0e722b8cfe85323bfa71cda272525357-5253111ce8fc64a1-01
2021-11-23T06:38:17.502Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:38:17.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e7eaeeba1e220e4af0faeb16cc8c0af5e17c7e8-0dc89d9a6ba2925c-01 outer:exit 2b-9e7eaeeba1e220e4af0faeb16cc8c0af5e17c7e8-09820deacd07cfdc-01
2021-11-23T06:38:17.517Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:38:17.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f0b751e15ae2972ef68d9f04ee0d1eae8680450-9284d9c5311ecbb3-01 outer:exit 2b-9f0b751e15ae2972ef68d9f04ee0d1eae8680450-c7d6c04eb4faeddf-01
2021-11-23T06:38:17.525Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:38:17.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa6dced2c57417ad8d63ec9d58aca890e234ada5-e2a32861da90270f-01 outer:exit 2b-aa6dced2c57417ad8d63ec9d58aca890e234ada5-64e290cf98a9416b-01
2021-11-23T06:38:17.528Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:38:17.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-82d4c0b0f008f122014ee47336f9aef7a84be6fc-b823ba6440f71e41-01 outer:exit 2b-82d4c0b0f008f122014ee47336f9aef7a84be6fc-1e00c527ed384bea-01
2021-11-23T06:38:17.531Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:38:17.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-24dfb67e7173ca6708389ac675af902ec0610d21-ccb346f701addb21-01 outer:exit 2b-24dfb67e7173ca6708389ac675af902ec0610d21-209b10053993a899-01
2021-11-23T06:38:17.540Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:38:17.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-41526c6d0e8f6d46f94ce87278e7628badc19740-3cb51333ddcbdd6e-01 outer:exit 2b-41526c6d0e8f6d46f94ce87278e7628badc19740-7693ebc5eb336594-01
2021-11-23T06:38:17.543Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:38:17.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-555459ee4fcd03a487f9ff4133d2980f8792bcae-8d54e9e5abd99128-01 outer:exit 2b-555459ee4fcd03a487f9ff4133d2980f8792bcae-425cc9a873e3a06a-01
2021-11-23T06:38:17.545Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:38:17.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-0df6fc569afbfcb287b0f18d2cc83dda7554a98c-fc139ca6a10dfcf6-01 outer:exit 2b-0df6fc569afbfcb287b0f18d2cc83dda7554a98c-8a965a13c7171c71-01
2021-11-23T06:38:17.548Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:38:17.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-92232b4e30869abfa740fca689123e29ff7dd983-11c0638c6614981c-01 outer:exit 2b-92232b4e30869abfa740fca689123e29ff7dd983-0163bf33ad6ae169-01
2021-11-23T06:38:17.550Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:38:17.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d60611d901437d4220022553deb53db5cc2d308-41ca302b417e7506-01 outer:exit 2b-6d60611d901437d4220022553deb53db5cc2d308-affc8ca74963042e-01
2021-11-23T06:38:17.553Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:38:17.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e9e51208fb1afab787dbc912ef99cdfef8e77ff-3b79f07edc9b1e2f-01 outer:exit 2b-7e9e51208fb1afab787dbc912ef99cdfef8e77ff-b9472f2ab6d76903-01
2021-11-23T06:38:17.564Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:38:17.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ed2e8767cf3ebd4991afb8d32adbf07d6977ff8-25ae6b70d7804bf2-01 outer:exit 2b-1ed2e8767cf3ebd4991afb8d32adbf07d6977ff8-c2a56fc02e1cd3d3-01
2021-11-23T06:38:17.574Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:38:17.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-58d55619ba439953329b313013c297f1c37d0fe2-ef6d19fcd96f9905-01 outer:exit 2b-58d55619ba439953329b313013c297f1c37d0fe2-785ada8312a36fa4-01
2021-11-23T06:38:17.578Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:38:17.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f6d069dc5a1fd44b952d791d17602cd4d4177f3-6617494990b05ecb-01 outer:exit 2b-9f6d069dc5a1fd44b952d791d17602cd4d4177f3-31086777205aea84-01
2021-11-23T06:38:17.581Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:38:17.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-1200cdaa9625aa24b92c2702088b4ccddb8c51bb-496d156089f8e19e-01 outer:exit 2b-1200cdaa9625aa24b92c2702088b4ccddb8c51bb-780d54c5e06279f2-01
2021-11-23T06:38:17.586Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:38:17.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-f837110aa66058a6eab062f3147ff70a3a4b8f22-d9fcdf9b3a522721-01 outer:exit 2b-f837110aa66058a6eab062f3147ff70a3a4b8f22-49356dbeec0e36f6-01
2021-11-23T06:38:17.619Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (390ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:25.216Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:25.217Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:25.217Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:25.218Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:25.287Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:25.449Z appoptics:patching patched crypto 
2021-11-23T06:38:25.470Z appoptics:patching patched https 
2021-11-23T06:38:25.471Z appoptics:patching patched http 
2021-11-23T06:38:25.528Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:25.528Z appoptics:patching patched fs 
2021-11-23T06:38:25.558Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v17.1.0)
2021-11-23T06:38:25.567Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2021-11-23T06:38:25.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b3828cc131e68e347c8e93594bc5b46e28d9d06-f62187c6522957f3-01 outer:exit 2b-9b3828cc131e68e347c8e93594bc5b46e28d9d06-a6a7ab75188df2c0-01
2021-11-23T06:38:25.630Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:38:25.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-538dd785ab4ad149b43bcf28a9f9cf16369b365d-ef96ea3fdc0e0e2c-01 outer:exit 2b-538dd785ab4ad149b43bcf28a9f9cf16369b365d-ddf5999073064b84-01
2021-11-23T06:38:25.695Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:38:25.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-83ae7037df4f9b5b2c26b38a52f9ecc9e14923bc-ed2a0e0011c3577f-01 outer:exit 2b-83ae7037df4f9b5b2c26b38a52f9ecc9e14923bc-dec6552170662510-01
2021-11-23T06:38:25.699Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:38:25.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f7a05adaa099608fb17ac76850359d6654ec5cc-42be9291b3720692-01 outer:exit 2b-3f7a05adaa099608fb17ac76850359d6654ec5cc-6499bae629f8c06d-01
2021-11-23T06:38:25.703Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:38:25.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-321407461e5d1d41f91afad990c0dbf6c60ac487-b45a8dc42c8078ca-01 outer:exit 2b-321407461e5d1d41f91afad990c0dbf6c60ac487-1947d1ebfb73bba7-01
2021-11-23T06:38:25.708Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:38:25.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1b3d4797c2e873674d99239658bdf48453ccf90-bb5c9c451390cb04-01 outer:exit 2b-e1b3d4797c2e873674d99239658bdf48453ccf90-11b441a1ee5ac65e-01
2021-11-23T06:38:25.713Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:38:25.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-68de8336e1ab19dda70a3e07f019006f99080d0a-7b3af9ddeee4340f-01 outer:exit 2b-68de8336e1ab19dda70a3e07f019006f99080d0a-c330ee19594cc1a8-01
2021-11-23T06:38:25.717Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:38:25.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9c5d810745858883a1e3c2a5407fc1b1a2f79de-b2c5f518d8bd26ad-01 outer:exit 2b-c9c5d810745858883a1e3c2a5407fc1b1a2f79de-1f84b6adaa445f83-01
2021-11-23T06:38:25.721Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:38:25.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-e24dd58ac13c9dffdc3cc44252beb961ccfc9275-7e5cabddaf07681e-01 outer:exit 2b-e24dd58ac13c9dffdc3cc44252beb961ccfc9275-198b5ab133ee076a-01
2021-11-23T06:38:25.724Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:38:25.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f30712b5fcb6da7446c1083609a4b47528294af-af225cb1e5504144-01 outer:exit 2b-6f30712b5fcb6da7446c1083609a4b47528294af-71257b855a8fede5-01
2021-11-23T06:38:25.728Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:38:25.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-09369f32bfa294e6aca86748f16a1efd297f7ad0-7d142c74df1677f1-01 outer:exit 2b-09369f32bfa294e6aca86748f16a1efd297f7ad0-3b9a39cd7484a47c-01
2021-11-23T06:38:25.733Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:38:25.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-e87962b4b246ff8bcf5936ca5b45e18354360f4e-0b3718922ab6c28e-01 outer:exit 2b-e87962b4b246ff8bcf5936ca5b45e18354360f4e-ddc5828b7e779058-01
2021-11-23T06:38:25.742Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:38:25.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-b35198e5ff5e7c90bfb24bd4cc59ee24ed198e01-9ef7221466c7747a-01 outer:exit 2b-b35198e5ff5e7c90bfb24bd4cc59ee24ed198e01-889f9f80658e03ee-01
2021-11-23T06:38:25.760Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:38:25.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-62bd698b342cbf0ed2e3e0459064b0d7c0e1648d-5dbd8f5cb5e9fb36-01 outer:exit 2b-62bd698b342cbf0ed2e3e0459064b0d7c0e1648d-d52f96ba60c64eef-01
2021-11-23T06:38:25.794Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:38:25.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f3b759e94003cf5215a739f83f8dc5628bdf30f-a33ff46e82c59053-01 outer:exit 2b-2f3b759e94003cf5215a739f83f8dc5628bdf30f-dffed2faa57e39e8-01
2021-11-23T06:38:25.797Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:38:25.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f364a24f90f43f93ba3d1e161bbfb37ccd97817-e3b8f294525f5e33-01 outer:exit 2b-7f364a24f90f43f93ba3d1e161bbfb37ccd97817-c61c320fa92bb4c4-01
2021-11-23T06:38:25.800Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:38:25.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-c31b12dfc35bf061bb46eb1f8d18d869eeaf4a67-1bdafcd8d2bc3cc2-01 outer:exit 2b-c31b12dfc35bf061bb46eb1f8d18d869eeaf4a67-d249e256a4361f36-01
2021-11-23T06:38:25.804Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:38:25.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fdd5df3563895e1cb3e1a64dd85eb40e175b02b-5568e551b12f1bbe-01 outer:exit 2b-9fdd5df3563895e1cb3e1a64dd85eb40e175b02b-3230626a7d1edd1c-01
2021-11-23T06:38:25.807Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:38:25.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-a248af3d28c8fa2dd7083a429df23ba10a7b11ed-fa18a2e53cdd83a2-01 outer:exit 2b-a248af3d28c8fa2dd7083a429df23ba10a7b11ed-a5b1f00e9cdebe1e-01
2021-11-23T06:38:25.810Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:38:25.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-c631b843a0bb65b54f93cd514ab54e4b658f44a8-6c4d15e25a60a7d6-01 outer:exit 2b-c631b843a0bb65b54f93cd514ab54e4b658f44a8-f0ad378dba764b48-01
2021-11-23T06:38:25.813Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:38:25.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c8662eb33a48f5159abbd8d531a9660f93ad594-52bdf282c0861fdd-01 outer:exit 2b-2c8662eb33a48f5159abbd8d531a9660f93ad594-19cb63bfdb428ccb-01
2021-11-23T06:38:25.816Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:38:25.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-8151d3efbbe972b1cc6b448b168f9cdc7987d5d5-79a74e0b162cf635-01 outer:exit 2b-8151d3efbbe972b1cc6b448b168f9cdc7987d5d5-37e230d89b0bf16e-01
2021-11-23T06:38:25.819Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:38:25.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ac43704feaad71d2d24f5e57d6b832907b28376-2a27eb9f0a139d2e-01 outer:exit 2b-9ac43704feaad71d2d24f5e57d6b832907b28376-d434ec03035fab98-01
2021-11-23T06:38:25.823Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:38:25.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea25ca89afd26d220d9368aeab8fb57e485ba6d4-817b30422b8161b6-01 outer:exit 2b-ea25ca89afd26d220d9368aeab8fb57e485ba6d4-5830035f620a24d3-01
2021-11-23T06:38:25.827Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:38:25.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5d9835d2aef0ca25298718e1605943f9f80c9e4-b6d3f4911b7c81ca-01 outer:exit 2b-b5d9835d2aef0ca25298718e1605943f9f80c9e4-37f91682e09cf63f-01
2021-11-23T06:38:25.830Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:38:25.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2af231583097cb065beb133c65ff3a33f9a2c53-cabdaf7174bf8dd3-01 outer:exit 2b-c2af231583097cb065beb133c65ff3a33f9a2c53-be4b9dbbad33a784-01
2021-11-23T06:38:25.833Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:38:25.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e12a14085c50a5039829523bb595eef24cbb051-76b1d237068fd0b7-01 outer:exit 2b-2e12a14085c50a5039829523bb595eef24cbb051-561be0d0109527d7-01
2021-11-23T06:38:25.840Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:38:25.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-c553ea7616f336de7d8faffe4c23ee3b6b750d6c-a4dcd6d7a380087a-01 outer:exit 2b-c553ea7616f336de7d8faffe4c23ee3b6b750d6c-b16546455c0080ce-01
2021-11-23T06:38:25.846Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:38:25.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-48b952f8823fbd78bbd19f18c84fd32393255bbe-2fc45d206c3268dd-01 outer:exit 2b-48b952f8823fbd78bbd19f18c84fd32393255bbe-18e157562de8d04a-01
2021-11-23T06:38:25.857Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:38:25.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd4f1696b253c27b17e2d5a6ac7aafeb6ce6946e-6fcba08285c971ff-01 outer:exit 2b-fd4f1696b253c27b17e2d5a6ac7aafeb6ce6946e-87bf5b1335f11ba8-01
2021-11-23T06:38:25.865Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:38:25.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd988dbf8fcab70cab94c9d411c05268be40cff3-46734098181f8b3e-01 outer:exit 2b-cd988dbf8fcab70cab94c9d411c05268be40cff3-4424f4242777c785-01
2021-11-23T06:38:25.868Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:38:25.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-831618423b44b9374b6e758565a6909acdbb530e-9a5d4089c3ea7045-01 outer:exit 2b-831618423b44b9374b6e758565a6909acdbb530e-8d2a19baec994441-01
2021-11-23T06:38:25.872Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:38:25.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-9de36950b3b503a90a801424d0a757c0a8cdf4ea-9c1f233d9236ddad-01 outer:exit 2b-9de36950b3b503a90a801424d0a757c0a8cdf4ea-7c8d343adb8b32fa-01
2021-11-23T06:38:25.880Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:38:25.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-8823d694265f6eccd953128e23c18f1cdea96e35-1925ed560b096a19-01 outer:exit 2b-8823d694265f6eccd953128e23c18f1cdea96e35-5227a807df596d8c-01
2021-11-23T06:38:25.883Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:38:25.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-88f100f8d5f9cf50baf0f28046ae3e125bf9b144-ec4a0420acecda49-01 outer:exit 2b-88f100f8d5f9cf50baf0f28046ae3e125bf9b144-e1a3911363b92c2c-01
2021-11-23T06:38:25.885Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:38:25.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bde7bc07e36fc4fa045dd9230d5bf604cdce461-adda028d84bb1f9f-01 outer:exit 2b-4bde7bc07e36fc4fa045dd9230d5bf604cdce461-307dd27901c45497-01
2021-11-23T06:38:25.887Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:38:25.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b48f55df3356dc006d817d26d6b0ef410b06a7f-0a20e6d0d1e2dfbe-01 outer:exit 2b-5b48f55df3356dc006d817d26d6b0ef410b06a7f-92de33eb932983ab-01
2021-11-23T06:38:25.890Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:38:25.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b3f8d79087df84cadc38719d4ca73e8f885a8ab-7b45efefb7d6b9d8-01 outer:exit 2b-5b3f8d79087df84cadc38719d4ca73e8f885a8ab-57e42f18c2a4f6dd-01
2021-11-23T06:38:25.892Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:38:25.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-33a0fb33668194a0263fd26f3b4fe28b2991c5d0-0c44660eceaefc9b-01 outer:exit 2b-33a0fb33668194a0263fd26f3b4fe28b2991c5d0-1c6b9202419823e9-01
2021-11-23T06:38:25.907Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:38:25.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-99434dc60bda06d62f13a79461b0e155c4729967-57728e8837803ef8-01 outer:exit 2b-99434dc60bda06d62f13a79461b0e155c4729967-b217de1acae79eb5-01
2021-11-23T06:38:25.919Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:38:25.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2fd07f69bc648d1b900709d590fa10e9ca328f1-735840bd5798916f-01 outer:exit 2b-a2fd07f69bc648d1b900709d590fa10e9ca328f1-59cb35e470a97710-01
2021-11-23T06:38:25.922Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:38:25.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-42761c45f888b8e858cb96f032c17618950f5435-d8eb3d7ce39267be-01 outer:exit 2b-42761c45f888b8e858cb96f032c17618950f5435-e1b7cb3e1627f152-01
2021-11-23T06:38:25.925Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:38:25.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-88b70a861b61d6fccd1b720ff755e8f66d84f2a5-2128c3a93e09159a-01 outer:exit 2b-88b70a861b61d6fccd1b720ff755e8f66d84f2a5-9310d5f91ec5069e-01
2021-11-23T06:38:25.928Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:38:25.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-d252a11f217d57d63f3f1ad681d5a7cd48423fb3-170b989e231ec0e9-01 outer:exit 2b-d252a11f217d57d63f3f1ad681d5a7cd48423fb3-3118a4ac226f62bf-01
2021-11-23T06:38:25.963Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (386ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:33.303Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:33.303Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:33.303Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:33.304Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:33.372Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:33.537Z appoptics:patching patched crypto 
2021-11-23T06:38:33.558Z appoptics:patching patched https 
2021-11-23T06:38:33.559Z appoptics:patching patched http 
2021-11-23T06:38:33.612Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:33.613Z appoptics:patching patched fs 
2021-11-23T06:38:33.644Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v17.1.0)
2021-11-23T06:38:33.653Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2021-11-23T06:38:33.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-050fc7dadbb10335f39668d01dad167cabccdea2-bbcca60097be4c67-01 outer:exit 2b-050fc7dadbb10335f39668d01dad167cabccdea2-c20278703e322338-01
2021-11-23T06:38:33.733Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:38:33.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-6de85026e0525d408eae1bb4795a0252c13d05fb-2a9cc9876b6cd623-01 outer:exit 2b-6de85026e0525d408eae1bb4795a0252c13d05fb-d63af9745ffdf9e0-01
2021-11-23T06:38:33.801Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:38:33.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b185a283d1d94eb34b3d5e3f705eb62d020bad0-ee7fcc119c1deef0-01 outer:exit 2b-3b185a283d1d94eb34b3d5e3f705eb62d020bad0-e45139e520bc2f11-01
2021-11-23T06:38:33.806Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:38:33.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-5657bd3b70f6df96e59b7ac7f051df099428ef51-55cf6088356117ab-01 outer:exit 2b-5657bd3b70f6df96e59b7ac7f051df099428ef51-5927b6723dfba45c-01
2021-11-23T06:38:33.809Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:38:33.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0e4bd3b843bc497664a125a89aae0d53a19a972-02e69ddbb59e9942-01 outer:exit 2b-c0e4bd3b843bc497664a125a89aae0d53a19a972-336ebd386f7a9111-01
2021-11-23T06:38:33.818Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:38:33.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-d91fde9c508aed56f7c8d0ad446c02e9e83961d0-f1c1f331272c9308-01 outer:exit 2b-d91fde9c508aed56f7c8d0ad446c02e9e83961d0-cd03db4416365213-01
2021-11-23T06:38:33.822Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:38:33.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-50e9af00b3795a26ef589c242f3c4e9ba205bdf3-f5dff07b58a7636e-01 outer:exit 2b-50e9af00b3795a26ef589c242f3c4e9ba205bdf3-4ec669f7a9647958-01
2021-11-23T06:38:33.826Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:38:33.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e55086e72c9658eeba04f489d7fea2dfe4343a4-d081231c5a85da03-01 outer:exit 2b-5e55086e72c9658eeba04f489d7fea2dfe4343a4-f89c70fe107b30dc-01
2021-11-23T06:38:33.829Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:38:33.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0cb6d1bea272eaed7fbbce9a08acb3c0969375a-93a2febde3cb86c8-01 outer:exit 2b-f0cb6d1bea272eaed7fbbce9a08acb3c0969375a-e1968264d0f5d774-01
2021-11-23T06:38:33.833Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:38:33.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-114bb4b250956b71dc5c1409aeab7e6fdb3ec25b-1ae353199f8810a4-01 outer:exit 2b-114bb4b250956b71dc5c1409aeab7e6fdb3ec25b-a7bce5ad57297804-01
2021-11-23T06:38:33.838Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:38:33.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cfbdf3e57bd97fc86cc37d4419255cd92f828f5-ac8eaa8b6042140d-01 outer:exit 2b-0cfbdf3e57bd97fc86cc37d4419255cd92f828f5-3a6b3ceb5bc2c2b0-01
2021-11-23T06:38:33.843Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:38:33.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc4c0189a63ddc2456f63f8d8abb9b6724bf07fe-11d64b6f6e737daa-01 outer:exit 2b-cc4c0189a63ddc2456f63f8d8abb9b6724bf07fe-3cbbf89ff60af430-01
2021-11-23T06:38:33.851Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:38:33.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-38b2acfa7080939014346c6f6bd9ea401e38f7d3-44175fa3b7271bed-01 outer:exit 2b-38b2acfa7080939014346c6f6bd9ea401e38f7d3-bfa63a4b4a3ce737-01
2021-11-23T06:38:33.870Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:38:33.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ca8fc8b97eb279379f2f9fab735fd6efeeec9c1-4867768fb2c06c69-01 outer:exit 2b-5ca8fc8b97eb279379f2f9fab735fd6efeeec9c1-1992c9ba915ae579-01
2021-11-23T06:38:33.900Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:38:33.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-20aba73d3b1ccdb1b57bcfee9f4b248e442930b8-fde8cdf6d626dd4a-01 outer:exit 2b-20aba73d3b1ccdb1b57bcfee9f4b248e442930b8-d5e9e7c5f41549cf-01
2021-11-23T06:38:33.904Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:38:33.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-a06a69bdbafd53b53b20aaa3cb2e2eb8822355af-93208f85e4a1ba07-01 outer:exit 2b-a06a69bdbafd53b53b20aaa3cb2e2eb8822355af-b2ebc3b580252219-01
2021-11-23T06:38:33.907Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:38:33.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-af9e61a8702c48c8d20a7c9fa3e814940e1c102d-be1bff291321c0da-01 outer:exit 2b-af9e61a8702c48c8d20a7c9fa3e814940e1c102d-36835d93a6a2d4b1-01
2021-11-23T06:38:33.911Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:38:33.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed5ac579a61759251e3a5a5660974dab0d0bb736-f165fdf880b0aae7-01 outer:exit 2b-ed5ac579a61759251e3a5a5660974dab0d0bb736-58a969c41fbb9a8c-01
2021-11-23T06:38:33.914Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:38:33.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c05b39b62dabd19acbc56f558c499462f26dc14-268c2a0c6e73b0ad-01 outer:exit 2b-5c05b39b62dabd19acbc56f558c499462f26dc14-a3c8fe87d5229de7-01
2021-11-23T06:38:33.917Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:38:33.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b0712e14d4ee73aa3dde95851e32a5b728140ba-64e86b7cf8cd006b-01 outer:exit 2b-8b0712e14d4ee73aa3dde95851e32a5b728140ba-ca12a74d2859e46c-01
2021-11-23T06:38:33.920Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:38:33.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-1225185f1c46de131e76f2650b80b31fac813369-64af15ec1c575b2f-01 outer:exit 2b-1225185f1c46de131e76f2650b80b31fac813369-e985b18d178aedad-01
2021-11-23T06:38:33.923Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:38:33.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1c7797422efcc856d2337d0d5cb55468d41a017-7c732ee7c3c8aca3-01 outer:exit 2b-f1c7797422efcc856d2337d0d5cb55468d41a017-0f158614129abf9e-01
2021-11-23T06:38:33.926Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:38:33.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-af5a213a24ffe2df28b72cf5c162b4749aea899c-a354afd65ae26523-01 outer:exit 2b-af5a213a24ffe2df28b72cf5c162b4749aea899c-f971d80ec2aebecb-01
2021-11-23T06:38:33.930Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:38:33.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-faad69701ed2504b9712021beb5300bba919cdbf-67be766bdd0692aa-01 outer:exit 2b-faad69701ed2504b9712021beb5300bba919cdbf-d7ccc9363f2aed13-01
2021-11-23T06:38:33.933Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:38:33.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d76f70113c893e479851a8458b21986f7e59d7e-d75d064a662a9ccb-01 outer:exit 2b-7d76f70113c893e479851a8458b21986f7e59d7e-88edcab415c6d67d-01
2021-11-23T06:38:33.936Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:38:33.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-fafcd492dba44690c72f46b5c685d408cc9adf03-467a12f5b3301808-01 outer:exit 2b-fafcd492dba44690c72f46b5c685d408cc9adf03-0d7fd6e7a3a8bd4f-01
2021-11-23T06:38:33.939Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:38:33.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-2defb10df88b8b5aeb233789a63133da46c158c4-3e3fba754e8a11cf-01 outer:exit 2b-2defb10df88b8b5aeb233789a63133da46c158c4-3336aa2724ae5b92-01
2021-11-23T06:38:33.945Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:38:33.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0eeef22da98d51a989e02639eabf17d69631f8d-7c8c80fcd45144f1-01 outer:exit 2b-e0eeef22da98d51a989e02639eabf17d69631f8d-3aabf8c7e081e67e-01
2021-11-23T06:38:33.952Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:38:33.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-92a8a8c6c0ef28a41fa74c1ae2d494bd1e3d5158-12a876c88df8cafa-01 outer:exit 2b-92a8a8c6c0ef28a41fa74c1ae2d494bd1e3d5158-167d0b52a2f03b74-01
2021-11-23T06:38:33.966Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:38:33.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-13dc447983ee611e9e9cfd8b91b1c28a22e5b8c4-42eb998490d036f2-01 outer:exit 2b-13dc447983ee611e9e9cfd8b91b1c28a22e5b8c4-27c382cb525f5674-01
2021-11-23T06:38:33.973Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:38:33.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b03778c72611f9d432dfc02cb48ea45796fcd22-33990fe9717203c7-01 outer:exit 2b-6b03778c72611f9d432dfc02cb48ea45796fcd22-d0012b8ef8c49ae1-01
2021-11-23T06:38:33.976Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:38:33.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-400297ebaa69249b38e78cd07aee827f57e1c54f-f3b36d590718a64a-01 outer:exit 2b-400297ebaa69249b38e78cd07aee827f57e1c54f-d4343426621683f1-01
2021-11-23T06:38:33.980Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:38:33.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-42626fd1e2b63673b4592be93654db8ded9eda22-00b0249ba6fa4108-01 outer:exit 2b-42626fd1e2b63673b4592be93654db8ded9eda22-2255edf49195952a-01
2021-11-23T06:38:33.988Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:38:33.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2acb14d7be37adb2425df2fc6c33cdb65ebd083-e3d2d6bb15f7d8bb-01 outer:exit 2b-f2acb14d7be37adb2425df2fc6c33cdb65ebd083-900dba3477006af2-01
2021-11-23T06:38:33.991Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:38:33.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-58ca2c1a5db2a1469cda628fd23a007fac96d60b-61ef03992d1791c0-01 outer:exit 2b-58ca2c1a5db2a1469cda628fd23a007fac96d60b-eaa436d3af966666-01
2021-11-23T06:38:33.993Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:38:33.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4b249fefd78b5200647797d1db8fa723aa51297-5c5dfa663c700135-01 outer:exit 2b-e4b249fefd78b5200647797d1db8fa723aa51297-64561b2eda7bbfba-01
2021-11-23T06:38:33.996Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:38:33.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-92cc181a993c336da895402ff32fef4ccc306666-6e27d66def7bb772-01 outer:exit 2b-92cc181a993c336da895402ff32fef4ccc306666-f33ff14aa29a1e50-01
2021-11-23T06:38:33.998Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:38:34.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c413c27b8302ce28fb4b092388ed9f4197ca567-c7ad84348425524f-01 outer:exit 2b-6c413c27b8302ce28fb4b092388ed9f4197ca567-a52ec5f1f86f8f67-01
2021-11-23T06:38:34.001Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:38:34.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7bc20a0971a42985dcb5105574f5344ab73e130-0b95954e35112465-01 outer:exit 2b-f7bc20a0971a42985dcb5105574f5344ab73e130-451a51ea67820f68-01
2021-11-23T06:38:34.013Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:38:34.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bd13e7d437181cc85ad3adfc80371325d958ae7-02b48b9289e48a42-01 outer:exit 2b-7bd13e7d437181cc85ad3adfc80371325d958ae7-b6ea28152510421e-01
2021-11-23T06:38:34.023Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:38:34.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d4a85e9ba5a50236f30d90d5f1c6a73770d0201-befdb420b78ec89a-01 outer:exit 2b-3d4a85e9ba5a50236f30d90d5f1c6a73770d0201-76f813e5eb45f127-01
2021-11-23T06:38:34.026Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:38:34.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-0892e6b0d399e529b61ee4c753d01ebf40f97687-c76e3ccd2fb8fb1f-01 outer:exit 2b-0892e6b0d399e529b61ee4c753d01ebf40f97687-43866597ff8e2a90-01
2021-11-23T06:38:34.030Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:38:34.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-248aeba2498a45aea40ad32ceee942be52b55c32-dff788fe7af4f750-01 outer:exit 2b-248aeba2498a45aea40ad32ceee942be52b55c32-f38ae1f678f2886e-01
2021-11-23T06:38:34.033Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:38:34.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad28503bf9c1103b3a232360f247c55a4518f63d-bfbf3bf767fc42ab-01 outer:exit 2b-ad28503bf9c1103b3a232360f247c55a4518f63d-39f61242f72cfd88-01
2021-11-23T06:38:34.067Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (405ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:41.685Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:41.686Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:41.686Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:41.687Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:41.751Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:41.906Z appoptics:patching patched crypto 
2021-11-23T06:38:41.930Z appoptics:patching patched https 
2021-11-23T06:38:41.930Z appoptics:patching patched http 
2021-11-23T06:38:41.984Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:41.985Z appoptics:patching patched fs 
2021-11-23T06:38:42.017Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v17.1.0)
2021-11-23T06:38:42.026Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2021-11-23T06:38:42.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3d1a7e867ef8b216c423de768e00e7c5d822170-ab78822d77e64864-01 outer:exit 2b-d3d1a7e867ef8b216c423de768e00e7c5d822170-9c0b83efadf5d5ec-01
2021-11-23T06:38:42.092Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:38:42.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eceb6e80799216af588c588224e49117a942598-bdb806fe08f88ed6-01 outer:exit 2b-9eceb6e80799216af588c588224e49117a942598-474484b4c40fe903-01
2021-11-23T06:38:42.154Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:38:42.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-fce9094041e22d518297cfdbb370eb349226df59-992fdc71c408f8a9-01 outer:exit 2b-fce9094041e22d518297cfdbb370eb349226df59-f643d07a198c800d-01
2021-11-23T06:38:42.158Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:38:42.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-5175c97185a9c87ceb70c4c5b76e65eae6ab939e-fe559c1359e7b1de-01 outer:exit 2b-5175c97185a9c87ceb70c4c5b76e65eae6ab939e-ef7c0b932721c718-01
2021-11-23T06:38:42.161Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:38:42.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b0fa1d0cdbf923d6d8b00cb97fe44a965445e40-132cb708c367c56e-01 outer:exit 2b-5b0fa1d0cdbf923d6d8b00cb97fe44a965445e40-dcc228de9f323f56-01
2021-11-23T06:38:42.168Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:38:42.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-47bc2e62b604ab505f119897bb5c2b9fe83bbf5f-ad6600248e00df84-01 outer:exit 2b-47bc2e62b604ab505f119897bb5c2b9fe83bbf5f-0cba443da8d64eb4-01
2021-11-23T06:38:42.172Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:38:42.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-511fc3ca0c1c72539f03d85afc99ec9f2cf82a4a-e945da9639bc4010-01 outer:exit 2b-511fc3ca0c1c72539f03d85afc99ec9f2cf82a4a-459b1bd271a6c4e1-01
2021-11-23T06:38:42.175Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:38:42.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-aac45e840c034ad5c8bbea375a7b988178fac35e-d2586305c6bca80f-01 outer:exit 2b-aac45e840c034ad5c8bbea375a7b988178fac35e-4799e42a7db82bc1-01
2021-11-23T06:38:42.179Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:38:42.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-db693a0042c20bb968d1367f8f3190e54f1f1daa-2ff3f3dba189596b-01 outer:exit 2b-db693a0042c20bb968d1367f8f3190e54f1f1daa-eea1450e6917c9f3-01
2021-11-23T06:38:42.182Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:38:42.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-52a4cff5868c187001a24004a8941de84ce5adb8-c1e1e7de08d8b85a-01 outer:exit 2b-52a4cff5868c187001a24004a8941de84ce5adb8-5e885196bf04bfed-01
2021-11-23T06:38:42.186Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:38:42.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-fac4f41759e4ae82301c2ee4fc532bb3388e7465-1e8021febc4dfbab-01 outer:exit 2b-fac4f41759e4ae82301c2ee4fc532bb3388e7465-04fe0274ccd432bf-01
2021-11-23T06:38:42.191Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:38:42.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-04240279dc59c2565b11db57302a0ef27595588b-5bf34f6cd349f584-01 outer:exit 2b-04240279dc59c2565b11db57302a0ef27595588b-2b08114752b387fb-01
2021-11-23T06:38:42.198Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:38:42.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-08c902cb9cb8d7daccef481d799b2b1f0065de65-921c143c0264a1b2-01 outer:exit 2b-08c902cb9cb8d7daccef481d799b2b1f0065de65-dbd0c35b6e0969e9-01
2021-11-23T06:38:42.215Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:38:42.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd7d20758ec81916d1b8fd5d2b1f66f71426c73b-38176443cc7d1ea8-01 outer:exit 2b-fd7d20758ec81916d1b8fd5d2b1f66f71426c73b-f196fdb15c2d7f93-01
2021-11-23T06:38:42.253Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:38:42.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-e666b599d03489e12ac2748ebe0554af8dfdcedf-233e6ad1ee2f7c5e-01 outer:exit 2b-e666b599d03489e12ac2748ebe0554af8dfdcedf-5090f2aa55d3407a-01
2021-11-23T06:38:42.256Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:38:42.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-b357adb5e56765196e1a2b445fe5caf75da64a0e-e7be4bd14bdfa563-01 outer:exit 2b-b357adb5e56765196e1a2b445fe5caf75da64a0e-96becefa2ca1356f-01
2021-11-23T06:38:42.259Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:38:42.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-b35510ca59b31ef02aee632b44b2332c2ec2ed8a-c77a320958367f87-01 outer:exit 2b-b35510ca59b31ef02aee632b44b2332c2ec2ed8a-42325da0afcc794e-01
2021-11-23T06:38:42.261Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:38:42.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-b84c9414599123cf4a61cb8ce7940896a395a3b6-47b3a396793b90a3-01 outer:exit 2b-b84c9414599123cf4a61cb8ce7940896a395a3b6-3747f8e71037fc19-01
2021-11-23T06:38:42.264Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:38:42.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-61f29dff77a37d20eb4207225a7d9d43df698af4-d4f8aeed634b86e8-01 outer:exit 2b-61f29dff77a37d20eb4207225a7d9d43df698af4-e83ad19693f320e8-01
2021-11-23T06:38:42.267Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:38:42.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea866b8a8f8c263b96ec1a543cd91ba28989f156-845e74528267cfe5-01 outer:exit 2b-ea866b8a8f8c263b96ec1a543cd91ba28989f156-55acefbf569a367b-01
2021-11-23T06:38:42.269Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:38:42.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f2ac12b5cbbff72a5d8a70491706f03b9eeba32-477573a13e49949a-01 outer:exit 2b-5f2ac12b5cbbff72a5d8a70491706f03b9eeba32-7aec6811e38b8b48-01
2021-11-23T06:38:42.272Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:38:42.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d5e93e671507c8f1151a35ef214f83b29dee21b-9819363459016115-01 outer:exit 2b-7d5e93e671507c8f1151a35ef214f83b29dee21b-f7bc292dfa7e90bd-01
2021-11-23T06:38:42.275Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:38:42.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-417a8814367999fd8d8fba87f0ac01c3d694bacd-fab010f272b69952-01 outer:exit 2b-417a8814367999fd8d8fba87f0ac01c3d694bacd-1a7588853202766a-01
2021-11-23T06:38:42.279Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:38:42.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad78dcebf93dda1bb0b52e0edf516ebda4fc38ba-45ccf239db8191a0-01 outer:exit 2b-ad78dcebf93dda1bb0b52e0edf516ebda4fc38ba-25016cf6578f8388-01
2021-11-23T06:38:42.282Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:38:42.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e21e494b189ff02179bc3a16f91f2e849b5ca88-4f5a467805585ab9-01 outer:exit 2b-4e21e494b189ff02179bc3a16f91f2e849b5ca88-22439568d86464fe-01
2021-11-23T06:38:42.285Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:38:42.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-77717b55ae22e5dc247027813ae713c9e128de3a-2e318ee827bccfc8-01 outer:exit 2b-77717b55ae22e5dc247027813ae713c9e128de3a-25bdad6b0977f008-01
2021-11-23T06:38:42.288Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:38:42.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d8f32ae3d59b6f6f20877791bfa59ef64bf42c1-7bc077fce5b3b61e-01 outer:exit 2b-8d8f32ae3d59b6f6f20877791bfa59ef64bf42c1-c34a6304b4862970-01
2021-11-23T06:38:42.295Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:38:42.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-4594af2da7d11d15fb2ccfb78759cf319bf4c324-b3c3724ee1ff8cb4-01 outer:exit 2b-4594af2da7d11d15fb2ccfb78759cf319bf4c324-ca6abd9cf23032e5-01
2021-11-23T06:38:42.302Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:38:42.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf407c9d8f634cd389952d195d98652dc4fc2671-315524d7a1334c9d-01 outer:exit 2b-bf407c9d8f634cd389952d195d98652dc4fc2671-bad9f2e49daa5e69-01
2021-11-23T06:38:42.313Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:38:42.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-866aec7a774214328599ee84ed5488e018f83164-f27e8a8a0b95b8c8-01 outer:exit 2b-866aec7a774214328599ee84ed5488e018f83164-6c5360ada11e2857-01
2021-11-23T06:38:42.320Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:38:42.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bdad2ecc50312fdfe75d4de53b0a96256c72aae-ada467ca1606c5ee-01 outer:exit 2b-4bdad2ecc50312fdfe75d4de53b0a96256c72aae-fb16d391d23634ce-01
2021-11-23T06:38:42.323Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:38:42.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-61b665ae6b2aa4a0d4dadfa48d6e4f53d2ac4727-db5b4482439d8ea1-01 outer:exit 2b-61b665ae6b2aa4a0d4dadfa48d6e4f53d2ac4727-ab643134ef30b55d-01
2021-11-23T06:38:42.327Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:38:42.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-23071639c336055247d8d01c7a8f30c0743a3c12-198255d70105c114-01 outer:exit 2b-23071639c336055247d8d01c7a8f30c0743a3c12-f3b0dbbff6812138-01
2021-11-23T06:38:42.346Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:38:42.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e6635e532f3b20a7d2d748c87d2af89db57901b-31d2b4da92c18926-01 outer:exit 2b-1e6635e532f3b20a7d2d748c87d2af89db57901b-58c81d1d5d8e1fe6-01
2021-11-23T06:38:42.350Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:38:42.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e1f0b9a03b2538cd1740c48eb56a582e51f3155-eef244b1abfe90cc-01 outer:exit 2b-5e1f0b9a03b2538cd1740c48eb56a582e51f3155-dd0c2059069e6718-01
2021-11-23T06:38:42.354Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:38:42.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9030b3f741e10d51b6667d13c4cb2589761d569-42f84d5e5ac70997-01 outer:exit 2b-d9030b3f741e10d51b6667d13c4cb2589761d569-fabd5d64f1762f60-01
2021-11-23T06:38:42.357Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:38:42.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5acaf87eacb6144fc7a737c59edd8806e8d2598-e233a13e894a5f56-01 outer:exit 2b-e5acaf87eacb6144fc7a737c59edd8806e8d2598-d84c3e8bcc6f086c-01
2021-11-23T06:38:42.360Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:38:42.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d71e36ce407fa3819dcc9037b60a1df85c53680-8b31ab3d6f6a1137-01 outer:exit 2b-9d71e36ce407fa3819dcc9037b60a1df85c53680-0af7246262a97a81-01
2021-11-23T06:38:42.369Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:38:42.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-d233896e9e44e3a17da06de2867cb05ac4a7ede7-da29f3542850553c-01 outer:exit 2b-d233896e9e44e3a17da06de2867cb05ac4a7ede7-ce2f9c5ed2166154-01
2021-11-23T06:38:42.379Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:38:42.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-db21f8180badcce16ad26693c0a4cabf2478aed6-27f8785e63073a49-01 outer:exit 2b-db21f8180badcce16ad26693c0a4cabf2478aed6-e02d5103301b9cec-01
2021-11-23T06:38:42.390Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:38:42.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3adf843a8cc8fff96cc90d0e28e3259aa073d12-da5c3d46ac24d329-01 outer:exit 2b-e3adf843a8cc8fff96cc90d0e28e3259aa073d12-7512495038392e6d-01
2021-11-23T06:38:42.394Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:38:42.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c6dc2a03c05f8869ceeaeba8b335287c1bcdeb1-724fc85b4d9cfc6d-01 outer:exit 2b-1c6dc2a03c05f8869ceeaeba8b335287c1bcdeb1-9432b17b0471e315-01
2021-11-23T06:38:42.397Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:38:42.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-76b81a01000be4ec814da4791fc466771abca8ca-1cd8f905511cafcc-01 outer:exit 2b-76b81a01000be4ec814da4791fc466771abca8ca-79b90a0037defaff-01
2021-11-23T06:38:42.400Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:38:42.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-c47205826b7dd91e829ab8f329e578ae4dabe295-a4f79398b0ee23dd-01 outer:exit 2b-c47205826b7dd91e829ab8f329e578ae4dabe295-471609538f0a461b-01
2021-11-23T06:38:42.432Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (396ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:50.322Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:50.323Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:50.323Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:50.324Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:50.408Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:50.605Z appoptics:patching patched crypto 
2021-11-23T06:38:50.625Z appoptics:patching patched https 
2021-11-23T06:38:50.626Z appoptics:patching patched http 
2021-11-23T06:38:50.685Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:50.685Z appoptics:patching patched fs 
2021-11-23T06:38:50.721Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v17.1.0)
2021-11-23T06:38:50.729Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2021-11-23T06:38:50.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c6f53dc7c692cd629c7417dd96960b92a324852-8d6ac67a780a9288-01 outer:exit 2b-2c6f53dc7c692cd629c7417dd96960b92a324852-6632f628c904b28b-01
2021-11-23T06:38:50.798Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:38:50.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-f77b01769e08afee32e527b5e32c02ea1ef1db69-31e13586873e07f1-01 outer:exit 2b-f77b01769e08afee32e527b5e32c02ea1ef1db69-0cba685c04f279c4-01
2021-11-23T06:38:50.856Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:38:50.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-225fdae09bffb8d93792e595eaeabcbce6ca86e6-3a6046d1d9ee809f-01 outer:exit 2b-225fdae09bffb8d93792e595eaeabcbce6ca86e6-6d729307aa78adc9-01
2021-11-23T06:38:50.860Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:38:50.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-251447610ca4c84dab7824900f5d0fac5b1d9165-3958f4d1614d615a-01 outer:exit 2b-251447610ca4c84dab7824900f5d0fac5b1d9165-b6b47908f10dcce1-01
2021-11-23T06:38:50.866Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:38:50.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-b27f07e0b3e2a82c5fe03792f12c7d1e379a29ce-3111a30849f3726b-01 outer:exit 2b-b27f07e0b3e2a82c5fe03792f12c7d1e379a29ce-99ae0c7e211dcd6c-01
2021-11-23T06:38:50.875Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:38:50.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-18533095e47cab3bcbe340136bb7a2d9bcc976f0-f350b5ac786bf694-01 outer:exit 2b-18533095e47cab3bcbe340136bb7a2d9bcc976f0-e0975236702ec626-01
2021-11-23T06:38:50.883Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:38:50.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-10514a39027663e34f364bc8578ce0669750e38a-d8699e29c70af020-01 outer:exit 2b-10514a39027663e34f364bc8578ce0669750e38a-20ffcb0e0496c5ba-01
2021-11-23T06:38:50.886Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:38:50.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-3390c0671d8c7e01adbf9c3d8597078ea62e2466-b328ad2d0fd7d315-01 outer:exit 2b-3390c0671d8c7e01adbf9c3d8597078ea62e2466-fff8e5324a025793-01
2021-11-23T06:38:50.895Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:38:50.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-13dc2551defc458af4a7849f9fccb801747ffa1a-b41825a7be0b95be-01 outer:exit 2b-13dc2551defc458af4a7849f9fccb801747ffa1a-866ba1775821ebf9-01
2021-11-23T06:38:50.901Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:38:50.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-66ed37bd8d06ca2b6a18f0df2c86275becbb5f8f-cc0f23584f4e7dad-01 outer:exit 2b-66ed37bd8d06ca2b6a18f0df2c86275becbb5f8f-6508ba02547ccfa8-01
2021-11-23T06:38:50.907Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:38:50.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-c762f50329d9a107383d7c9840f39db861d35073-44ce7404d32033f4-01 outer:exit 2b-c762f50329d9a107383d7c9840f39db861d35073-c241d5d876c91f82-01
2021-11-23T06:38:50.911Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:38:50.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-da666b2260982aee5a03366fc8c03a7a891b553a-e79d099379b9f360-01 outer:exit 2b-da666b2260982aee5a03366fc8c03a7a891b553a-1974528678789b08-01
2021-11-23T06:38:50.922Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:38:50.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1563626fb2ff1065df92c522688d8c10db26758-1d7941cf68a9ed0e-01 outer:exit 2b-d1563626fb2ff1065df92c522688d8c10db26758-eae665c776245375-01
2021-11-23T06:38:50.946Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:38:51.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cbd4dc83b300fc446d64cc4d71c162c8b06fb55-acaf5102368784b3-01 outer:exit 2b-4cbd4dc83b300fc446d64cc4d71c162c8b06fb55-9c7b35f40e97cbbe-01
2021-11-23T06:38:51.010Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:38:51.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-84bd4b73acc88bb6fdfe680fbedeff7e360d7b21-19ac6b230770417c-01 outer:exit 2b-84bd4b73acc88bb6fdfe680fbedeff7e360d7b21-77cd34aa46231153-01
2021-11-23T06:38:51.014Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:38:51.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a9851f97e2d544c263eaeff41f25d1607a026c1-4c7ae5c88b186d0c-01 outer:exit 2b-1a9851f97e2d544c263eaeff41f25d1607a026c1-c46d19d7a75a2aa2-01
2021-11-23T06:38:51.017Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:38:51.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d710bb872857435d5dd72aa0b67f44182c95b58-848c7d4baef7d376-01 outer:exit 2b-7d710bb872857435d5dd72aa0b67f44182c95b58-3f54f6ac7c1b7ff6-01
2021-11-23T06:38:51.021Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:38:51.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-a01a523c50a2f1abaf5d094ebafcd6de85c89165-9f593996cbaaea44-01 outer:exit 2b-a01a523c50a2f1abaf5d094ebafcd6de85c89165-a2eebe58082e018f-01
2021-11-23T06:38:51.025Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:38:51.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7ec43c5b2d97677d17b3da0359378ec64789639-621fe869c1d6b6a5-01 outer:exit 2b-c7ec43c5b2d97677d17b3da0359378ec64789639-6cc5b586c68416ab-01
2021-11-23T06:38:51.028Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:38:51.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-259c5c5beb94e53b84bb376a92afceceedeef2ee-5b617fc8e1a6f22d-01 outer:exit 2b-259c5c5beb94e53b84bb376a92afceceedeef2ee-0870f43091dc4f96-01
2021-11-23T06:38:51.031Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:38:51.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-20eea44eb31d3c9bb5e7a77ebd1936636adaa623-3a56d5bcb41b0953-01 outer:exit 2b-20eea44eb31d3c9bb5e7a77ebd1936636adaa623-fe7ab2687aae9b0f-01
2021-11-23T06:38:51.034Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:38:51.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-8521bad32c88704a2a99220222ead9b7c8357cc8-f89c7ef08d0d447e-01 outer:exit 2b-8521bad32c88704a2a99220222ead9b7c8357cc8-1e8aaba3456955de-01
2021-11-23T06:38:51.043Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:38:51.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-f60f70c6bf503386094511bef36f03e1ceb13965-9003f6718819470d-01 outer:exit 2b-f60f70c6bf503386094511bef36f03e1ceb13965-8eb2c5c73086112c-01
2021-11-23T06:38:51.048Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:38:51.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-52380cc0b5befdb7b7dae8292045b91d80aae795-06f049fe34f6841d-01 outer:exit 2b-52380cc0b5befdb7b7dae8292045b91d80aae795-3f4698befe682750-01
2021-11-23T06:38:51.051Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:38:51.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-89b2c0663a24d8a47db6412ea0c6f10d90e60f6e-a19e720407ca0230-01 outer:exit 2b-89b2c0663a24d8a47db6412ea0c6f10d90e60f6e-13d21f56dcc6096b-01
2021-11-23T06:38:51.054Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:38:51.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-32c9b4d18b2b634c8d98982bd4bd9f73f62c6766-25b1b1f3e086a53c-01 outer:exit 2b-32c9b4d18b2b634c8d98982bd4bd9f73f62c6766-823176aa998773b5-01
2021-11-23T06:38:51.057Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:38:51.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-46a4c99bd43207b5b16bd25945d821aac38ba076-7f8ac76513178cd1-01 outer:exit 2b-46a4c99bd43207b5b16bd25945d821aac38ba076-c316220cebbc8129-01
2021-11-23T06:38:51.065Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:38:51.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-4def5ee1f26fea0f266abe4dad58a0bacfcfad3e-dfb387a6058bde08-01 outer:exit 2b-4def5ee1f26fea0f266abe4dad58a0bacfcfad3e-bd8a97f739cefb79-01
2021-11-23T06:38:51.073Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:38:51.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-4603763b4c518dedd4031eb912c33b6d7e348b6e-90a7a3705430a28a-01 outer:exit 2b-4603763b4c518dedd4031eb912c33b6d7e348b6e-07155e5a34be1dd0-01
2021-11-23T06:38:51.084Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:38:51.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdb452dfb978277ae55b709870523f8385b66dea-d7e04d1c9ebaa069-01 outer:exit 2b-cdb452dfb978277ae55b709870523f8385b66dea-38fbe2b3bdead35b-01
2021-11-23T06:38:51.092Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:38:51.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-33056b4c01b1b1d8ada11d26e2817541dbb1273d-7c67aa82788d3f44-01 outer:exit 2b-33056b4c01b1b1d8ada11d26e2817541dbb1273d-9289956b750bcba6-01
2021-11-23T06:38:51.094Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:38:51.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-d884dd740a9ecb208730a7b6c7d9ed4a5615c70e-66cf81fefb391045-01 outer:exit 2b-d884dd740a9ecb208730a7b6c7d9ed4a5615c70e-77ad780d8df9c2fe-01
2021-11-23T06:38:51.098Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:38:51.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-a97821ff7ba9ca6c5ea215e6bc649383f7928dff-1c37838135cde756-01 outer:exit 2b-a97821ff7ba9ca6c5ea215e6bc649383f7928dff-87f975cb09bcafdc-01
2021-11-23T06:38:51.107Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:38:51.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7f7a5e220df1bf2d3055e442c5149cb2fe5b926-d3ff5d3ecf8f99fe-01 outer:exit 2b-b7f7a5e220df1bf2d3055e442c5149cb2fe5b926-8647cf52a119f854-01
2021-11-23T06:38:51.109Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:38:51.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-a54865652afb7f5ceed644f24c5bc157eff98421-3590b29e73c1c698-01 outer:exit 2b-a54865652afb7f5ceed644f24c5bc157eff98421-c0066cf32baef89a-01
2021-11-23T06:38:51.112Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:38:51.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-0374d5a8f368e373cb34996e722ff9e528b58d1f-183662f8fae5d072-01 outer:exit 2b-0374d5a8f368e373cb34996e722ff9e528b58d1f-9b041739eef57fc2-01
2021-11-23T06:38:51.114Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:38:51.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f7f22fac4817db74177e5830b59af164d211e8e-3b0743bec067623e-01 outer:exit 2b-2f7f22fac4817db74177e5830b59af164d211e8e-3bc7f10d4f1c341f-01
2021-11-23T06:38:51.117Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:38:51.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b2b6def13d99517feb2b6e4b7f44dce3a92c206-9ad5926cf86e0770-01 outer:exit 2b-1b2b6def13d99517feb2b6e4b7f44dce3a92c206-643955e75b81b7f9-01
2021-11-23T06:38:51.119Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:38:51.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-96d7f2658bab582e0093fd805467b0e9ac3008be-df65af3299ff80d4-01 outer:exit 2b-96d7f2658bab582e0093fd805467b0e9ac3008be-d71d6252f9136d79-01
2021-11-23T06:38:51.134Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:38:51.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-1af0d3f7b3c2bd1201bbfe13da5768c031fae1b7-eb8fe10160b0f05a-01 outer:exit 2b-1af0d3f7b3c2bd1201bbfe13da5768c031fae1b7-d5d16d4aa3cfc1ae-01
2021-11-23T06:38:51.148Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:38:51.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7204d3951ababc749b0b2d59d84802ddcef9306-e1a055d4016bca4a-01 outer:exit 2b-f7204d3951ababc749b0b2d59d84802ddcef9306-211313d810606db2-01
2021-11-23T06:38:51.152Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:38:51.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-827d980a91ee8109ad3612cb4cb6afae625def39-af78a6e85dabdc31-01 outer:exit 2b-827d980a91ee8109ad3612cb4cb6afae625def39-a812aa5e55c870f7-01
2021-11-23T06:38:51.155Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:38:51.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd8d10bd9013c51022ff5712ec473a596950295a-ad145b843ef8543e-01 outer:exit 2b-dd8d10bd9013c51022ff5712ec473a596950295a-a94a2f1ec683e451-01
2021-11-23T06:38:51.159Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:38:51.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-692656ac35973bee099dc29a1e2ee2fca55aaecf-9f6cb4608588b7b1-01 outer:exit 2b-692656ac35973bee099dc29a1e2ee2fca55aaecf-66730f58c7bed9de-01
2021-11-23T06:38:51.192Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (453ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:58.052Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:58.052Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:58.052Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:58.053Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:58.122Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:58.278Z appoptics:patching patched crypto 
2021-11-23T06:38:58.300Z appoptics:patching patched https 
2021-11-23T06:38:58.300Z appoptics:patching patched http 
2021-11-23T06:38:58.357Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:58.357Z appoptics:patching patched fs 
2021-11-23T06:38:58.388Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v17.1.0)
2021-11-23T06:38:58.399Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2021-11-23T06:38:58.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bbccb2434d3901ef47af6a8511eff647b9634cf-b3784b93529efc79-01 outer:exit 2b-2bbccb2434d3901ef47af6a8511eff647b9634cf-eebefa2cfabb1a95-01
2021-11-23T06:38:58.479Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:38:58.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e2240a982bcd759386fa10ed469b17ceab8bc13-f5d78604b6656801-01 outer:exit 2b-9e2240a982bcd759386fa10ed469b17ceab8bc13-1393540e6ae5d264-01
2021-11-23T06:38:58.511Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:38:58.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-31c55a97203c5d0e3f2f91e395f9f5543f26f84e-06f7358c95d14959-01 outer:exit 2b-31c55a97203c5d0e3f2f91e395f9f5543f26f84e-fc1dcbada3003b8a-01
2021-11-23T06:38:58.517Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:38:58.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c2b1bd5a0bf4f7e487be27884f0258efb961178-106c16832a02d4b8-01 outer:exit 2b-7c2b1bd5a0bf4f7e487be27884f0258efb961178-d185513fa8c616a4-01
2021-11-23T06:38:58.521Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:38:58.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-94ac54e924df326372f4bcaa44b9210d25e9667e-b90f119b66bcd343-01 outer:exit 2b-94ac54e924df326372f4bcaa44b9210d25e9667e-6eb775a4a5b3ff08-01
2021-11-23T06:38:58.528Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:38:58.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc985617e56dc3a7b624d1226574792e6667f956-fac87e8a552e3a90-01 outer:exit 2b-bc985617e56dc3a7b624d1226574792e6667f956-c4ee0ebdc9a0866c-01
2021-11-23T06:38:58.536Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:38:58.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f80fb3357ed48a906eead891293a75f3cc479b6-46ebe1b489f51e12-01 outer:exit 2b-5f80fb3357ed48a906eead891293a75f3cc479b6-aa879c824f7b0ff6-01
2021-11-23T06:38:58.539Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:38:58.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fe7505ba63228b3f7b367cb4d305bce1b3c9717-aac6e762f2ce5e20-01 outer:exit 2b-5fe7505ba63228b3f7b367cb4d305bce1b3c9717-23124cb385722e52-01
2021-11-23T06:38:58.543Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:38:58.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf76a6fe9b09aec1f8b476c2523deb14390422d7-fac216832aedd966-01 outer:exit 2b-cf76a6fe9b09aec1f8b476c2523deb14390422d7-aef2308d98cde6dc-01
2021-11-23T06:38:58.547Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:38:58.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-afbb90d03d141f387e5f5179707b97ae4647b9c3-3f1734aa0ee96497-01 outer:exit 2b-afbb90d03d141f387e5f5179707b97ae4647b9c3-3d5fb9f13869ac33-01
2021-11-23T06:38:58.552Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:38:58.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-56aa8766dbee76080929aa126fc09a87ce2599f5-278b7bbd2a9e6d45-01 outer:exit 2b-56aa8766dbee76080929aa126fc09a87ce2599f5-d605ab5f48f5ae0b-01
2021-11-23T06:38:58.558Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:38:58.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-f958e07745b6c03059241b48c644a625dc32d5f8-1841f78439345df9-01 outer:exit 2b-f958e07745b6c03059241b48c644a625dc32d5f8-ef1fb4debda23aae-01
2021-11-23T06:38:58.565Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:38:58.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1f3507c80e0691744feb79df335bc93c5851b60-b3627afaaf45ee8e-01 outer:exit 2b-d1f3507c80e0691744feb79df335bc93c5851b60-c7bc28f66a70aa11-01
2021-11-23T06:38:58.584Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:38:58.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-798406957aec34e37fa23c0f14f21b560f2841df-cbedbc2739adadad-01 outer:exit 2b-798406957aec34e37fa23c0f14f21b560f2841df-67e81ade9f59174f-01
2021-11-23T06:38:58.609Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:38:58.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-c212adb2678c3263acc36be98475ad78f56677ee-245f8bb871514d92-01 outer:exit 2b-c212adb2678c3263acc36be98475ad78f56677ee-c76a18bab998e3cb-01
2021-11-23T06:38:58.613Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:38:58.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-c15b8e5b7d054f5e53e79bd5b4952e2552419ceb-eadddb3e81653d36-01 outer:exit 2b-c15b8e5b7d054f5e53e79bd5b4952e2552419ceb-79e4a75fe07a9555-01
2021-11-23T06:38:58.616Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:38:58.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c1af91fa327b80474dcea5538b9fa8a1f470676-2caae1dda90b16d3-01 outer:exit 2b-2c1af91fa327b80474dcea5538b9fa8a1f470676-3ceaeb61ece54962-01
2021-11-23T06:38:58.619Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:38:58.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a7441a99d820eefcbd9a7b40fa39987053127bd-c2779bd255acfb65-01 outer:exit 2b-0a7441a99d820eefcbd9a7b40fa39987053127bd-0e3edcddb5c52dae-01
2021-11-23T06:38:58.623Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:38:58.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa358f2c91032c6174670c5caa5860aaadc7e5a6-21617e7545151835-01 outer:exit 2b-fa358f2c91032c6174670c5caa5860aaadc7e5a6-7f42cd5f72cb092e-01
2021-11-23T06:38:58.626Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:38:58.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-3449fcc041c0f15a18a0cb1d23a88623ecfca700-818926815bcf7cf9-01 outer:exit 2b-3449fcc041c0f15a18a0cb1d23a88623ecfca700-d4477b5b98565e23-01
2021-11-23T06:38:58.629Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:38:58.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc646298a6e46e72d2753f7eb1716095319b2428-405ba0b81d313fa3-01 outer:exit 2b-bc646298a6e46e72d2753f7eb1716095319b2428-cd6423f34b223e04-01
2021-11-23T06:38:58.633Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:38:58.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-386fd692dd2a844c5043251d18aba5e2b58bfab0-bbd57d54668047bc-01 outer:exit 2b-386fd692dd2a844c5043251d18aba5e2b58bfab0-b170f74d99c6e1a7-01
2021-11-23T06:38:58.636Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:38:58.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1203ed0f868b7ac4e0ae92bdc4c7de3bb15e497-e3820e5a3f4e0918-01 outer:exit 2b-f1203ed0f868b7ac4e0ae92bdc4c7de3bb15e497-9aaef20b7bc3a69b-01
2021-11-23T06:38:58.640Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:38:58.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdb4a8e111f906c360dba5cac5c9590207630a11-ed6a8dd4934c6c3c-01 outer:exit 2b-bdb4a8e111f906c360dba5cac5c9590207630a11-2fde8902189db7c9-01
2021-11-23T06:38:58.644Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:38:58.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-c632d32296e7f824689a884a2d101eece887deb4-330e47864ca68e6c-01 outer:exit 2b-c632d32296e7f824689a884a2d101eece887deb4-c0cbd81a4fee32a8-01
2021-11-23T06:38:58.648Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:38:58.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-69d78499eaeb2034ab0ba70a7817794eaa7274cd-fa0f7fc233857381-01 outer:exit 2b-69d78499eaeb2034ab0ba70a7817794eaa7274cd-237369c3dc81327e-01
2021-11-23T06:38:58.651Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:38:58.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe0590a66989fa85b80b5af1856e231bf5c1c0bf-9c0ae59ffd7527e3-01 outer:exit 2b-fe0590a66989fa85b80b5af1856e231bf5c1c0bf-e869ddc70024673a-01
2021-11-23T06:38:58.659Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:38:58.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0ffe68335e4c6bc443af55ec3e68bb63ee331a5-ae0ba4d6226304a8-01 outer:exit 2b-d0ffe68335e4c6bc443af55ec3e68bb63ee331a5-162d8a2f6c096935-01
2021-11-23T06:38:58.666Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:38:58.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-8995bd1c8ac0b6f82b08d0c9ecfcd72fb9a4f9f5-6d6056f0bfbcb3b1-01 outer:exit 2b-8995bd1c8ac0b6f82b08d0c9ecfcd72fb9a4f9f5-e054addcfd589320-01
2021-11-23T06:38:58.679Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:38:58.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-edb6f385d44a397abe2cfb4fc9959884a7e49ca4-f781447d1262d6f8-01 outer:exit 2b-edb6f385d44a397abe2cfb4fc9959884a7e49ca4-d7ab997fe07f8bac-01
2021-11-23T06:38:58.687Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:38:58.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a4f10958cbc2860e8addf4c22042e8979ece06f-ffdfbb3080559fa3-01 outer:exit 2b-3a4f10958cbc2860e8addf4c22042e8979ece06f-1925a67c23c932c5-01
2021-11-23T06:38:58.689Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:38:58.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ab04e34a615646ab7d7a2e12bdac844047a2a7e-250d6dce97156746-01 outer:exit 2b-8ab04e34a615646ab7d7a2e12bdac844047a2a7e-f1ee9d7259e65314-01
2021-11-23T06:38:58.694Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:38:58.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-a29e96c9ea41e9edcfa8c97ed570a02bf4e36961-35d17155ff9742ae-01 outer:exit 2b-a29e96c9ea41e9edcfa8c97ed570a02bf4e36961-9a0a8053bc4b74c2-01
2021-11-23T06:38:58.707Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:38:58.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-e22b5cbe51a4689cea2639b742fb4803fb2d445d-ddbbb5678e17391e-01 outer:exit 2b-e22b5cbe51a4689cea2639b742fb4803fb2d445d-fe0c5741097616af-01
2021-11-23T06:38:58.710Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:38:58.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-6556029a305e0e60844e0dfd6d3c5a44ea78caa4-0d0a1bcfc40687ad-01 outer:exit 2b-6556029a305e0e60844e0dfd6d3c5a44ea78caa4-cfab3be9d31e2407-01
2021-11-23T06:38:58.713Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:38:58.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-aed9d1957b718ffed91abbaab7f256c1c75f2e4c-0ff55b64337f21f6-01 outer:exit 2b-aed9d1957b718ffed91abbaab7f256c1c75f2e4c-8c95af69d763b978-01
2021-11-23T06:38:58.716Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:38:58.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3f952fa2cbc3e7e001ea1684cfadcd8965075d8-ed93765dc8b4ecca-01 outer:exit 2b-b3f952fa2cbc3e7e001ea1684cfadcd8965075d8-edd6d3bd63c904ab-01
2021-11-23T06:38:58.718Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:38:58.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-999be04db86a8361b49470f3007bddd954df6d9e-9bb7a936ce335ed7-01 outer:exit 2b-999be04db86a8361b49470f3007bddd954df6d9e-e8593fad91dfb7bb-01
2021-11-23T06:38:58.722Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:38:58.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ddc829dcecdc5804336be4cb8d9d74813e3b12d-0afdc1134c71ac0e-01 outer:exit 2b-3ddc829dcecdc5804336be4cb8d9d74813e3b12d-bdc1f76997a2de1c-01
2021-11-23T06:38:58.736Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:38:58.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-e242c9d274100f7416e1936a7e399ea5cc562213-96429b6b3e813696-01 outer:exit 2b-e242c9d274100f7416e1936a7e399ea5cc562213-661ca7eaf2c17ad5-01
2021-11-23T06:38:58.749Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:38:58.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-0121bc0df2dff8c1530e14c64e91d9bef3e3f95c-6a6cc1440250c869-01 outer:exit 2b-0121bc0df2dff8c1530e14c64e91d9bef3e3f95c-f649ca05eb887c4a-01
2021-11-23T06:38:58.755Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:38:58.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-60186ec1d3d3e4c806b927d142cb0cb197c2e0f0-8fad525deb98ae77-01 outer:exit 2b-60186ec1d3d3e4c806b927d142cb0cb197c2e0f0-fbc46df113916032-01
2021-11-23T06:38:58.759Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:38:58.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-72d6902f06e49eefac4ca3d0ef9fcea965f5e9e8-957a4d8e59fba1b8-01 outer:exit 2b-72d6902f06e49eefac4ca3d0ef9fcea965f5e9e8-8a24bfa9dc2bb282-01
2021-11-23T06:38:58.767Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:38:58.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-58f6a57c61f8c5396df327db29e01afcf2f1bd1f-adc3a401c641093a-01 outer:exit 2b-58f6a57c61f8c5396df327db29e01afcf2f1bd1f-04f7b401c2db5607-01
2021-11-23T06:38:58.807Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (398ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:06.953Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:06.954Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:06.954Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:06.955Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:07.026Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:07.190Z appoptics:patching patched crypto 
2021-11-23T06:39:07.211Z appoptics:patching patched https 
2021-11-23T06:39:07.211Z appoptics:patching patched http 
2021-11-23T06:39:07.270Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:07.270Z appoptics:patching patched fs 
2021-11-23T06:39:07.303Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v17.1.0)
2021-11-23T06:39:07.313Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2021-11-23T06:39:07.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-78a0f5629597fe8d7a2cbf9e8a2f47109e4b3323-1bc1fa92b9529dd4-01 outer:exit 2b-78a0f5629597fe8d7a2cbf9e8a2f47109e4b3323-13cc6a5f28dbf3a8-01
2021-11-23T06:39:07.378Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:39:07.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-854036578a3377aa40420630188b37ca6e0d1c42-d252916391e9f184-01 outer:exit 2b-854036578a3377aa40420630188b37ca6e0d1c42-98970e92f249999b-01
2021-11-23T06:39:07.414Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:39:07.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-f971da8f51676fda99e025de34828c9664603a16-24d70fde8ee63892-01 outer:exit 2b-f971da8f51676fda99e025de34828c9664603a16-bb7b1cf655ba8f9e-01
2021-11-23T06:39:07.418Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:39:07.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-d41209f02c3035d5b0aa01960d686f02c8388036-f0b134be339a2c95-01 outer:exit 2b-d41209f02c3035d5b0aa01960d686f02c8388036-4b7de897ac405d68-01
2021-11-23T06:39:07.422Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:39:07.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff8f3a0ec5cd33fe4a1b784dafc329116661bd65-dea8af246e9be731-01 outer:exit 2b-ff8f3a0ec5cd33fe4a1b784dafc329116661bd65-15a04e602d7fe200-01
2021-11-23T06:39:07.428Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:39:07.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-66f59434d3092d7f5ca03f8bb17597018b3f200f-f62a5bf9b4cb9a2c-01 outer:exit 2b-66f59434d3092d7f5ca03f8bb17597018b3f200f-2e1b7d8b97f46d46-01
2021-11-23T06:39:07.432Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:39:07.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-317ac959f39a47f0863e5d68865f7268db21a58a-667ae5fb8b1f1dc7-01 outer:exit 2b-317ac959f39a47f0863e5d68865f7268db21a58a-3800451368d100c0-01
2021-11-23T06:39:07.435Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:39:07.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-42b9b5c177ce9c235521dd34ec3e650c845db72a-6bc73dea6bdcdfa2-01 outer:exit 2b-42b9b5c177ce9c235521dd34ec3e650c845db72a-3501db80e295c7a5-01
2021-11-23T06:39:07.439Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:39:07.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe4aa4c5fedcd42884b4281597d685ba65606495-72d3e5bcc4cbb979-01 outer:exit 2b-fe4aa4c5fedcd42884b4281597d685ba65606495-bb667eb52168508c-01
2021-11-23T06:39:07.442Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:39:07.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-19bdc74812946090ae6c438a5a1196d1f6263333-9cfceacf715e03f8-01 outer:exit 2b-19bdc74812946090ae6c438a5a1196d1f6263333-c3eca45f81ac9d8e-01
2021-11-23T06:39:07.447Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:39:07.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c3ba14efd77ca0d91a6f3e80c1b735254d6080c-c3e5e12ebbb09fdb-01 outer:exit 2b-7c3ba14efd77ca0d91a6f3e80c1b735254d6080c-b8ab7201e5a195fe-01
2021-11-23T06:39:07.452Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:39:07.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-d02b9a7b8a14ccc5e7c57af09019b02ce436ce55-75dd33d9cb4e7d09-01 outer:exit 2b-d02b9a7b8a14ccc5e7c57af09019b02ce436ce55-d8d7236298692b8e-01
2021-11-23T06:39:07.460Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:39:07.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-546b4117f839770a4d31e47bac914aa5361f92f1-7851c64b534c4ff2-01 outer:exit 2b-546b4117f839770a4d31e47bac914aa5361f92f1-b6cc04aa421690dc-01
2021-11-23T06:39:07.481Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:39:07.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-22c9eeb1cec25bf9a03a1f81b2cdbf7b01c5f4d6-3a814e89e8024813-01 outer:exit 2b-22c9eeb1cec25bf9a03a1f81b2cdbf7b01c5f4d6-2a36295f0f860c72-01
2021-11-23T06:39:07.506Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:39:07.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cb1fbc4176767e50029feef5b16a616de19c1c8-03de1e40a5516166-01 outer:exit 2b-2cb1fbc4176767e50029feef5b16a616de19c1c8-6c37c2c7f814fc83-01
2021-11-23T06:39:07.509Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:39:07.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d7c56b344805a9b15cb9c10d3e5cb81b5e2ead9-f35d3677737f088c-01 outer:exit 2b-2d7c56b344805a9b15cb9c10d3e5cb81b5e2ead9-7c731305ed481df0-01
2021-11-23T06:39:07.512Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:39:07.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-143e7789208238fe99534cd0e150c79e1d766691-86f534b43975cfa8-01 outer:exit 2b-143e7789208238fe99534cd0e150c79e1d766691-4ab34a032798209f-01
2021-11-23T06:39:07.515Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:39:07.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-747c0fff63d1c1bdc073897372041b62158e9922-b0fe2d57780c0506-01 outer:exit 2b-747c0fff63d1c1bdc073897372041b62158e9922-1d02dc0c1c7219a4-01
2021-11-23T06:39:07.518Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:39:07.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0f38790198a6fc713a02ab4f6689e2fa3fb158e-4827dd5817e61dc8-01 outer:exit 2b-f0f38790198a6fc713a02ab4f6689e2fa3fb158e-8202b7df262f7622-01
2021-11-23T06:39:07.520Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:39:07.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-a27bc0d4d4eaa088660eb9bd880bc0a89e6b8044-1342c4d0f4b95395-01 outer:exit 2b-a27bc0d4d4eaa088660eb9bd880bc0a89e6b8044-572bea4c43eb163f-01
2021-11-23T06:39:07.523Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:39:07.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddb2f8f54519b723515105a4165137f95b084ffd-b7913d6d51fa325e-01 outer:exit 2b-ddb2f8f54519b723515105a4165137f95b084ffd-9bd1deeabb649f04-01
2021-11-23T06:39:07.525Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:39:07.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b642c118dec4a7e0cbf04a7ae448b7285ac5713-c1919643b7c1f10f-01 outer:exit 2b-3b642c118dec4a7e0cbf04a7ae448b7285ac5713-dd0d08ae4bd0c7e6-01
2021-11-23T06:39:07.528Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:39:07.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-11a2d89b5fd643ad5452b8448724459d74f40ab1-1c3e16b33e1389c9-01 outer:exit 2b-11a2d89b5fd643ad5452b8448724459d74f40ab1-350ff16319ec5e50-01
2021-11-23T06:39:07.531Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:39:07.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e89c2f2731ec83fff402985fcaa672262e8cb6b-2dfa6bf0cd8826f4-01 outer:exit 2b-2e89c2f2731ec83fff402985fcaa672262e8cb6b-4152cbab7ac861c7-01
2021-11-23T06:39:07.535Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:39:07.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d6db82f599f65dec2dbd11f8c43170fbda4059b-5006395f5bef6944-01 outer:exit 2b-1d6db82f599f65dec2dbd11f8c43170fbda4059b-a9f624edb73ff667-01
2021-11-23T06:39:07.537Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:39:07.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cc07df5cc397541a0d70ca12014f897d2fd0779-0b948b387b3af1fa-01 outer:exit 2b-1cc07df5cc397541a0d70ca12014f897d2fd0779-4662e061c122d375-01
2021-11-23T06:39:07.540Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:39:07.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd6cee087aa1bdc4dc60c58369cb24c8a331ce53-45ff5b6c65165727-01 outer:exit 2b-fd6cee087aa1bdc4dc60c58369cb24c8a331ce53-a018768697dd92c3-01
2021-11-23T06:39:07.546Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:39:07.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c0775e034686359c685327b1c48ee2e650d4ff8-6e18f5f9ec1beb30-01 outer:exit 2b-8c0775e034686359c685327b1c48ee2e650d4ff8-e9fa7ced4a1118cc-01
2021-11-23T06:39:07.554Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:39:07.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-d108c7d88257351d88d40761612e07a91dc8f00a-60875a0f1b0225ed-01 outer:exit 2b-d108c7d88257351d88d40761612e07a91dc8f00a-53c0cbda577de0df-01
2021-11-23T06:39:07.564Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:39:07.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c7a4f666c0a410daba6bdbec5b039f841cdedd8-03d3bec2056a90eb-01 outer:exit 2b-7c7a4f666c0a410daba6bdbec5b039f841cdedd8-e5faecc1485416c6-01
2021-11-23T06:39:07.573Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:39:07.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bc106bbaedf145cfcd5e02175662970becc1b35-87cdb966ab025754-01 outer:exit 2b-6bc106bbaedf145cfcd5e02175662970becc1b35-194d05ff73deedd2-01
2021-11-23T06:39:07.575Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:39:07.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b38e7dd2304d4f1765d7f5369d1651a1129b34a-194b782e8b095099-01 outer:exit 2b-3b38e7dd2304d4f1765d7f5369d1651a1129b34a-0679a1646e847aaf-01
2021-11-23T06:39:07.580Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:39:07.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-d261915600899d90886d9393498fb5c416b9d3d5-d1227c73e40c5fbb-01 outer:exit 2b-d261915600899d90886d9393498fb5c416b9d3d5-f5297262bc63e748-01
2021-11-23T06:39:07.587Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:39:07.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-d53ad8231a2ca4b8cfaab2b6b191df6f60716a26-362819539e3ba66e-01 outer:exit 2b-d53ad8231a2ca4b8cfaab2b6b191df6f60716a26-fe47d19ac733ea36-01
2021-11-23T06:39:07.590Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:39:07.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cc82e84b97796800a15943f9886945d9366db43-d730151d0cd38069-01 outer:exit 2b-3cc82e84b97796800a15943f9886945d9366db43-d9a9f149c8aefd8b-01
2021-11-23T06:39:07.593Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:39:07.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-53296005fb087b78fee19297569f40c3d500a9af-c6c96b08949cca6b-01 outer:exit 2b-53296005fb087b78fee19297569f40c3d500a9af-d09c3fe823c86786-01
2021-11-23T06:39:07.597Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:39:07.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-d68f3ac161c3eca4a2b22cffe13ee3771ba562f7-1f69e1010dbd5a17-01 outer:exit 2b-d68f3ac161c3eca4a2b22cffe13ee3771ba562f7-98b61c10222ad602-01
2021-11-23T06:39:07.599Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:39:07.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-9111569b09c26d53e2ff5e25f1373bcc57325dbf-df9fed63e7cedb1a-01 outer:exit 2b-9111569b09c26d53e2ff5e25f1373bcc57325dbf-1aa0d3c84738c3fe-01
2021-11-23T06:39:07.602Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:39:07.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-00f9fc879dd2f227384f57f6ab6eff384f342801-c0ceec456f7f50c8-01 outer:exit 2b-00f9fc879dd2f227384f57f6ab6eff384f342801-0cba3c4ade20577f-01
2021-11-23T06:39:07.617Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:39:07.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-42cf0360fc5721c71025bbc61ece28a320ba89b3-b5afdfbf94f9cb04-01 outer:exit 2b-42cf0360fc5721c71025bbc61ece28a320ba89b3-1361ee8dde13a850-01
2021-11-23T06:39:07.626Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:39:07.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5a488b566a56916c3e47cc83e42f3669c34438f-baab7d01ee43dc1a-01 outer:exit 2b-f5a488b566a56916c3e47cc83e42f3669c34438f-81290daa35863e29-01
2021-11-23T06:39:07.629Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:39:07.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-1705411879bf4a4b443fa14cf97f4b66637a574f-17c8004a79308d4f-01 outer:exit 2b-1705411879bf4a4b443fa14cf97f4b66637a574f-b49ed6c320599598-01
2021-11-23T06:39:07.632Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:39:07.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-37ea5384add02d19dbe4ab6761f1b08a690f045a-8b5eb581216c91ec-01 outer:exit 2b-37ea5384add02d19dbe4ab6761f1b08a690f045a-3a401649bf56bc7f-01
2021-11-23T06:39:07.636Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:39:07.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-91ddbbe515f27862378bb58bb170d76b7a5cfdd3-30c2a56b5169c05f-01 outer:exit 2b-91ddbbe515f27862378bb58bb170d76b7a5cfdd3-cbc35fab369a6a9b-01
2021-11-23T06:39:07.668Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (346ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:15.786Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:15.787Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:15.787Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:15.787Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:15.858Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:16.014Z appoptics:patching patched crypto 
2021-11-23T06:39:16.036Z appoptics:patching patched https 
2021-11-23T06:39:16.036Z appoptics:patching patched http 
2021-11-23T06:39:16.092Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:16.093Z appoptics:patching patched fs 
2021-11-23T06:39:16.122Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v17.1.0)
2021-11-23T06:39:16.131Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2021-11-23T06:39:16.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4a6b643b0712de003e599a930c42ec846094263-6e567545463f5312-01 outer:exit 2b-f4a6b643b0712de003e599a930c42ec846094263-da0a6393f94e275a-01
2021-11-23T06:39:16.197Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:39:16.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3734a6477437c30aa079757c28e7e65e7c7c14b-432622b9412a1a3d-01 outer:exit 2b-f3734a6477437c30aa079757c28e7e65e7c7c14b-4b7ffa8500b988e9-01
2021-11-23T06:39:16.267Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:39:16.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-edac9a056ca74da8a4c46e7bb4cee345fa1f98cf-dd0d8834dfee7551-01 outer:exit 2b-edac9a056ca74da8a4c46e7bb4cee345fa1f98cf-02e10a3fc69cb6a3-01
2021-11-23T06:39:16.271Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:39:16.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f73249bd49606be13add9be66b95fd8100c1609-ddb05d6fe054d736-01 outer:exit 2b-4f73249bd49606be13add9be66b95fd8100c1609-635dcec44f09c017-01
2021-11-23T06:39:16.275Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:39:16.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d327a83e89f0875faaa7e3cd32ceac769231753-81a58576bfeac7fc-01 outer:exit 2b-6d327a83e89f0875faaa7e3cd32ceac769231753-c5f18a07e68f0f76-01
2021-11-23T06:39:16.280Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:39:16.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-303083f85e752c7bdcbe05d2c21e37200a150486-1e3cbada58caad6a-01 outer:exit 2b-303083f85e752c7bdcbe05d2c21e37200a150486-71a4d08c68a2caf2-01
2021-11-23T06:39:16.284Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:39:16.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-04ad3edb1148195a470db7f85b30d87f049458c6-680ba1c55663e8e4-01 outer:exit 2b-04ad3edb1148195a470db7f85b30d87f049458c6-f08d399928a43bb2-01
2021-11-23T06:39:16.288Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:39:16.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-e736588f5b4c1039525ed80465ffc45caa3e08c1-bec899828f127c47-01 outer:exit 2b-e736588f5b4c1039525ed80465ffc45caa3e08c1-64e8fa11f5885977-01
2021-11-23T06:39:16.292Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:39:16.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fb3b20e02f8ac2d6b49c353ae67b90fa7ff9ce7-0abb5b2e346ce134-01 outer:exit 2b-3fb3b20e02f8ac2d6b49c353ae67b90fa7ff9ce7-0200d86a26f72379-01
2021-11-23T06:39:16.295Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:39:16.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-de00eae66898742a38eb78e51ff6534b311c9c76-ee753fe90afad3b5-01 outer:exit 2b-de00eae66898742a38eb78e51ff6534b311c9c76-4572f7d3faf19325-01
2021-11-23T06:39:16.299Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:39:16.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb9ed824ec3af243481bc560b5585244bc7eddf4-303cca958daee9b1-01 outer:exit 2b-bb9ed824ec3af243481bc560b5585244bc7eddf4-a9c7373268bb2db4-01
2021-11-23T06:39:16.304Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:39:16.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-c76a5d13220961cf82a41de492a96caa03eef716-c835a7fed16af731-01 outer:exit 2b-c76a5d13220961cf82a41de492a96caa03eef716-bae0a9f82c99dea6-01
2021-11-23T06:39:16.325Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:39:16.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-1024f3834884f76b21c6b133afd6e20b91f01e8f-be806a8aacf1bf7d-01 outer:exit 2b-1024f3834884f76b21c6b133afd6e20b91f01e8f-6cc7f8b2452cb0a4-01
2021-11-23T06:39:16.343Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:39:16.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e7f85ef707c22cf8d464b0315231b7b916cd481-70b6955cb2fe3c01-01 outer:exit 2b-0e7f85ef707c22cf8d464b0315231b7b916cd481-d5d92c471d54168c-01
2021-11-23T06:39:16.403Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:39:16.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaf6a33c88a37dc59b3a8ae15e47f03a95ed0129-e582ee59f74c205c-01 outer:exit 2b-aaf6a33c88a37dc59b3a8ae15e47f03a95ed0129-5b8c8db078c40f1e-01
2021-11-23T06:39:16.407Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:39:16.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7ecf26f0a2dc4744fa88b7c8cc85bbd1413a827-dd986a88b72c752f-01 outer:exit 2b-d7ecf26f0a2dc4744fa88b7c8cc85bbd1413a827-b8e72ed821d4e53c-01
2021-11-23T06:39:16.410Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:39:16.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-d853e9302bf5701fb6cb2460b36c4c00e2b47abe-d679d6980932487a-01 outer:exit 2b-d853e9302bf5701fb6cb2460b36c4c00e2b47abe-d7af6e93cefe9eaf-01
2021-11-23T06:39:16.413Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:39:16.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-be485a8a46c318627ba4094f4b935305ccaf4d67-b918516f36f61c8a-01 outer:exit 2b-be485a8a46c318627ba4094f4b935305ccaf4d67-1cb74061006ea503-01
2021-11-23T06:39:16.416Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:39:16.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-115b6004947a702c7740a6495fecaeeaf6166da8-2041d15e7b75eaa7-01 outer:exit 2b-115b6004947a702c7740a6495fecaeeaf6166da8-880fe15e4c6695cd-01
2021-11-23T06:39:16.420Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:39:16.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-74565e87063956de1dc57146fc26c78d3b8ad39a-b8e21a6cd7031b01-01 outer:exit 2b-74565e87063956de1dc57146fc26c78d3b8ad39a-b7b212439b36ca66-01
2021-11-23T06:39:16.422Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:39:16.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-b98c504cdf7e38bb00a0d49bf13e7e9c3562fd8e-bd70b2f9f6c1ab74-01 outer:exit 2b-b98c504cdf7e38bb00a0d49bf13e7e9c3562fd8e-992d09a8716098b3-01
2021-11-23T06:39:16.424Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:39:16.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-b26f342b8a09766b2cb55698c082b3d08b45d3bc-4f19ed3fd05b0fc6-01 outer:exit 2b-b26f342b8a09766b2cb55698c082b3d08b45d3bc-7863357f9d97c637-01
2021-11-23T06:39:16.427Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:39:16.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5a4067b75dda3d639e4ebb0b79817f4fb0bba5e-c9d1edd2affe1d56-01 outer:exit 2b-c5a4067b75dda3d639e4ebb0b79817f4fb0bba5e-0e77b3326add75f0-01
2021-11-23T06:39:16.430Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:39:16.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b49ae9add7617872ad370bdd4e79365f0af90c1-0c91265af494c4a5-01 outer:exit 2b-9b49ae9add7617872ad370bdd4e79365f0af90c1-9e216aeea05e6353-01
2021-11-23T06:39:16.434Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:39:16.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-120457ca6357a1025c64f5a1aeed8cd7441dd132-a8a80a76b336d845-01 outer:exit 2b-120457ca6357a1025c64f5a1aeed8cd7441dd132-057b67937c07d67f-01
2021-11-23T06:39:16.437Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:39:16.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-981f8212beab9c12877a8ae82a170218f753bd0c-bea94174e47e6ffd-01 outer:exit 2b-981f8212beab9c12877a8ae82a170218f753bd0c-0f9595c25ee6a0c0-01
2021-11-23T06:39:16.440Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:39:16.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9a7989f314f8aecd84ee52945e2cf37f84aad59-84ac029ca5d0db27-01 outer:exit 2b-f9a7989f314f8aecd84ee52945e2cf37f84aad59-c51bae25eb2b746a-01
2021-11-23T06:39:16.461Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:39:16.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbf1915cf9359634f237d8211f8a636f7cd01787-1832457a2e103476-01 outer:exit 2b-bbf1915cf9359634f237d8211f8a636f7cd01787-d0af381773fd3fb5-01
2021-11-23T06:39:16.480Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:39:16.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-38a86a5762dd2ee060e3cb691226e377bce2227b-6bdd72eb4850f869-01 outer:exit 2b-38a86a5762dd2ee060e3cb691226e377bce2227b-6680ab54c6c2e300-01
2021-11-23T06:39:16.489Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:39:16.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-838dc8b31935db56bca48dc13a3fc42ce7dc7b38-9b34a0495b8690a0-01 outer:exit 2b-838dc8b31935db56bca48dc13a3fc42ce7dc7b38-9f216853563ff7a9-01
2021-11-23T06:39:16.497Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:39:16.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-01e7d9e747fdf6941065f7543f324980db4b5d70-a6b93b3a1a32fa73-01 outer:exit 2b-01e7d9e747fdf6941065f7543f324980db4b5d70-54fdfb482f227f91-01
2021-11-23T06:39:16.499Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:39:16.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dac69864475be0e0fc84eecd826fc7256d25127-92af0f60f3f68b30-01 outer:exit 2b-5dac69864475be0e0fc84eecd826fc7256d25127-e2c52a7584f6bde0-01
2021-11-23T06:39:16.504Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:39:16.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-02e3e86126e601cfaff660d23610a0e10f4d9a84-f6d13542d7e73c90-01 outer:exit 2b-02e3e86126e601cfaff660d23610a0e10f4d9a84-528ca7afb09befa3-01
2021-11-23T06:39:16.513Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:39:16.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1561892daf8a587cd4ceeef3c1603a578984de2-f5c178649753478f-01 outer:exit 2b-a1561892daf8a587cd4ceeef3c1603a578984de2-2fe650f726cea0d1-01
2021-11-23T06:39:16.515Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:39:16.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-faae0b4199e237edfaf0e947fb8e9930cb98c24c-ccab7569ebfdb50a-01 outer:exit 2b-faae0b4199e237edfaf0e947fb8e9930cb98c24c-8cf993f32712d9a8-01
2021-11-23T06:39:16.518Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:39:16.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-50a042bd335adfac9b208c2f945d60ea06cda7f9-9c61b417f0a01dc7-01 outer:exit 2b-50a042bd335adfac9b208c2f945d60ea06cda7f9-4717c7b700188a5b-01
2021-11-23T06:39:16.520Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:39:16.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b6bd1b524339cee381db2a55690998014596dcb-5bd88386961ba7a4-01 outer:exit 2b-5b6bd1b524339cee381db2a55690998014596dcb-3819e1cbdbf70e75-01
2021-11-23T06:39:16.523Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:39:16.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e27ddebdad71d6349397940c46c8bacc394f8b9-fb2195f3875e9aa4-01 outer:exit 2b-9e27ddebdad71d6349397940c46c8bacc394f8b9-75ea8a290c8e8a23-01
2021-11-23T06:39:16.525Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:39:16.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-8163e9885cf682fdd45f018f90a15bae6bd6185e-1da4377d29e38a5e-01 outer:exit 2b-8163e9885cf682fdd45f018f90a15bae6bd6185e-93a1cb618fb4ba05-01
2021-11-23T06:39:16.544Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:39:16.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8ecaf6eb80f85a4d0a71ee689a9b8c8529244a7-67163a4f650c9806-01 outer:exit 2b-a8ecaf6eb80f85a4d0a71ee689a9b8c8529244a7-1248e77b4d4b87f8-01
2021-11-23T06:39:16.555Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:39:16.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d79a6a81187dc30938d6ed4c451d70293801e98-1b52e9657dc5164b-01 outer:exit 2b-1d79a6a81187dc30938d6ed4c451d70293801e98-46c1c44c03e6eb45-01
2021-11-23T06:39:16.558Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:39:16.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-f97da03dbf63fc6849cbea4ab69c9eba6558a5cd-2f961ed78abbd351-01 outer:exit 2b-f97da03dbf63fc6849cbea4ab69c9eba6558a5cd-507d298b63ab738a-01
2021-11-23T06:39:16.562Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:39:16.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4afc25481793582ea26ef12a9627a7ab5ae3f7b-24f57ded17517727-01 outer:exit 2b-b4afc25481793582ea26ef12a9627a7ab5ae3f7b-add8ccf90133f58f-01
2021-11-23T06:39:16.578Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:39:16.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4198190b00e06fc12aa5e8b0976fcd061edd433-ba1da69313817eb7-01 outer:exit 2b-b4198190b00e06fc12aa5e8b0976fcd061edd433-23d20d933a4fee37-01
2021-11-23T06:39:16.622Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (483ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 13s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:30.283Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:30.284Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:30.284Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:30.285Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:30.351Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:30.532Z appoptics:patching patched crypto 
2021-11-23T06:39:30.554Z appoptics:patching patched https 
2021-11-23T06:39:30.555Z appoptics:patching patched http 
2021-11-23T06:39:30.613Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:30.613Z appoptics:patching patched fs 
2021-11-23T06:39:30.643Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v17.1.0)
2021-11-23T06:39:30.652Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2021-11-23T06:39:30.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ab4f1ba7f06a1f7b01aa5d5208bcf4bb625d643-4e48189caf2d158f-01 outer:exit 2b-8ab4f1ba7f06a1f7b01aa5d5208bcf4bb625d643-4565bc8a20f2f06a-01
2021-11-23T06:39:30.712Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:39:30.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-731c25230f0c248d52f12c39aa6c5ebec01bdf2b-a06cef58e3074c46-01 outer:exit 2b-731c25230f0c248d52f12c39aa6c5ebec01bdf2b-9162939e01107a7b-01
2021-11-23T06:39:30.746Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:39:30.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-7da5f59a0158255a1b0177376ed044d2a61daa78-7c7ddd430d3de0bc-01 outer:exit 2b-7da5f59a0158255a1b0177376ed044d2a61daa78-1fb115fa2d21301d-01
2021-11-23T06:39:30.750Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:39:30.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-161de041ac05268f6ee768676aac8caaeba2d578-0fedbf6e815f6941-01 outer:exit 2b-161de041ac05268f6ee768676aac8caaeba2d578-392f590311ccdd6a-01
2021-11-23T06:39:30.753Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:39:30.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f334e95fe0b6f4387ccedf581b272b1de7f8c5f-ff417cb950a3b1af-01 outer:exit 2b-2f334e95fe0b6f4387ccedf581b272b1de7f8c5f-e3e45ec3b026a27b-01
2021-11-23T06:39:30.759Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:39:30.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3b8f79617bbb840a38a2256e9cc6a26f12bf0a1-9688187fc87f470e-01 outer:exit 2b-f3b8f79617bbb840a38a2256e9cc6a26f12bf0a1-3e5fffe6ec7589cc-01
2021-11-23T06:39:30.762Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:39:30.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-30c8b572097a72e6de0275fe6e81d60aa1cfd803-07be58b4e376be86-01 outer:exit 2b-30c8b572097a72e6de0275fe6e81d60aa1cfd803-82ac758d9cf45aa8-01
2021-11-23T06:39:30.766Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:39:30.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-77ebab264fd878f1d4ab1c2613e6c199f6324d94-a7829d5457e99e64-01 outer:exit 2b-77ebab264fd878f1d4ab1c2613e6c199f6324d94-6367f4541bd0ca23-01
2021-11-23T06:39:30.769Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:39:30.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-35b28480524cae17e6a09250ae896221ace65df8-00b2693cdaa03667-01 outer:exit 2b-35b28480524cae17e6a09250ae896221ace65df8-b9a76f0cd61f1cb5-01
2021-11-23T06:39:30.772Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:39:30.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-294e059fe88d3dd2d891d3525dc45ac211885ce0-789db914686046b8-01 outer:exit 2b-294e059fe88d3dd2d891d3525dc45ac211885ce0-bf9c2392c61d7c1d-01
2021-11-23T06:39:30.775Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:39:30.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad7f6ba9a2464b67d7d484ab58a05fe07602ecb7-b5ae828fceaa7b53-01 outer:exit 2b-ad7f6ba9a2464b67d7d484ab58a05fe07602ecb7-27454cf557f941fc-01
2021-11-23T06:39:30.780Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:39:30.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bc361a4f74e37210c404b8be7412d3a3c01c8df-91421a3e09c7def2-01 outer:exit 2b-3bc361a4f74e37210c404b8be7412d3a3c01c8df-bb244589e768a178-01
2021-11-23T06:39:30.787Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:39:30.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b2959336ee00f23710ac65c0610550b8ccbd708-f81536b2256f72a8-01 outer:exit 2b-4b2959336ee00f23710ac65c0610550b8ccbd708-a14ff9957e6940a1-01
2021-11-23T06:39:30.804Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:39:30.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-e80c7a735576356a2ad6893901050a2ae344824c-72b9f6c350ff2082-01 outer:exit 2b-e80c7a735576356a2ad6893901050a2ae344824c-cc574e67cbf4ec20-01
2021-11-23T06:39:30.846Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:39:30.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-d31175e077e0c4b67c0a9c6cb257b6ba0ae5f0d3-adb45ef48f96ad0a-01 outer:exit 2b-d31175e077e0c4b67c0a9c6cb257b6ba0ae5f0d3-5367f6d6120465df-01
2021-11-23T06:39:30.850Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:39:30.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2e0f7aa952651d29133f57162452f10ead5bdf3-2bbdbbce24b9138f-01 outer:exit 2b-f2e0f7aa952651d29133f57162452f10ead5bdf3-dd0bb077f5c26b73-01
2021-11-23T06:39:30.853Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:39:30.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-8547299e5b68d16036e4cbaac858a7669ec9e0bf-f9e68610bd904942-01 outer:exit 2b-8547299e5b68d16036e4cbaac858a7669ec9e0bf-255307b4a1dc59e3-01
2021-11-23T06:39:30.856Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:39:30.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1d064a0d9dab0884c14a66cf8d0bd9da1f15697-7bcb7231556ecb96-01 outer:exit 2b-d1d064a0d9dab0884c14a66cf8d0bd9da1f15697-ec2e47ffd0aae6b2-01
2021-11-23T06:39:30.858Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:39:30.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-59697862ced17cc912b23254ac670e3c299ca9e6-15fbe0409c92a04a-01 outer:exit 2b-59697862ced17cc912b23254ac670e3c299ca9e6-033492a4ba0bdafd-01
2021-11-23T06:39:30.861Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:39:30.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ec7d2811095bfdc8c026a9697cad94463b4b772-4d63c301290651a0-01 outer:exit 2b-7ec7d2811095bfdc8c026a9697cad94463b4b772-1817943db4912643-01
2021-11-23T06:39:30.864Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:39:30.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-261c6fe2300963ff691a35c4ef75ad86d14559f9-03fbdf2432a4cc92-01 outer:exit 2b-261c6fe2300963ff691a35c4ef75ad86d14559f9-a981da8895f7bf0a-01
2021-11-23T06:39:30.866Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:39:30.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4f77b80e8a21412858873ca8b557674e5f72590-c91b2342463d4d19-01 outer:exit 2b-e4f77b80e8a21412858873ca8b557674e5f72590-da862ed18d07a68a-01
2021-11-23T06:39:30.869Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:39:30.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-84953f2b1a5cdb416edeeb59e1902a0e85c52e2c-cf17bb939859d97a-01 outer:exit 2b-84953f2b1a5cdb416edeeb59e1902a0e85c52e2c-18d86461b940b0b2-01
2021-11-23T06:39:30.872Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:39:30.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b59681772d476e6c2f96058e92450e8c083860a-50dacfafdf2b44b9-01 outer:exit 2b-0b59681772d476e6c2f96058e92450e8c083860a-706162d395af135d-01
2021-11-23T06:39:30.875Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:39:30.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-038b6ade750c55a646d50cad31f5126f3a45be9c-4d968fd8e57389a8-01 outer:exit 2b-038b6ade750c55a646d50cad31f5126f3a45be9c-72aea0e672a7e65b-01
2021-11-23T06:39:30.878Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:39:30.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcb1996adfa7694122dcd17f13e9c1449c12021b-8d4cc8f072b63c6e-01 outer:exit 2b-bcb1996adfa7694122dcd17f13e9c1449c12021b-9c26b7f2c181ba16-01
2021-11-23T06:39:30.880Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:39:30.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-272d4808b6858a1870f76960e46fde7de15154d9-8316e2d101f807f8-01 outer:exit 2b-272d4808b6858a1870f76960e46fde7de15154d9-ff33a8797b4dc2e3-01
2021-11-23T06:39:30.887Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:39:30.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-45bb5711a5c8447c73e7114fe155df73bccc977a-5b7dc42aff601788-01 outer:exit 2b-45bb5711a5c8447c73e7114fe155df73bccc977a-ca777261ee54da97-01
2021-11-23T06:39:30.895Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:39:30.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc29a39cf09c6cde3254b9a5fdfaf55415f47004-ed92c5f1af2baa94-01 outer:exit 2b-cc29a39cf09c6cde3254b9a5fdfaf55415f47004-c14a17f05316bd18-01
2021-11-23T06:39:30.905Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:39:30.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b4a2a404eaad3f67d3daffc91bb0d0389e1a667-e57bcaceb8e71ed0-01 outer:exit 2b-2b4a2a404eaad3f67d3daffc91bb0d0389e1a667-90f4cc59faf38083-01
2021-11-23T06:39:30.913Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:39:30.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-f73b83f023f00cda5616f66140972a4699188da0-930b69e01f3e424f-01 outer:exit 2b-f73b83f023f00cda5616f66140972a4699188da0-75d827d093c7d155-01
2021-11-23T06:39:30.916Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:39:30.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e3ddc2537df9df39553ac038783e47086c49819-a4f586553f91a601-01 outer:exit 2b-4e3ddc2537df9df39553ac038783e47086c49819-f67f056631bc06ac-01
2021-11-23T06:39:30.919Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:39:30.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-216433fddda7073e30a431c4f15bfdb5a1a9e75c-8b5bde83b34214a3-01 outer:exit 2b-216433fddda7073e30a431c4f15bfdb5a1a9e75c-39d70864e9d9d1b9-01
2021-11-23T06:39:30.927Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:39:30.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0ab7e9b493388248a873d46e09f33b890a57fe7-d30724b3ccb366c2-01 outer:exit 2b-b0ab7e9b493388248a873d46e09f33b890a57fe7-edec2734f8622ade-01
2021-11-23T06:39:30.930Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:39:30.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-db1c7b98d6f3f44d57102533d5003ef696cb4fcc-cbaf1184b982ac44-01 outer:exit 2b-db1c7b98d6f3f44d57102533d5003ef696cb4fcc-b805f7dfb697b559-01
2021-11-23T06:39:30.932Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:39:30.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef3d367a8b8f3a6f62d42379f0c1ec8716483972-e72ff099ae68fc35-01 outer:exit 2b-ef3d367a8b8f3a6f62d42379f0c1ec8716483972-ada0b0d4a0b35b21-01
2021-11-23T06:39:30.935Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:39:30.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-000fac52ac836f6f550e6f8167d8b376e3b0d908-c8a0c58c92e5c22e-01 outer:exit 2b-000fac52ac836f6f550e6f8167d8b376e3b0d908-34a9c40835913282-01
2021-11-23T06:39:30.937Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:39:30.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-044b7d8503dafa08ffea8f9b9ffab5390508b9a8-fbaea161e1da5161-01 outer:exit 2b-044b7d8503dafa08ffea8f9b9ffab5390508b9a8-91c5ef140ffecad0-01
2021-11-23T06:39:30.940Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:39:30.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-afa4654aeb02500a7c09ebd87b0a076f655d7889-2452d92cbefb3b36-01 outer:exit 2b-afa4654aeb02500a7c09ebd87b0a076f655d7889-529eb2266a66d4b1-01
2021-11-23T06:39:30.955Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:39:30.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a26e8259b232b994c1923bb5bc70c98f45b068e-9709a9a4e80c44de-01 outer:exit 2b-9a26e8259b232b994c1923bb5bc70c98f45b068e-5d58201595cf4b51-01
2021-11-23T06:39:30.965Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:39:30.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfcca279ead426945e114bee5d42bd52ffbdeec2-de1c7f7531a7d617-01 outer:exit 2b-bfcca279ead426945e114bee5d42bd52ffbdeec2-3710c1e7866bcbea-01
2021-11-23T06:39:30.968Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:39:30.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd9a270ba37b5a18452a3633221ad1b624110f23-5209c9955e807ecc-01 outer:exit 2b-cd9a270ba37b5a18452a3633221ad1b624110f23-15a1cf01ac2e29f3-01
2021-11-23T06:39:30.972Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:39:30.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0d3392df96492ce1584a5fc9ce0287ca358ee3d-3184b5019853f7d8-01 outer:exit 2b-b0d3392df96492ce1584a5fc9ce0287ca358ee3d-81cda03f7e5aae42-01
2021-11-23T06:39:30.975Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:39:31.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-275e846227e4907b601d9d23f24e7970824c1623-3f5c5022b030f0a0-01 outer:exit 2b-275e846227e4907b601d9d23f24e7970824c1623-9f5c281f84853c7b-01
2021-11-23T06:39:31.006Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (346ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:39.126Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:39.127Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:39.127Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:39.128Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:39.192Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:39.338Z appoptics:patching patched crypto 
2021-11-23T06:39:39.359Z appoptics:patching patched https 
2021-11-23T06:39:39.360Z appoptics:patching patched http 
2021-11-23T06:39:39.416Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:39.416Z appoptics:patching patched fs 
2021-11-23T06:39:39.449Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v17.1.0)
2021-11-23T06:39:39.458Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2021-11-23T06:39:39.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae188904b09d83bacb40c92d5553fd25bdcdb2d9-cafce22f6f76d2d2-01 outer:exit 2b-ae188904b09d83bacb40c92d5553fd25bdcdb2d9-514c926060204712-01
2021-11-23T06:39:39.525Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:39:39.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-edddb273d402798d6a3ace5351462eab1d70fb74-d0724389ffa1f6a9-01 outer:exit 2b-edddb273d402798d6a3ace5351462eab1d70fb74-ac2f4921ab5a56b6-01
2021-11-23T06:39:39.561Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:39:39.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-fae173aef025bdd765f1f72e10e54ddced6d4453-a700d625ded2d0dc-01 outer:exit 2b-fae173aef025bdd765f1f72e10e54ddced6d4453-403507b0af4ba864-01
2021-11-23T06:39:39.565Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:39:39.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-39d6009e8bdb7bd416ef180a4c35d46351dc3215-fbe7f670786da05f-01 outer:exit 2b-39d6009e8bdb7bd416ef180a4c35d46351dc3215-ba8f2d7e65b2826a-01
2021-11-23T06:39:39.569Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:39:39.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-12a152e6f742a3bbdd6f1932d76596018f51a58f-e3ecc6a763547687-01 outer:exit 2b-12a152e6f742a3bbdd6f1932d76596018f51a58f-7b0321acfebde195-01
2021-11-23T06:39:39.574Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:39:39.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-828fa1b4edd46136bc96a1e6f533d9db150d8005-87aa4313a7843d09-01 outer:exit 2b-828fa1b4edd46136bc96a1e6f533d9db150d8005-3236cca7973600d2-01
2021-11-23T06:39:39.578Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:39:39.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-3934cbec87aa0451134f60707af46f512a329729-3cec6b8a5e6ab7ad-01 outer:exit 2b-3934cbec87aa0451134f60707af46f512a329729-51e4eb659ca49834-01
2021-11-23T06:39:39.582Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:39:39.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ceb7ccee4ece9cf1240a9bea9b4ce4af4c952c5-224dbc52ab95840c-01 outer:exit 2b-9ceb7ccee4ece9cf1240a9bea9b4ce4af4c952c5-d5926ff9401cd5c0-01
2021-11-23T06:39:39.585Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:39:39.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b8ca61e773cb96a8adb948b6ef8c68698902f6e-b048a655916ad3fb-01 outer:exit 2b-1b8ca61e773cb96a8adb948b6ef8c68698902f6e-855d514a3d84b705-01
2021-11-23T06:39:39.588Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:39:39.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0bddc319ebdd9bc08f30f6f81bad049848b711e-692e8e47eba48f53-01 outer:exit 2b-e0bddc319ebdd9bc08f30f6f81bad049848b711e-61925552d3b80139-01
2021-11-23T06:39:39.592Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:39:39.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-053609d1dc643647d1218b822feb2d21776cebd3-c6c827d317d12f70-01 outer:exit 2b-053609d1dc643647d1218b822feb2d21776cebd3-aadd3fe2c9a55916-01
2021-11-23T06:39:39.597Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:39:39.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-b31fe8c4a72d9f6556168542fcfa2916329fabb6-1283884444c6b471-01 outer:exit 2b-b31fe8c4a72d9f6556168542fcfa2916329fabb6-9065fe18253a2570-01
2021-11-23T06:39:39.604Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:39:39.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad16ed7a5e7b17698645dad7e7943bf3e8c69253-d76f8bb3f9618762-01 outer:exit 2b-ad16ed7a5e7b17698645dad7e7943bf3e8c69253-978eea766ec55219-01
2021-11-23T06:39:39.626Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:39:39.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d101938e5a26ad3b9de0ca99e5fda729506cb96-c2068c3209711807-01 outer:exit 2b-1d101938e5a26ad3b9de0ca99e5fda729506cb96-1ff609ac39f14a40-01
2021-11-23T06:39:39.662Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:39:39.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-6af086c85671febb9d2e90302fd8bbb40a7a0984-8361a0e7ed9a9b22-01 outer:exit 2b-6af086c85671febb9d2e90302fd8bbb40a7a0984-545ba63cbcb80c26-01
2021-11-23T06:39:39.665Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:39:39.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-229e5b210373786adf1c368d78806e80542c548c-bf05427899edf4f1-01 outer:exit 2b-229e5b210373786adf1c368d78806e80542c548c-8e3f7e397468fcb0-01
2021-11-23T06:39:39.670Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:39:39.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4a7b580bb04496659c10d56e68c1092d4ce130a-b763d6e24f77211c-01 outer:exit 2b-d4a7b580bb04496659c10d56e68c1092d4ce130a-aadfdf3586e7fb5d-01
2021-11-23T06:39:39.673Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:39:39.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-367695d03cacf3ed5e2097f354ea8de8afa255df-ea6d5ba938a93afa-01 outer:exit 2b-367695d03cacf3ed5e2097f354ea8de8afa255df-dcb70c843829d642-01
2021-11-23T06:39:39.676Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:39:39.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-6429504a717620149b4aa15f04bbfe2f5dc454cf-5d043d093ab751a1-01 outer:exit 2b-6429504a717620149b4aa15f04bbfe2f5dc454cf-3265b2a18faf9ec6-01
2021-11-23T06:39:39.681Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:39:39.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-06ab55da5795843012eaa3def9f90be6126d6605-867403db251d4798-01 outer:exit 2b-06ab55da5795843012eaa3def9f90be6126d6605-de53cd608ae91ad3-01
2021-11-23T06:39:39.683Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:39:39.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dd080ef87e22d1f827a8b8c4adac85edf8a1b76-a5e493804b62223a-01 outer:exit 2b-4dd080ef87e22d1f827a8b8c4adac85edf8a1b76-b2dcc7ea8193fd4d-01
2021-11-23T06:39:39.686Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:39:39.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-49424e973afbf14d01586ac97fd594ed61edcd32-93cc806a75f56151-01 outer:exit 2b-49424e973afbf14d01586ac97fd594ed61edcd32-d206a89533e35ab9-01
2021-11-23T06:39:39.689Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:39:39.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f82158513659c79de751230e97d5faea16b49b1-f3ae626d8b396d51-01 outer:exit 2b-4f82158513659c79de751230e97d5faea16b49b1-43854dcc585ddd54-01
2021-11-23T06:39:39.693Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:39:39.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-2471fb2b7c11b8304477b0a9b5745867f4b2f97f-aad30275b0ba8b0c-01 outer:exit 2b-2471fb2b7c11b8304477b0a9b5745867f4b2f97f-08910938af6c7250-01
2021-11-23T06:39:39.696Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:39:39.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-dee26cedc2f96e28df024c8918830219af983be7-8a7230480cd45866-01 outer:exit 2b-dee26cedc2f96e28df024c8918830219af983be7-06fd1853a558d8f8-01
2021-11-23T06:39:39.700Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:39:39.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ad499a5e828397ebe96e4afd122344b9a40685a-d8580dcd12096879-01 outer:exit 2b-8ad499a5e828397ebe96e4afd122344b9a40685a-bbaaf1722ce813c6-01
2021-11-23T06:39:39.702Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:39:39.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f91c40d69590c0e076cec5ac209023d40db210c-fe2c08ea7413a56f-01 outer:exit 2b-6f91c40d69590c0e076cec5ac209023d40db210c-9f3d8ebb3da89bc0-01
2021-11-23T06:39:39.710Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:39:39.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7003d8b39b53715e6cfd50e055496e373f649ad-a4d70dc462a60f99-01 outer:exit 2b-c7003d8b39b53715e6cfd50e055496e373f649ad-548274046cfd6ac2-01
2021-11-23T06:39:39.716Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:39:39.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-872a3c218b94770ad6f34f9fdc4d3ef2e4db0d60-dc16f5ce788c6a47-01 outer:exit 2b-872a3c218b94770ad6f34f9fdc4d3ef2e4db0d60-87303428a9239b95-01
2021-11-23T06:39:39.726Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:39:39.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-518313874cb275b86688d418453c381b0df72c37-26029cefab852a63-01 outer:exit 2b-518313874cb275b86688d418453c381b0df72c37-b260416a57ab7755-01
2021-11-23T06:39:39.737Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:39:39.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2ce4cf99fd22cc5265bd71d96e449841fda70c4-6010f6fb7f4390b2-01 outer:exit 2b-a2ce4cf99fd22cc5265bd71d96e449841fda70c4-f6bc95ab4bbc88af-01
2021-11-23T06:39:39.741Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:39:39.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-210afd705d8e6e4fc0cc5be97ff4ae63c4e07e3f-3048999d8e7e2d0e-01 outer:exit 2b-210afd705d8e6e4fc0cc5be97ff4ae63c4e07e3f-75b4b95b1b5929a0-01
2021-11-23T06:39:39.747Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:39:39.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-afbb3876b0da96905588c6d81988c8aa8e91ff57-2427344b01636f1d-01 outer:exit 2b-afbb3876b0da96905588c6d81988c8aa8e91ff57-d774365adcac4c35-01
2021-11-23T06:39:39.756Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:39:39.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-4511c6fbca82ad6792b12e09eb18b30b1ddc130f-fd53037b60959ce7-01 outer:exit 2b-4511c6fbca82ad6792b12e09eb18b30b1ddc130f-4d910a55065c8eea-01
2021-11-23T06:39:39.759Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:39:39.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee2e81197a07936e766b5ec1d3bfa5cc4e625aac-c81d50378818f438-01 outer:exit 2b-ee2e81197a07936e766b5ec1d3bfa5cc4e625aac-92776092c4b5b9ac-01
2021-11-23T06:39:39.762Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:39:39.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8bda97625774d01c5c0fc5b2dca3c9eb954206e-3abbebb46235a20b-01 outer:exit 2b-d8bda97625774d01c5c0fc5b2dca3c9eb954206e-edc6bfdd174ad72b-01
2021-11-23T06:39:39.765Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:39:39.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-72abbb9e0d6309e09001aadef50bbe7221704bca-b8104456d003f204-01 outer:exit 2b-72abbb9e0d6309e09001aadef50bbe7221704bca-ab7b5a8d35b70a88-01
2021-11-23T06:39:39.768Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:39:39.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-47dccf9d90f4312ed592549b130b4de248b7b9f2-9b927335cc915a5f-01 outer:exit 2b-47dccf9d90f4312ed592549b130b4de248b7b9f2-51093248f034241d-01
2021-11-23T06:39:39.771Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:39:39.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a426c99ce5aff1d514e22c4330783a732e836db-7bfb3d89b047c072-01 outer:exit 2b-4a426c99ce5aff1d514e22c4330783a732e836db-66c715199079991d-01
2021-11-23T06:39:39.787Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:39:39.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-e95273242891eb51829046ed3b2ff8d684f29d4a-cfc360355a526dec-01 outer:exit 2b-e95273242891eb51829046ed3b2ff8d684f29d4a-545a39ad922d8a32-01
2021-11-23T06:39:39.805Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:39:39.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc5abcf0bab97c5b8c3b5e5e846ccd83d12cc6f4-45a6d44a58b0d209-01 outer:exit 2b-dc5abcf0bab97c5b8c3b5e5e846ccd83d12cc6f4-1bc4743bfa1f44ce-01
2021-11-23T06:39:39.809Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:39:39.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7ae5aa00d93188e204648768227a95d0c78ce1e-0ba03063081f9370-01 outer:exit 2b-c7ae5aa00d93188e204648768227a95d0c78ce1e-59df29a67d192267-01
2021-11-23T06:39:39.812Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:39:39.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-4172444fd56a845c6cbe7f6417daad56aa36ccd0-ba019bc00181d133-01 outer:exit 2b-4172444fd56a845c6cbe7f6417daad56aa36ccd0-763285f1b4d47ab4-01
2021-11-23T06:39:39.814Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:39:39.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c29a0da32542a448227b756d3996cccd4d1fe3e-8dc52b126819794c-01 outer:exit 2b-3c29a0da32542a448227b756d3996cccd4d1fe3e-a3067f8e333f6796-01
2021-11-23T06:39:39.846Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (379ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:46.817Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:46.817Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:46.817Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:46.818Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:46.890Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:47.099Z appoptics:patching patched crypto 
2021-11-23T06:39:47.121Z appoptics:patching patched https 
2021-11-23T06:39:47.121Z appoptics:patching patched http 
2021-11-23T06:39:47.174Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:47.174Z appoptics:patching patched fs 
2021-11-23T06:39:47.210Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v17.1.0)
2021-11-23T06:39:47.220Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2021-11-23T06:39:47.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea02fc3eea6ed73e5a1671bd8c09a44caabbd572-6257830485b558aa-01 outer:exit 2b-ea02fc3eea6ed73e5a1671bd8c09a44caabbd572-8dca2a010948fc75-01
2021-11-23T06:39:47.285Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:39:47.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-33f3aa7db70b96394c6d7132c4e5815905a72323-8b75a60389968776-01 outer:exit 2b-33f3aa7db70b96394c6d7132c4e5815905a72323-bb9dec03485398e5-01
2021-11-23T06:39:47.345Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:39:47.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-599b5bb77692d399d3207eedc30645b7af3b27a5-70908ef442b865b1-01 outer:exit 2b-599b5bb77692d399d3207eedc30645b7af3b27a5-f7ec7d7c528f7679-01
2021-11-23T06:39:47.351Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:39:47.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-a652d17108c3593732d33ce5e160bc6be53b70d8-9a9bd7b219637c0a-01 outer:exit 2b-a652d17108c3593732d33ce5e160bc6be53b70d8-60a784fcd1e3bb3a-01
2021-11-23T06:39:47.354Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:39:47.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-80f2c21d2fe980ee183df562e4310ff6414e0267-c44b003c1d904805-01 outer:exit 2b-80f2c21d2fe980ee183df562e4310ff6414e0267-926c4077e29b4713-01
2021-11-23T06:39:47.362Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:39:47.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf8250c6763f9b18e82106f94651854220bbb263-fc3c4d2089572464-01 outer:exit 2b-cf8250c6763f9b18e82106f94651854220bbb263-91366ce6cd8b3d38-01
2021-11-23T06:39:47.366Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:39:47.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef89ce846d8b27df56fb19d31f4fc376fcd7cba9-de0259e99191d602-01 outer:exit 2b-ef89ce846d8b27df56fb19d31f4fc376fcd7cba9-8dbaae0993b71072-01
2021-11-23T06:39:47.370Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:39:47.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-129bffb4578789bdc47a66e3ca07c43669ecff1c-90e3f9b83eab6c50-01 outer:exit 2b-129bffb4578789bdc47a66e3ca07c43669ecff1c-93fef5af68f70ea0-01
2021-11-23T06:39:47.374Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:39:47.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-6827fac0f1edec7e01fc0272ddc57cf89f863045-8fb72a045a78236f-01 outer:exit 2b-6827fac0f1edec7e01fc0272ddc57cf89f863045-fa50f78922dc1b91-01
2021-11-23T06:39:47.377Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:39:47.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-e53fd8ba4b719a82f55f9e8de86686ea4d968690-c65e627e9a142f83-01 outer:exit 2b-e53fd8ba4b719a82f55f9e8de86686ea4d968690-c276ea3ca4bbda8d-01
2021-11-23T06:39:47.382Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:39:47.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-94351fda92febb0370ae559bbdedbdce52a68354-53ed49ce0b830cc2-01 outer:exit 2b-94351fda92febb0370ae559bbdedbdce52a68354-6993966c99729ca0-01
2021-11-23T06:39:47.386Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:39:47.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2e0fb0461db2d82b79b1a9ca2f890bf990c62fe-16f63753e2b975be-01 outer:exit 2b-e2e0fb0461db2d82b79b1a9ca2f890bf990c62fe-ed363f02247a8d49-01
2021-11-23T06:39:47.393Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:39:47.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c2463d0e7069f20b20e8247e3213551906be8eb-3bf1a318fd581fe1-01 outer:exit 2b-8c2463d0e7069f20b20e8247e3213551906be8eb-22ae5c1c73f8ca74-01
2021-11-23T06:39:47.412Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:39:47.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-52c88cda7353ae611ce8368b40c93cec919eaa5c-17fc5eb61fc4ae94-01 outer:exit 2b-52c88cda7353ae611ce8368b40c93cec919eaa5c-ce8af07578b42d04-01
2021-11-23T06:39:47.449Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:39:47.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-21ff9060021f021ac6e0c9de3258a6645c92204e-ea17a2fb67d9f878-01 outer:exit 2b-21ff9060021f021ac6e0c9de3258a6645c92204e-83d1f0de9d26df4b-01
2021-11-23T06:39:47.453Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:39:47.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fbb2422cc1519c0e583720442b42b1bab031f99-a37b0e6f8ec56ebe-01 outer:exit 2b-5fbb2422cc1519c0e583720442b42b1bab031f99-703f85a2a8b497dc-01
2021-11-23T06:39:47.455Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:39:47.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2cb8aab5e3be72c7a58a054fd7e4fa8d4a1620d-abe2d51818e79793-01 outer:exit 2b-e2cb8aab5e3be72c7a58a054fd7e4fa8d4a1620d-c1d9dca47809a417-01
2021-11-23T06:39:47.458Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:39:47.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f48a21e7da3d42e182b8506ed1e2f8f0d9da349-e06e28fcb81c01a7-01 outer:exit 2b-5f48a21e7da3d42e182b8506ed1e2f8f0d9da349-2784cea310b67026-01
2021-11-23T06:39:47.461Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:39:47.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd6586db65dd8aa52aa001255a7a4254d3af7bca-b70fda705e9558a0-01 outer:exit 2b-dd6586db65dd8aa52aa001255a7a4254d3af7bca-294dc8c7d98c2d37-01
2021-11-23T06:39:47.464Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:39:47.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a5086d748a75bda55825cc6577d60c907e9c885-315cfab4029e690a-01 outer:exit 2b-2a5086d748a75bda55825cc6577d60c907e9c885-3f4067ff84c20df7-01
2021-11-23T06:39:47.466Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:39:47.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c9d955322af929e1af77bb64d217e82404f8039-63806b845c45d57b-01 outer:exit 2b-5c9d955322af929e1af77bb64d217e82404f8039-39e4d372bbe74ccf-01
2021-11-23T06:39:47.468Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:39:47.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-1331f048c38efa12e8927c50b5b537b964546ebb-17a166a8dcf655f4-01 outer:exit 2b-1331f048c38efa12e8927c50b5b537b964546ebb-b3b19042137ecb50-01
2021-11-23T06:39:47.471Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:39:47.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-e42de552f9ef3583f3ae82a02c2662fd3c60a635-28d8375ac5838642-01 outer:exit 2b-e42de552f9ef3583f3ae82a02c2662fd3c60a635-49d0b5b134f28c7d-01
2021-11-23T06:39:47.474Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:39:47.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-f16222812a5f08dea8102995c632a18588a47b7a-46731ff5e319d7bd-01 outer:exit 2b-f16222812a5f08dea8102995c632a18588a47b7a-dd92623b7ee00480-01
2021-11-23T06:39:47.477Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:39:47.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b87351dd9f252fa8cd15c285bb2690ac9a8aeaf-9c00686fa73fdba6-01 outer:exit 2b-4b87351dd9f252fa8cd15c285bb2690ac9a8aeaf-c577b9c3aa6e5b5d-01
2021-11-23T06:39:47.480Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:39:47.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-45dfe8e4476b558258ef615eeaa97eea406f3723-203976ad146e62d0-01 outer:exit 2b-45dfe8e4476b558258ef615eeaa97eea406f3723-30927dff12ac7977-01
2021-11-23T06:39:47.483Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:39:47.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dc64c92e76cd02e253242fe41dcd512cd2f21ce-9578a717797ab86d-01 outer:exit 2b-8dc64c92e76cd02e253242fe41dcd512cd2f21ce-2ccfe7be591c6cc1-01
2021-11-23T06:39:47.489Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:39:47.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-feea3226196a2bd4408c6947c3b19a14ff5d6841-fde7a182fefc9b6d-01 outer:exit 2b-feea3226196a2bd4408c6947c3b19a14ff5d6841-ec4e6b08be411138-01
2021-11-23T06:39:47.496Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:39:47.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f216164c0b5847c476f97a0f9b1b98c899738bc-6207e7e2b40bf051-01 outer:exit 2b-0f216164c0b5847c476f97a0f9b1b98c899738bc-0e8f2a5ae40b0fce-01
2021-11-23T06:39:47.505Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:39:47.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-8662cd5bcc391976335bb31a1a5d890d47192485-32b50dd2c8c16adb-01 outer:exit 2b-8662cd5bcc391976335bb31a1a5d890d47192485-bf6912abcc688f59-01
2021-11-23T06:39:47.513Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:39:47.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-121dbc6863bff9f9d2f1ddf029421c1cf9845c1d-9d81fb5175be191d-01 outer:exit 2b-121dbc6863bff9f9d2f1ddf029421c1cf9845c1d-fc3a1909370959bf-01
2021-11-23T06:39:47.516Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:39:47.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-5228f387f6a6dc7ca77de5fd729fdda94b32b52d-5165f17714e892dc-01 outer:exit 2b-5228f387f6a6dc7ca77de5fd729fdda94b32b52d-e3f1e0f5cba31082-01
2021-11-23T06:39:47.520Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:39:47.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-5aab0bad9d97b3be3fa3e1d9713e5a2b21f5c259-5d0a51085c95f156-01 outer:exit 2b-5aab0bad9d97b3be3fa3e1d9713e5a2b21f5c259-212e9b8c57bcc927-01
2021-11-23T06:39:47.528Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:39:47.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e22ae789b70c553a80eed83d0ef5810c13dfc16-fa635ff61ef4ff79-01 outer:exit 2b-6e22ae789b70c553a80eed83d0ef5810c13dfc16-289f6254c38bdf1f-01
2021-11-23T06:39:47.530Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:39:47.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-f871acd1fefde8c7ceb8b818105f9d59304aa478-71457531e4a73b46-01 outer:exit 2b-f871acd1fefde8c7ceb8b818105f9d59304aa478-fec3858973e60392-01
2021-11-23T06:39:47.533Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:39:47.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b361364b1db02cabf3cbadac55d903a330dc991-2d30069f05b84190-01 outer:exit 2b-1b361364b1db02cabf3cbadac55d903a330dc991-6de229feef64cd05-01
2021-11-23T06:39:47.535Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:39:47.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-60367da25b59079ba11dabc6a5ca9e04c9b0fe15-704cb805ddcd30bc-01 outer:exit 2b-60367da25b59079ba11dabc6a5ca9e04c9b0fe15-298441931d5e38a7-01
2021-11-23T06:39:47.537Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:39:47.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbd86707424507b811f5f3ac269328f07d33c7a7-659a17ef79fc28dc-01 outer:exit 2b-fbd86707424507b811f5f3ac269328f07d33c7a7-19a1e9fe7349beb8-01
2021-11-23T06:39:47.539Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:39:47.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a6e7014c101b0df5f81cec23bf11026b54528e0-0ca4aad8d98f44c6-01 outer:exit 2b-3a6e7014c101b0df5f81cec23bf11026b54528e0-a2828aff15586a75-01
2021-11-23T06:39:47.553Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:39:47.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ef308c4d89fd87c1e6094f703ff79185e845484-9cf2b802856bcf18-01 outer:exit 2b-3ef308c4d89fd87c1e6094f703ff79185e845484-fe79c459385a4cff-01
2021-11-23T06:39:47.563Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:39:47.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-faf73f729d2ecae95e8845bf966f2eee3b47f240-f9654fd3b7403304-01 outer:exit 2b-faf73f729d2ecae95e8845bf966f2eee3b47f240-77b4fea5c69260bb-01
2021-11-23T06:39:47.566Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:39:47.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c3f685d1de75f811ab80f2ac7632612ffd1522d-80fcb86b2ecfaebb-01 outer:exit 2b-7c3f685d1de75f811ab80f2ac7632612ffd1522d-7dae7c9a4e55c0a9-01
2021-11-23T06:39:47.569Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:39:47.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-8394cdcbf1268bb636009010e2b9025f02caf743-57ca60fb23ca378d-01 outer:exit 2b-8394cdcbf1268bb636009010e2b9025f02caf743-7e7b8b46fe9786fc-01
2021-11-23T06:39:47.572Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:39:47.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-f981881a8613703b841c3610dc629c188ab591bd-5cf5ba5b9a584f02-01 outer:exit 2b-f981881a8613703b841c3610dc629c188ab591bd-3b5871ae82af6cc0-01
2021-11-23T06:39:47.602Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (373ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:55.285Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:55.286Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:55.286Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:55.287Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:55.350Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:55.501Z appoptics:patching patched crypto 
2021-11-23T06:39:55.522Z appoptics:patching patched https 
2021-11-23T06:39:55.523Z appoptics:patching patched http 
2021-11-23T06:39:55.573Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:55.574Z appoptics:patching patched fs 
2021-11-23T06:39:55.607Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v17.1.0)
2021-11-23T06:39:55.615Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2021-11-23T06:39:55.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fdb4a0c02e9e7b45a7f4031c8bfffcec448c73e-055d342ee1a7e88a-01 outer:exit 2b-3fdb4a0c02e9e7b45a7f4031c8bfffcec448c73e-18380fca9bada4d5-01
2021-11-23T06:39:55.682Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:39:55.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-a39185eebaca379ee66760ba980dbe5343530ed4-f7d36585a9572648-01 outer:exit 2b-a39185eebaca379ee66760ba980dbe5343530ed4-9b91b9a85d8cff17-01
2021-11-23T06:39:55.760Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:39:55.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-3513e8d832f700650b51899a49d47d9740dd4f47-7813be4667768b8b-01 outer:exit 2b-3513e8d832f700650b51899a49d47d9740dd4f47-311b679b6b0a56f4-01
2021-11-23T06:39:55.766Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:39:55.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5eb813198154b388b19aef54757c85115c0fe74-61bca96ecad3e56b-01 outer:exit 2b-c5eb813198154b388b19aef54757c85115c0fe74-3b15fbf2097f1bc6-01
2021-11-23T06:39:55.769Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:39:55.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-0748c88b0fbd98b0a528ba92a375c706775ed598-b04260b7d6b7f2ce-01 outer:exit 2b-0748c88b0fbd98b0a528ba92a375c706775ed598-68ec97b55cb40707-01
2021-11-23T06:39:55.775Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:39:55.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-a04b02f016bb4408f760683cb106e123b0693217-588d250144bb92c8-01 outer:exit 2b-a04b02f016bb4408f760683cb106e123b0693217-4b4e4a3717aaedf7-01
2021-11-23T06:39:55.779Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:39:55.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-adecfda8466d22e55587cb95cd6541fa8a8040de-046698d5ba7b45b7-01 outer:exit 2b-adecfda8466d22e55587cb95cd6541fa8a8040de-673d1c4af63db999-01
2021-11-23T06:39:55.782Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:39:55.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-12388c0aeef1db1da7a2d3edcb0baa8a5d6a0536-97c37b554a54eb82-01 outer:exit 2b-12388c0aeef1db1da7a2d3edcb0baa8a5d6a0536-32396ec900a72c99-01
2021-11-23T06:39:55.786Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:39:55.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-39727ef6e524719d7ddf23a142d13dd9b2e5408c-e48789c924449af3-01 outer:exit 2b-39727ef6e524719d7ddf23a142d13dd9b2e5408c-b83115bab14fc248-01
2021-11-23T06:39:55.789Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:39:55.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbaa2e5f3ee9a7b129354f02f3c764a2775ba2be-303eef269c120ea6-01 outer:exit 2b-bbaa2e5f3ee9a7b129354f02f3c764a2775ba2be-17e5a27d6601d27a-01
2021-11-23T06:39:55.793Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:39:55.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-84c071803e595f2387fd18af1331608d89676e9e-c44f2af7df925ca1-01 outer:exit 2b-84c071803e595f2387fd18af1331608d89676e9e-1a84ed06398bd56a-01
2021-11-23T06:39:55.799Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:39:55.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6f93058663da3403cc62c1cf3ff83b33ca4ffca-07046f8390a51343-01 outer:exit 2b-e6f93058663da3403cc62c1cf3ff83b33ca4ffca-2d34de158ba6ddd0-01
2021-11-23T06:39:55.806Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:39:55.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7784b852c34c2c83211ac690fbdfccc703e06cb-05958725405e439e-01 outer:exit 2b-e7784b852c34c2c83211ac690fbdfccc703e06cb-0fd9c0f49ecf6d47-01
2021-11-23T06:39:55.825Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:39:55.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-846c1fc4f7b8919be5f3f292e8775e21e23eb094-e47aca11312f19db-01 outer:exit 2b-846c1fc4f7b8919be5f3f292e8775e21e23eb094-f0ec020da7828130-01
2021-11-23T06:39:55.857Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:39:55.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9c52c0ef440c03b89342a387f425b65073839bf-68391645f859e93e-01 outer:exit 2b-a9c52c0ef440c03b89342a387f425b65073839bf-f70cd6cf1a9cfafd-01
2021-11-23T06:39:55.861Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:39:55.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e9df83115ac61a22fdf544a11b56a6d05416490-ae0e0fd5fcc7d4e5-01 outer:exit 2b-2e9df83115ac61a22fdf544a11b56a6d05416490-d8525d5533e39098-01
2021-11-23T06:39:55.863Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:39:55.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc80c22d64105d9d434ec3ea35dae816b3352fb8-d32fcea3c1904396-01 outer:exit 2b-bc80c22d64105d9d434ec3ea35dae816b3352fb8-8a3054ba3aa977b9-01
2021-11-23T06:39:55.867Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:39:55.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9fae5045d32aa2795555d8f1e800c4efd2fae64-322fee405b1772f2-01 outer:exit 2b-b9fae5045d32aa2795555d8f1e800c4efd2fae64-b8694821253f3816-01
2021-11-23T06:39:55.870Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:39:55.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-507536d32dee97124111db820f81e2e7096912cf-6fbb0d16a5378a42-01 outer:exit 2b-507536d32dee97124111db820f81e2e7096912cf-d43c8486e5ca1d4a-01
2021-11-23T06:39:55.873Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:39:55.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-259e362df5c52e1d6d2bb2ed1199c051e23bbdb2-7154374a23df5428-01 outer:exit 2b-259e362df5c52e1d6d2bb2ed1199c051e23bbdb2-de6e3c16510a71e2-01
2021-11-23T06:39:55.875Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:39:55.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ea41ad35658d06007e94d3c70fbbf25696f0c04-cc5343f6e1de7e68-01 outer:exit 2b-7ea41ad35658d06007e94d3c70fbbf25696f0c04-78a41456570f1d3c-01
2021-11-23T06:39:55.878Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:39:55.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b59b158982a068339fa71a9277961a794ad1a2f-8e08cf2c6431747b-01 outer:exit 2b-0b59b158982a068339fa71a9277961a794ad1a2f-2854c3433e6097d4-01
2021-11-23T06:39:55.880Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:39:55.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d707ac88dda67f87e55d1ff8e3ac9c958d0bba0-8dfc1c667ae50441-01 outer:exit 2b-7d707ac88dda67f87e55d1ff8e3ac9c958d0bba0-eeab8d9e1b2d2cd0-01
2021-11-23T06:39:55.884Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:39:55.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b816c858e9386333f7a8f22040f703f2d0c8ddd-e7da9eca7b0435e5-01 outer:exit 2b-3b816c858e9386333f7a8f22040f703f2d0c8ddd-825f8573e9486d11-01
2021-11-23T06:39:55.887Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:39:55.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d666255b407abbb5f23ac9e47adc94451775a65-2d766d2bec9921ff-01 outer:exit 2b-8d666255b407abbb5f23ac9e47adc94451775a65-bb72c78e22140d4d-01
2021-11-23T06:39:55.889Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:39:55.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-dea63fcf772f3d0e34cc56d7b2725c6beb180f81-e8ba493e83e44d16-01 outer:exit 2b-dea63fcf772f3d0e34cc56d7b2725c6beb180f81-416f32861efa992f-01
2021-11-23T06:39:55.892Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:39:55.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d11ea0c18c2dc8daa75f7fac6bd67321164ff4c-9e938a64defc6ef2-01 outer:exit 2b-7d11ea0c18c2dc8daa75f7fac6bd67321164ff4c-1cf15447ee1514b3-01
2021-11-23T06:39:55.899Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:39:55.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-d59f8b34396879410a9ead046891610121bcc0aa-e6d1cdf73865253f-01 outer:exit 2b-d59f8b34396879410a9ead046891610121bcc0aa-649408c8b0ee4118-01
2021-11-23T06:39:55.906Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:39:55.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7fd5af06e5062ec61b8acd993cdfeb7d7afdfd6-6e4e54097f56da3b-01 outer:exit 2b-b7fd5af06e5062ec61b8acd993cdfeb7d7afdfd6-3c2fa6f6868be976-01
2021-11-23T06:39:55.916Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:39:55.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c3b8a169416039072b2935fb8ccd02f57dafb9c-dc682b477a13e7cd-01 outer:exit 2b-2c3b8a169416039072b2935fb8ccd02f57dafb9c-07d35a1e99d9c367-01
2021-11-23T06:39:55.925Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:39:55.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-fed303ee3408f7906e5ed33b95e90d935a607b91-ff2667345a40a56a-01 outer:exit 2b-fed303ee3408f7906e5ed33b95e90d935a607b91-5285d602b1c5260a-01
2021-11-23T06:39:55.927Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:39:55.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fbeaa2cc6727dd848a35725049860dba8a9e0a3-a2b10fd670c49e1b-01 outer:exit 2b-3fbeaa2cc6727dd848a35725049860dba8a9e0a3-e2711ed422ea7cda-01
2021-11-23T06:39:55.931Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:39:55.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-c16430f923c97815c7e1fcd2b73e254f1cddd380-ddb9949c92778b15-01 outer:exit 2b-c16430f923c97815c7e1fcd2b73e254f1cddd380-92df051013bd5184-01
2021-11-23T06:39:55.939Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:39:55.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ef28102c5976c0edff55998988e670f8335b975-064c02a61f226538-01 outer:exit 2b-1ef28102c5976c0edff55998988e670f8335b975-abb51e5d51ea5fae-01
2021-11-23T06:39:55.942Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:39:55.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-64d2d49e1901da92df0b4731f0231a03bd5eda27-e73040b3de3f2385-01 outer:exit 2b-64d2d49e1901da92df0b4731f0231a03bd5eda27-8a1bfcc80e9d30f9-01
2021-11-23T06:39:55.944Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:39:55.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-92b843d6e7439bd45cec1b8c6932ffac2e09b2d2-94c99f1ab6ec1eb5-01 outer:exit 2b-92b843d6e7439bd45cec1b8c6932ffac2e09b2d2-7b3770aab4910845-01
2021-11-23T06:39:55.947Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:39:55.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-3acbbbb77bc2553c4ee5f91413c6e035ae794ccd-fd8df6345e4839e9-01 outer:exit 2b-3acbbbb77bc2553c4ee5f91413c6e035ae794ccd-760b46605e250d10-01
2021-11-23T06:39:55.949Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:39:55.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-09e6577039d25506ac93462f46351e4e84cc64c0-e4dc3acfb3c3a169-01 outer:exit 2b-09e6577039d25506ac93462f46351e4e84cc64c0-efb0d6b4e9a699ce-01
2021-11-23T06:39:55.952Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:39:55.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-f292be2fa4457f3d6df4a85d0fe0945d7c5d6cc3-995e5a5da9254e93-01 outer:exit 2b-f292be2fa4457f3d6df4a85d0fe0945d7c5d6cc3-da93820e52f53e2b-01
2021-11-23T06:39:55.968Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:39:55.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-42ea77e3a65b8abb3b8528900755915e42d564ca-7adb2ac8c11997ba-01 outer:exit 2b-42ea77e3a65b8abb3b8528900755915e42d564ca-2a9d839b2ebe65d7-01
2021-11-23T06:39:55.980Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:39:55.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1cef6e09471ffff5a2f8ee377c66cb81e3f30ea-4423cff502c15e65-01 outer:exit 2b-a1cef6e09471ffff5a2f8ee377c66cb81e3f30ea-eeb42a18e85e7c5f-01
2021-11-23T06:39:55.983Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:39:55.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-711ca436039e0043e005cb930021ea5553be4afa-1c5fd314986430d2-01 outer:exit 2b-711ca436039e0043e005cb930021ea5553be4afa-1130efd5550aefe1-01
2021-11-23T06:39:55.986Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:39:55.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcab3ff6f3e9d736991dda35b347517495fba7e7-dbf91d75dc4b16c1-01 outer:exit 2b-bcab3ff6f3e9d736991dda35b347517495fba7e7-acb30d20b1a8f595-01
2021-11-23T06:39:55.989Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:39:56.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed54ee1d6efc9867627b0f8e4dcda2e6a00c5ffe-bcf9fb3213c2b5d3-01 outer:exit 2b-ed54ee1d6efc9867627b0f8e4dcda2e6a00c5ffe-5e0cc16e7fbc6b62-01
2021-11-23T06:39:56.021Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (398ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:03.785Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:03.785Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:03.786Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:03.786Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:03.861Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:04.009Z appoptics:patching patched crypto 
2021-11-23T06:40:04.029Z appoptics:patching patched https 
2021-11-23T06:40:04.030Z appoptics:patching patched http 
2021-11-23T06:40:04.080Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:04.080Z appoptics:patching patched fs 
2021-11-23T06:40:04.113Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v17.1.0)
2021-11-23T06:40:04.122Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2021-11-23T06:40:04.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-c828441e67bff41523bcd03a015ac59756246f0b-78553074b68ad94d-01 outer:exit 2b-c828441e67bff41523bcd03a015ac59756246f0b-678a0132cf606878-01
2021-11-23T06:40:04.185Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:40:04.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3f393e821677e3140ee9451f99c278c0260bfd6-625e888176abfbe7-01 outer:exit 2b-d3f393e821677e3140ee9451f99c278c0260bfd6-295a56c8e7714a86-01
2021-11-23T06:40:04.246Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:40:04.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-601de6d5fa3a9b8c7a4be24ccb37e1ec49f90b39-7be41500dc20c4f4-01 outer:exit 2b-601de6d5fa3a9b8c7a4be24ccb37e1ec49f90b39-3d0133e659ce7eda-01
2021-11-23T06:40:04.250Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:40:04.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-152ab79c7f9148e7315bff89655a678d8566cd52-2f9851654e10d0e3-01 outer:exit 2b-152ab79c7f9148e7315bff89655a678d8566cd52-6f4a7a82ff4d99b3-01
2021-11-23T06:40:04.254Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:40:04.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-90d8910ca420ee7af853c8750dfec0b1562dddaa-35e7928297ac2b37-01 outer:exit 2b-90d8910ca420ee7af853c8750dfec0b1562dddaa-62c585a1c69a7a10-01
2021-11-23T06:40:04.259Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:40:04.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee60811875a7ff985a844967aad58c3e7ba9bbc1-3d90a78563079c5f-01 outer:exit 2b-ee60811875a7ff985a844967aad58c3e7ba9bbc1-9d9e7f024c397a6d-01
2021-11-23T06:40:04.263Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:40:04.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ea8dbe85884e9089e01f1010637dd36bc8e71d2-f8da9b6f8efb3e8b-01 outer:exit 2b-4ea8dbe85884e9089e01f1010637dd36bc8e71d2-d169e5c7f9978b99-01
2021-11-23T06:40:04.266Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:40:04.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-56c4caf3f6a2ec92fdb6c98a17f8ff888e098cb5-b6802269c2262d16-01 outer:exit 2b-56c4caf3f6a2ec92fdb6c98a17f8ff888e098cb5-453d3552c2d00c1f-01
2021-11-23T06:40:04.270Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:40:04.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce4ee117309d4835934caf4b315fbb9ebff403f0-deffdcdda724d9cd-01 outer:exit 2b-ce4ee117309d4835934caf4b315fbb9ebff403f0-37ae8b41a7cb3360-01
2021-11-23T06:40:04.274Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:40:04.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7a74be9c7f8dd713d310ca4eb0dd3e1a0d3b207-5ff161374ff25dd5-01 outer:exit 2b-d7a74be9c7f8dd713d310ca4eb0dd3e1a0d3b207-e111149b56387f97-01
2021-11-23T06:40:04.278Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:40:04.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-c213f59e496a3a21acf2827e2f08cf2bae66ec0c-404dae54cf0faf72-01 outer:exit 2b-c213f59e496a3a21acf2827e2f08cf2bae66ec0c-1b0e704143a1d45b-01
2021-11-23T06:40:04.283Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:40:04.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1af8dadf467bf31818a0a7a2b979b96b42ab22e-0cd05e3bf1f8be41-01 outer:exit 2b-f1af8dadf467bf31818a0a7a2b979b96b42ab22e-8eb3d89cdc61e62e-01
2021-11-23T06:40:04.290Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:40:04.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-51639ad8ad73aa30071d12f016d1d2ccff7708b6-f8683959d17de5c4-01 outer:exit 2b-51639ad8ad73aa30071d12f016d1d2ccff7708b6-2b61df46f837bbb4-01
2021-11-23T06:40:04.308Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:40:04.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa36af4304d2e09f94dc10d6644ad1aacd58e94a-bfa56030dd3233a7-01 outer:exit 2b-fa36af4304d2e09f94dc10d6644ad1aacd58e94a-096fd3c347baf95e-01
2021-11-23T06:40:04.346Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:40:04.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-7308c87414d0d42fafc6d2257c20e51a332ddac2-88cc2edfb745b764-01 outer:exit 2b-7308c87414d0d42fafc6d2257c20e51a332ddac2-58f5ac593d83e7bf-01
2021-11-23T06:40:04.349Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:40:04.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fea4782bffd86e1fa871ee7b8df94c39591af77-2f4221b28bd65080-01 outer:exit 2b-8fea4782bffd86e1fa871ee7b8df94c39591af77-431e5c8fedbc1f74-01
2021-11-23T06:40:04.352Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:40:04.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-d91e3c0ee7bbc43ac0ea4d6cedb83d5c525f8fdc-43c09a6bf6ad20db-01 outer:exit 2b-d91e3c0ee7bbc43ac0ea4d6cedb83d5c525f8fdc-b99a478cf75d3d08-01
2021-11-23T06:40:04.355Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:40:04.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-a323972b61278855a934853303a345a76695bb0f-ffc9f926ce124d09-01 outer:exit 2b-a323972b61278855a934853303a345a76695bb0f-a4a19a51fd6686de-01
2021-11-23T06:40:04.358Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:40:04.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-e337fb221917746f6d88d782f4b7276959203e0f-32cf9eae34e4303c-01 outer:exit 2b-e337fb221917746f6d88d782f4b7276959203e0f-8c9cfd5b686de814-01
2021-11-23T06:40:04.360Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:40:04.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-2219aa8bb4c6ea901078edb851e7c3c2074ff87a-16855d621658b1bb-01 outer:exit 2b-2219aa8bb4c6ea901078edb851e7c3c2074ff87a-050dc0f25a1f1c47-01
2021-11-23T06:40:04.363Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:40:04.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-300844df4f77a0cca07479a9764f498527aead2d-bb4c7088d02e108d-01 outer:exit 2b-300844df4f77a0cca07479a9764f498527aead2d-d3f66ea131120d60-01
2021-11-23T06:40:04.366Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:40:04.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-07800eaa01bdb3e4c649b0919985281f35946628-4f07a4c4aa7ae8a1-01 outer:exit 2b-07800eaa01bdb3e4c649b0919985281f35946628-c7c47d5b35fd7b8f-01
2021-11-23T06:40:04.368Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:40:04.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f8b132bc65c4a35da66d5e81b041afd6c859531-b177a1650b33d0d6-01 outer:exit 2b-9f8b132bc65c4a35da66d5e81b041afd6c859531-ae23b99752d0c9fa-01
2021-11-23T06:40:04.372Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:40:04.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fce1467a21fbf507662ab68fe60e75d33466998-1a8e3921c891b2fe-01 outer:exit 2b-9fce1467a21fbf507662ab68fe60e75d33466998-3c886aeee77707dc-01
2021-11-23T06:40:04.375Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:40:04.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-af17b92a33018f804b2d6b23cdbe56ae66813282-31ca6338c7749e34-01 outer:exit 2b-af17b92a33018f804b2d6b23cdbe56ae66813282-e7f68c8cede276fa-01
2021-11-23T06:40:04.377Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:40:04.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-65daba473c1dfa3a9c6af272434a97dac4304db9-056a0aeb089c454d-01 outer:exit 2b-65daba473c1dfa3a9c6af272434a97dac4304db9-733a55d3e28ae323-01
2021-11-23T06:40:04.380Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:40:04.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd282324ca75657b4012c8521a4707a8333496ea-3fe06f91214711a1-01 outer:exit 2b-dd282324ca75657b4012c8521a4707a8333496ea-5d1932331c46d6d4-01
2021-11-23T06:40:04.386Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:40:04.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1310cc00d9ac342f98731816707351b67f85b23-bfb3d48fecc3dc4c-01 outer:exit 2b-e1310cc00d9ac342f98731816707351b67f85b23-040ed0dbe1b43802-01
2021-11-23T06:40:04.392Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:40:04.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fdb227a2795ee4a17ec1bd3144c2a62f563fb6f-de388acd2ca34cb7-01 outer:exit 2b-3fdb227a2795ee4a17ec1bd3144c2a62f563fb6f-d143e43865c28f42-01
2021-11-23T06:40:04.413Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:40:04.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7380c49855fede2f2ee590c460297db8895dd36-64379d7b71fe0222-01 outer:exit 2b-c7380c49855fede2f2ee590c460297db8895dd36-0bfee40a01452a86-01
2021-11-23T06:40:04.425Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:40:04.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-a123f4b916164e408f3527368f141e1740132efa-fd4c5f2baae7d362-01 outer:exit 2b-a123f4b916164e408f3527368f141e1740132efa-6f5909d5488ad394-01
2021-11-23T06:40:04.434Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:40:04.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-91b515c198891a63c2a2fefd9416bb2ec851ecd7-092b3efd5e24001b-01 outer:exit 2b-91b515c198891a63c2a2fefd9416bb2ec851ecd7-c1de1c63cf3c748a-01
2021-11-23T06:40:04.440Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:40:04.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dc2d3a75baca565a0ad466468a621764ed81c53-c80ca0c41c9f9c6e-01 outer:exit 2b-7dc2d3a75baca565a0ad466468a621764ed81c53-ffc9fc5e255fadc3-01
2021-11-23T06:40:04.458Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:40:04.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-caf2b25f79e809d624b02cd541c2f742cbc56482-a1a52f5014610b01-01 outer:exit 2b-caf2b25f79e809d624b02cd541c2f742cbc56482-d3fe82c2ff39fb54-01
2021-11-23T06:40:04.461Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:40:04.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ed2b93a502cb95b7bc3c6a1b8cef965945fccd6-6765eed320c8ffb2-01 outer:exit 2b-2ed2b93a502cb95b7bc3c6a1b8cef965945fccd6-76d782c804510330-01
2021-11-23T06:40:04.464Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:40:04.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dacc0ee86b9762f154e230ac9b50809bd34d64e-f4e36074ac6a50e4-01 outer:exit 2b-4dacc0ee86b9762f154e230ac9b50809bd34d64e-28d67ac2beb72b6f-01
2021-11-23T06:40:04.469Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:40:04.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f6f285003f7db1251e7be2b728c488a2acae8ee-cbb8383fcd5b6788-01 outer:exit 2b-6f6f285003f7db1251e7be2b728c488a2acae8ee-f2300c892eefba87-01
2021-11-23T06:40:04.477Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:40:04.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-366a9483f8f840273a3b777cbff71f96c81f5209-e988321d6781f056-01 outer:exit 2b-366a9483f8f840273a3b777cbff71f96c81f5209-1937967d54eece9c-01
2021-11-23T06:40:04.484Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:40:04.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-84dff6c617351006629a6fed4d271c99e1e7c1f9-fb66be0180e3d4f3-01 outer:exit 2b-84dff6c617351006629a6fed4d271c99e1e7c1f9-031d55901ad35283-01
2021-11-23T06:40:04.500Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:40:04.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1646d7abc2d2ed78a8ebc32864936ec7c936d6b-3b836df7cc3d2908-01 outer:exit 2b-f1646d7abc2d2ed78a8ebc32864936ec7c936d6b-8908e9d07eba173c-01
2021-11-23T06:40:04.512Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:40:04.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcb54efd96087d8b5d78776ce0d7dd7a1b62b894-21bfa47e1ce2694e-01 outer:exit 2b-fcb54efd96087d8b5d78776ce0d7dd7a1b62b894-0f0b7af99c08c9d5-01
2021-11-23T06:40:04.516Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:40:04.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-84c8ee0560406a79e4f2e860351ad46c15b6e7b9-a64d5e6d88da34bf-01 outer:exit 2b-84c8ee0560406a79e4f2e860351ad46c15b6e7b9-95bed912506a013f-01
2021-11-23T06:40:04.519Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:40:04.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-28db8624e04608e5ca4edbdb60f50efcca4aa11a-480e3093de059b86-01 outer:exit 2b-28db8624e04608e5ca4edbdb60f50efcca4aa11a-e524d97b5ee0c557-01
2021-11-23T06:40:04.525Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:40:04.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-39c0380258192942b27f4d8df4c3b8b51a56208b-30d7bea98eb0064b-01 outer:exit 2b-39c0380258192942b27f4d8df4c3b8b51a56208b-225c24d1c58d5a71-01
2021-11-23T06:40:04.566Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (436ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:11.546Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:11.547Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:11.547Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:11.547Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:11.612Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:11.766Z appoptics:patching patched crypto 
2021-11-23T06:40:11.785Z appoptics:patching patched https 
2021-11-23T06:40:11.785Z appoptics:patching patched http 
2021-11-23T06:40:11.837Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:11.837Z appoptics:patching patched fs 
2021-11-23T06:40:11.871Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v17.1.0)
2021-11-23T06:40:11.879Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2021-11-23T06:40:11.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-668b4dd73842c3b7ca55369f40cb0ceed008bdb3-47c0eca867ebb244-01 outer:exit 2b-668b4dd73842c3b7ca55369f40cb0ceed008bdb3-1d3ac7ef41960181-01
2021-11-23T06:40:11.940Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:40:12.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-19dfa8d9f705c5cc4bfa94f0c2f70a82c9f852b6-315d3674466a8a05-01 outer:exit 2b-19dfa8d9f705c5cc4bfa94f0c2f70a82c9f852b6-0e74cdda6a8cf98f-01
2021-11-23T06:40:12.013Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:40:12.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-12c0f2f31a6f0f3ea45033ec58e748e3a45e65e3-eb481b97a281a0ce-01 outer:exit 2b-12c0f2f31a6f0f3ea45033ec58e748e3a45e65e3-4a3915489c5e6294-01
2021-11-23T06:40:12.021Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:40:12.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-79542204f05800fd16db7dbfdaafae3e802971ee-8fc30299dbb6e5b9-01 outer:exit 2b-79542204f05800fd16db7dbfdaafae3e802971ee-591a28aa37ccbcbd-01
2021-11-23T06:40:12.026Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:40:12.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-f50efc9388f50e7b0ffb668175e1a2e8c217edeb-de987b32c0c40c91-01 outer:exit 2b-f50efc9388f50e7b0ffb668175e1a2e8c217edeb-c96b31cf01e4feee-01
2021-11-23T06:40:12.034Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:40:12.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-292deb505d04b262603951de82399b3e3af8a2e1-e00454bfaad287d3-01 outer:exit 2b-292deb505d04b262603951de82399b3e3af8a2e1-cff24f9f6404bbc2-01
2021-11-23T06:40:12.038Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:40:12.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-f99585910ce49de5aacfd55261032a3d30eb94e1-fb1b580dbc493b46-01 outer:exit 2b-f99585910ce49de5aacfd55261032a3d30eb94e1-eac77e396ac0344e-01
2021-11-23T06:40:12.041Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:40:12.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d8967fd9de0f97f806eed1e7375fa4107cbf66e-f009ecfbe94fb7ce-01 outer:exit 2b-2d8967fd9de0f97f806eed1e7375fa4107cbf66e-2b11dbbbb39f4ef0-01
2021-11-23T06:40:12.047Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:40:12.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b6519866cf615c67722dcbdd1b5deae1f5c37f6-be10dce56fbe5f1c-01 outer:exit 2b-3b6519866cf615c67722dcbdd1b5deae1f5c37f6-b68eff1a02a6bd81-01
2021-11-23T06:40:12.050Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:40:12.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-144569cec25d799e107d6dabb8ffc0bc1359956d-b52143a1667bbeee-01 outer:exit 2b-144569cec25d799e107d6dabb8ffc0bc1359956d-6aed3ed42971ae16-01
2021-11-23T06:40:12.055Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:40:12.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-43f04423d8f254eac6e8f056d6a43320528819d0-f36ff0e36122b5e1-01 outer:exit 2b-43f04423d8f254eac6e8f056d6a43320528819d0-36015bcfaf2fc62f-01
2021-11-23T06:40:12.064Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:40:12.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf1aea7d7551ae48f7989ee02569880c6f4ec190-b23881ed4777b78e-01 outer:exit 2b-bf1aea7d7551ae48f7989ee02569880c6f4ec190-6c51637fae72c72a-01
2021-11-23T06:40:12.075Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:40:12.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-a79bf2c66c0d7b75af42f9b4744a042bcf437168-264e273b7e5d1d4d-01 outer:exit 2b-a79bf2c66c0d7b75af42f9b4744a042bcf437168-4feebd1b986d4219-01
2021-11-23T06:40:12.095Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:40:12.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-68c4e1b1ed98761a45a1a7587d6b25c82d9aff8a-481938f2a8ff930c-01 outer:exit 2b-68c4e1b1ed98761a45a1a7587d6b25c82d9aff8a-65c63ca84fd4ce68-01
2021-11-23T06:40:12.150Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:40:12.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-cac8ef203b815ccee91fe9f444f59f5a8756b5c2-a233aa3078b91667-01 outer:exit 2b-cac8ef203b815ccee91fe9f444f59f5a8756b5c2-cdd070e4f76fc403-01
2021-11-23T06:40:12.153Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:40:12.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9308884f170ef5e9617b392a1073ef332671eef-fddc58a8d6b7a59d-01 outer:exit 2b-b9308884f170ef5e9617b392a1073ef332671eef-5123a02de28bd973-01
2021-11-23T06:40:12.156Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:40:12.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ce1d6c599147aef955df04be9163eab6253a95a-c74509606b6dcfcf-01 outer:exit 2b-6ce1d6c599147aef955df04be9163eab6253a95a-dd6251e7ebce1f0f-01
2021-11-23T06:40:12.161Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:40:12.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-36e1056a665efe8b6a606a8e09edc678ae80f489-c2a22f230371fbd6-01 outer:exit 2b-36e1056a665efe8b6a606a8e09edc678ae80f489-7ad453f351807569-01
2021-11-23T06:40:12.164Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:40:12.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9a76a09b1234bc44693acd212ada648404c2c90-7064a834a9c9f385-01 outer:exit 2b-b9a76a09b1234bc44693acd212ada648404c2c90-8a7fa30961e5e0b5-01
2021-11-23T06:40:12.167Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:40:12.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-416f04970c227faea6ea1800cadbd251b6f824c9-a636a61723302327-01 outer:exit 2b-416f04970c227faea6ea1800cadbd251b6f824c9-a13c9222d3165737-01
2021-11-23T06:40:12.170Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:40:12.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-25c04bd2f6dd60dfa4920d91fa187b690674cb11-b830e0fc942d5f04-01 outer:exit 2b-25c04bd2f6dd60dfa4920d91fa187b690674cb11-ce0c76bd95043540-01
2021-11-23T06:40:12.172Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:40:12.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-020dcf8b65c3df6041e1231b61b4e4b073e8ca80-d2f4d50bea5b6187-01 outer:exit 2b-020dcf8b65c3df6041e1231b61b4e4b073e8ca80-c76e8c98eb5524f6-01
2021-11-23T06:40:12.175Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:40:12.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb636902057647cf074908ee2fb7e6f701bb56e2-2337d1ba44dfb32b-01 outer:exit 2b-cb636902057647cf074908ee2fb7e6f701bb56e2-01061e5226c2c5c1-01
2021-11-23T06:40:12.178Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:40:12.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-58169af7f53b96875f3ee23e3ce35a31b97ec822-d67322003ab4d84c-01 outer:exit 2b-58169af7f53b96875f3ee23e3ce35a31b97ec822-4ed966c93e72a33b-01
2021-11-23T06:40:12.181Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:40:12.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-466322851766fd783cae0a4d9fa0bf250c1f494e-93f2c9fc3e6662c9-01 outer:exit 2b-466322851766fd783cae0a4d9fa0bf250c1f494e-14373076ccd3ecf4-01
2021-11-23T06:40:12.183Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:40:12.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-918cb94660408f796cf4f7ed0477b54cc7aa49d9-a06525b69642c46c-01 outer:exit 2b-918cb94660408f796cf4f7ed0477b54cc7aa49d9-188292b572635a19-01
2021-11-23T06:40:12.186Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:40:12.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b4bece6b1310af45d6327cf50dd973a2ffdf188-6b2998fa49dffc3d-01 outer:exit 2b-8b4bece6b1310af45d6327cf50dd973a2ffdf188-49a7a7e42515c018-01
2021-11-23T06:40:12.192Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:40:12.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-27353a32bde552f8c61fc94634753845bc1a56e5-37cb48a9c665dc02-01 outer:exit 2b-27353a32bde552f8c61fc94634753845bc1a56e5-1e2eb5af2b5025d3-01
2021-11-23T06:40:12.199Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:40:12.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d977206c8edc3ebd927cfe1a1f8da3de3954c57-8c83abeb7b53024f-01 outer:exit 2b-5d977206c8edc3ebd927cfe1a1f8da3de3954c57-6227f46ea2f538da-01
2021-11-23T06:40:12.214Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:40:12.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dd43c46e1cd3ef5a08c9d6b4cbb5d5975c22ee6-828b6adb86e1eafe-01 outer:exit 2b-9dd43c46e1cd3ef5a08c9d6b4cbb5d5975c22ee6-cb678673f4e758e7-01
2021-11-23T06:40:12.238Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:40:12.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-b18706bdb745ab81dc12391cf012e34b9315cc58-1612d66927f5f5fe-01 outer:exit 2b-b18706bdb745ab81dc12391cf012e34b9315cc58-aa64f092a116687d-01
2021-11-23T06:40:12.240Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:40:12.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cbafe2a629c444b4febe81a7fd3113c97470df6-b1a99607056be8c4-01 outer:exit 2b-0cbafe2a629c444b4febe81a7fd3113c97470df6-7f62855978165940-01
2021-11-23T06:40:12.245Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:40:12.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-402f9c7be9134872768eed6711ae2b968edee4bd-5e300f2dbb0654a6-01 outer:exit 2b-402f9c7be9134872768eed6711ae2b968edee4bd-cd4c7380952a7043-01
2021-11-23T06:40:12.255Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:40:12.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-8052e445d24dc2a7a126aaa9e8b7e3e3cf4489cd-c3a5b5e006372810-01 outer:exit 2b-8052e445d24dc2a7a126aaa9e8b7e3e3cf4489cd-7aabfece7153ff66-01
2021-11-23T06:40:12.258Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:40:12.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3299868db5e5507d485953a0904aeab9fd5426d-2d78ae77a6993e03-01 outer:exit 2b-c3299868db5e5507d485953a0904aeab9fd5426d-7eb4b692fe592ec1-01
2021-11-23T06:40:12.260Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:40:12.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-91f80a1b42d81cf3bf09fe879b77bc11a53adaa5-e6222fde21df61f5-01 outer:exit 2b-91f80a1b42d81cf3bf09fe879b77bc11a53adaa5-c81a9e2320bc7d9e-01
2021-11-23T06:40:12.263Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:40:12.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-2461607a5b2b0f748399c74f5c66c8a8a5ec798f-6dc1fd446cbbae77-01 outer:exit 2b-2461607a5b2b0f748399c74f5c66c8a8a5ec798f-4ef49b194e946d05-01
2021-11-23T06:40:12.265Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:40:12.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee16e047a93eba4e90b148246a0a49b491b954a0-940d6b5ab7785b68-01 outer:exit 2b-ee16e047a93eba4e90b148246a0a49b491b954a0-f52cdbd6cc48921b-01
2021-11-23T06:40:12.268Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:40:12.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-01234b6fcaf0ceedadba7dcab580abb9e38b604b-25940dfc580203f2-01 outer:exit 2b-01234b6fcaf0ceedadba7dcab580abb9e38b604b-035c74bee5140f2e-01
2021-11-23T06:40:12.282Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:40:12.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-fde25ed05a6ba8b7c36510dfa0e3e5a575c9958f-d7a128bb591dcb01-01 outer:exit 2b-fde25ed05a6ba8b7c36510dfa0e3e5a575c9958f-05727f8e4dcbe59a-01
2021-11-23T06:40:12.293Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:40:12.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-04d44a2178d19c99563b4136939c1b2763bab7d8-0d0e912d966e3258-01 outer:exit 2b-04d44a2178d19c99563b4136939c1b2763bab7d8-1acec670e9d12a4a-01
2021-11-23T06:40:12.296Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:40:12.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-49ad7d9335b7376d93c237f9dc84ef5c78c96e2c-ed4ec101591f2c05-01 outer:exit 2b-49ad7d9335b7376d93c237f9dc84ef5c78c96e2c-7c20fab7ac05d2bc-01
2021-11-23T06:40:12.300Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:40:12.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-089c375f202dbc92064ebc80893ee27c4d97ccc2-45060302bf00e09c-01 outer:exit 2b-089c375f202dbc92064ebc80893ee27c4d97ccc2-834f18ca665955a5-01
2021-11-23T06:40:12.303Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:40:12.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-0376da990f41263e72baa094d233a26493d1da4b-5804b28e25c9de58-01 outer:exit 2b-0376da990f41263e72baa094d233a26493d1da4b-38061955539b2266-01
2021-11-23T06:40:12.336Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (449ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:19.971Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:19.972Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:19.972Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:19.973Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:20.041Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:20.212Z appoptics:patching patched crypto 
2021-11-23T06:40:20.233Z appoptics:patching patched https 
2021-11-23T06:40:20.234Z appoptics:patching patched http 
2021-11-23T06:40:20.305Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:20.306Z appoptics:patching patched fs 
2021-11-23T06:40:20.356Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v17.1.0)
2021-11-23T06:40:20.366Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2021-11-23T06:40:20.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-435dfe42f35a1b436ca6b865b9d7f93da535c6ae-c70d360c1dd2c6a5-01 outer:exit 2b-435dfe42f35a1b436ca6b865b9d7f93da535c6ae-1ddb1eef71b0f839-01
2021-11-23T06:40:20.436Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:40:20.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-adc4141f593494fd8e6563403f8006820c256f2f-c275eb7eab280f42-01 outer:exit 2b-adc4141f593494fd8e6563403f8006820c256f2f-3ea9a28122c7d903-01
2021-11-23T06:40:20.506Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:40:20.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7e8ad833ed53b075a93fb827899768622ef102a-5d02b94cd3db9c6b-01 outer:exit 2b-f7e8ad833ed53b075a93fb827899768622ef102a-add5050f7105439b-01
2021-11-23T06:40:20.511Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:40:20.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-59e15a9fb0faed9456bec3db81f1ee9e4a8d5cc0-5a38534208c8ac6c-01 outer:exit 2b-59e15a9fb0faed9456bec3db81f1ee9e4a8d5cc0-66939abac93da554-01
2021-11-23T06:40:20.515Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:40:20.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-b026cdfa9ae76ca70ad32b4ed7842cfd36e9cd17-d40779edf8bab8a6-01 outer:exit 2b-b026cdfa9ae76ca70ad32b4ed7842cfd36e9cd17-0c8e3e9039a3c8b9-01
2021-11-23T06:40:20.521Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:40:20.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-57e2dbbd0003eb793a6f97a11c74ea36cf4db1ad-0a4d651f04556cb9-01 outer:exit 2b-57e2dbbd0003eb793a6f97a11c74ea36cf4db1ad-2b409471e63c501d-01
2021-11-23T06:40:20.524Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:40:20.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-6039c980701a5cbc89d5250fef30fc597b2f7b3c-8aa925bf2c83166c-01 outer:exit 2b-6039c980701a5cbc89d5250fef30fc597b2f7b3c-4213c788c5c1333f-01
2021-11-23T06:40:20.528Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:40:20.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-d680aa957f9878f2ef7817b14455f11b474c4591-0181c99dfbb6c4cb-01 outer:exit 2b-d680aa957f9878f2ef7817b14455f11b474c4591-d9c6241d6e801b53-01
2021-11-23T06:40:20.531Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:40:20.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b5095d69c0ac1e2fff356ef265488e4e49adbb2-918bb0e7a30efcd6-01 outer:exit 2b-8b5095d69c0ac1e2fff356ef265488e4e49adbb2-a813c836ae95a8fd-01
2021-11-23T06:40:20.535Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:40:20.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-538e2daa1a978b6ccd79b018059c7ec46d1c77a5-05c98e8a87e1e3c9-01 outer:exit 2b-538e2daa1a978b6ccd79b018059c7ec46d1c77a5-42267ca0c55f61f2-01
2021-11-23T06:40:20.539Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:40:20.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-371655f44f699dae544ee95703bfd58fd2f74fb6-237087c8685d4795-01 outer:exit 2b-371655f44f699dae544ee95703bfd58fd2f74fb6-e35d6c263d9008c8-01
2021-11-23T06:40:20.544Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:40:20.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee0267b29c549e98fe77dfbd72cc1709e464f738-865caa69aa852a54-01 outer:exit 2b-ee0267b29c549e98fe77dfbd72cc1709e464f738-9072682a9853dc02-01
2021-11-23T06:40:20.551Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:40:20.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec4b8d4738c5e1a29b35bcbee379c821a1567d92-04daa6afc0e7b064-01 outer:exit 2b-ec4b8d4738c5e1a29b35bcbee379c821a1567d92-d41127232f1de272-01
2021-11-23T06:40:20.568Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:40:20.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d46c2ebfb8b4f32ddeafcb8b5380349db5df579-36d2e10c602871f2-01 outer:exit 2b-0d46c2ebfb8b4f32ddeafcb8b5380349db5df579-aedd002f742c1243-01
2021-11-23T06:40:20.603Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:40:20.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d82a44fd4f7fe25c96d090eb7d87e6eaa111950-2fafe4477d71e22f-01 outer:exit 2b-2d82a44fd4f7fe25c96d090eb7d87e6eaa111950-c702309d12a4ec8d-01
2021-11-23T06:40:20.607Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:40:20.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b652ab3ed1d087455d335a151606c9df95659db-10fbb97ad6d9d2e3-01 outer:exit 2b-1b652ab3ed1d087455d335a151606c9df95659db-f2420e9617b9dbb7-01
2021-11-23T06:40:20.610Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:40:20.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3a87caf2f82f2154448b7443794f4b3a6bd895c-5105e54f27a980ae-01 outer:exit 2b-d3a87caf2f82f2154448b7443794f4b3a6bd895c-063774b7941445fa-01
2021-11-23T06:40:20.614Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:40:20.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-42213e0d90bb2f76d3de065f78ceaf1577a3680b-46f23d701688b4ed-01 outer:exit 2b-42213e0d90bb2f76d3de065f78ceaf1577a3680b-85d8948d5c2edbe7-01
2021-11-23T06:40:20.617Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:40:20.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-529382dc00742f32aeaae60f246369e85a8d2e73-5e0f14c2184a0ce5-01 outer:exit 2b-529382dc00742f32aeaae60f246369e85a8d2e73-07ece4c954ff89a6-01
2021-11-23T06:40:20.619Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:40:20.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa6eb2813eb47a814fe872f61506b5f20325f953-55c4d77199d1ff2f-01 outer:exit 2b-aa6eb2813eb47a814fe872f61506b5f20325f953-3d94405af29e67ee-01
2021-11-23T06:40:20.622Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:40:20.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-56799024dec8d34321756b62f6f8e9addc5af130-ef6b706b0161f0e2-01 outer:exit 2b-56799024dec8d34321756b62f6f8e9addc5af130-30900263d7cb2e3f-01
2021-11-23T06:40:20.624Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:40:20.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-edd53faf18ee05fe186531f4b084b926ca424761-d319b29dc0955d30-01 outer:exit 2b-edd53faf18ee05fe186531f4b084b926ca424761-4d6aafefb95f14c9-01
2021-11-23T06:40:20.627Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:40:20.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f97871c980c2e79a2b525e48546f34825f0ff52-603cdbc8beb921e0-01 outer:exit 2b-7f97871c980c2e79a2b525e48546f34825f0ff52-3dcb56e216ee38e5-01
2021-11-23T06:40:20.630Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:40:20.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f39cc4f76a5f6a1c8ed66f6a04de973254450fb-ffb6f2fe556a2aa8-01 outer:exit 2b-0f39cc4f76a5f6a1c8ed66f6a04de973254450fb-c43d73e405a03eb5-01
2021-11-23T06:40:20.633Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:40:20.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-06813c49efaa37968dc36e4342d05045bf0b6479-51e9860b0525f537-01 outer:exit 2b-06813c49efaa37968dc36e4342d05045bf0b6479-7b9ea291ec10d90e-01
2021-11-23T06:40:20.636Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:40:20.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e9fbbfacdecb85997c01d3a25dc520292af102b-6063633b83513ec7-01 outer:exit 2b-3e9fbbfacdecb85997c01d3a25dc520292af102b-fddd3b1ebc6d67ac-01
2021-11-23T06:40:20.639Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:40:20.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-01a5a4542a1b03027a0e6f19f6feab1d36409245-08d906dfe77364c0-01 outer:exit 2b-01a5a4542a1b03027a0e6f19f6feab1d36409245-c43439abcd179c4d-01
2021-11-23T06:40:20.646Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:40:20.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-2088678fff6afdbd1ac93c706277255a66f38c3e-9bc2332393ad3516-01 outer:exit 2b-2088678fff6afdbd1ac93c706277255a66f38c3e-59fb368c88be93ea-01
2021-11-23T06:40:20.654Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:40:20.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-68dc894551534eb3281924bbe4ba2bf00d3b5010-33f60e0bf54589c2-01 outer:exit 2b-68dc894551534eb3281924bbe4ba2bf00d3b5010-86ceaa572b6a8870-01
2021-11-23T06:40:20.665Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:40:20.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-41dc65441b1bde123ccc1a4223ce0cd52ee43558-2ef8fa9b9de997b2-01 outer:exit 2b-41dc65441b1bde123ccc1a4223ce0cd52ee43558-e80f36c60a381bfa-01
2021-11-23T06:40:20.673Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:40:20.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-26b9918a5d4e638007d59e223c13194df78e8657-bd72f235555bf54f-01 outer:exit 2b-26b9918a5d4e638007d59e223c13194df78e8657-0bca1c85ba941c92-01
2021-11-23T06:40:20.675Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:40:20.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-9117b311cdd97bb03800f9a84e6ffefddcc16854-d005304a74886c76-01 outer:exit 2b-9117b311cdd97bb03800f9a84e6ffefddcc16854-2ccc482c5ee03718-01
2021-11-23T06:40:20.679Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:40:20.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaba00d85daaf10e103ce470f8635e1afbe0fc99-cb4bc71d3c201a3a-01 outer:exit 2b-eaba00d85daaf10e103ce470f8635e1afbe0fc99-648681ea47653be8-01
2021-11-23T06:40:20.687Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:40:20.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fbea3711714dffd311995292b5f92c22676f0e2-abeeea032519268c-01 outer:exit 2b-9fbea3711714dffd311995292b5f92c22676f0e2-b1c3bbcca31d31ab-01
2021-11-23T06:40:20.690Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:40:20.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ffa7502c1b213dc540070aae10cdbfe2a2dd811-d564543482e0ec36-01 outer:exit 2b-7ffa7502c1b213dc540070aae10cdbfe2a2dd811-4b4927efdb3d8178-01
2021-11-23T06:40:20.692Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:40:20.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-f11155698ae55afe21015d32fc4c4fb81271ba2b-1ec5efd08806cd68-01 outer:exit 2b-f11155698ae55afe21015d32fc4c4fb81271ba2b-cbc6228841dd29dc-01
2021-11-23T06:40:20.695Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:40:20.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-043266ee3296ad92e3a387baa448b7b48180f446-cc34bb2326929bdf-01 outer:exit 2b-043266ee3296ad92e3a387baa448b7b48180f446-68911077d009b5c5-01
2021-11-23T06:40:20.697Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:40:20.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-d944222096f7106f45391d2231f0204d98c72e4f-cbd6e0430a5782fa-01 outer:exit 2b-d944222096f7106f45391d2231f0204d98c72e4f-f0bb201610d2bd68-01
2021-11-23T06:40:20.699Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:40:20.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-d47267f4f05ce1eb73d662bd023438c81cae66a9-34da978955629673-01 outer:exit 2b-d47267f4f05ce1eb73d662bd023438c81cae66a9-765c5418cf8af8b4-01
2021-11-23T06:40:20.716Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:40:20.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4c8894ba77f63114387637db60f93e37a82fbaf-40441fae1e06896f-01 outer:exit 2b-e4c8894ba77f63114387637db60f93e37a82fbaf-de4d74fc9931f8ad-01
2021-11-23T06:40:20.737Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:40:20.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e4a2db0e4b18a285a752b6dca0f32c16159d113-5d321dc79abe599e-01 outer:exit 2b-7e4a2db0e4b18a285a752b6dca0f32c16159d113-48d0ea21667c1ade-01
2021-11-23T06:40:20.741Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:40:20.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-022cb6563db57a4b4529014a4a8c62c51d3c4c9b-e9f28d68e6224501-01 outer:exit 2b-022cb6563db57a4b4529014a4a8c62c51d3c4c9b-68be9a6a887e3500-01
2021-11-23T06:40:20.745Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:40:20.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef9a70bf42fb28d57d88c89eb737c17d178604b6-9e0a3b0211f40946-01 outer:exit 2b-ef9a70bf42fb28d57d88c89eb737c17d178604b6-706a7ff08f5f1c0a-01
2021-11-23T06:40:20.749Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:40:20.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-13f477af4f77c9a453d62280f58dae2b041d635b-ef89030a91be1607-01 outer:exit 2b-13f477af4f77c9a453d62280f58dae2b041d635b-66344e3c1401145f-01
2021-11-23T06:40:20.787Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (408ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:28.489Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:28.489Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:28.489Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:28.490Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:28.562Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:28.766Z appoptics:patching patched crypto 
2021-11-23T06:40:28.792Z appoptics:patching patched https 
2021-11-23T06:40:28.793Z appoptics:patching patched http 
2021-11-23T06:40:28.848Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:28.849Z appoptics:patching patched fs 
2021-11-23T06:40:28.885Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v17.1.0)
2021-11-23T06:40:28.895Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2021-11-23T06:40:28.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-50e0f7c38bc98c033e8a779a874a80a58d08f3c8-62eae51a998bad75-01 outer:exit 2b-50e0f7c38bc98c033e8a779a874a80a58d08f3c8-34ab81289d15fde2-01
2021-11-23T06:40:28.970Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:40:29.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6a4a4ea0ccc6be80de28da9f900f3c2e2264db8-90d9c02cb025b189-01 outer:exit 2b-f6a4a4ea0ccc6be80de28da9f900f3c2e2264db8-dd122fde43c8c37a-01
2021-11-23T06:40:29.061Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:40:29.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-68f9128756267da2818a408db85e44971377f90d-d16eb47f57868269-01 outer:exit 2b-68f9128756267da2818a408db85e44971377f90d-ff59d525c2437394-01
2021-11-23T06:40:29.066Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:40:29.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbe33235f866e6716d8a1f318321c8defb627858-b35e9bb52069c481-01 outer:exit 2b-dbe33235f866e6716d8a1f318321c8defb627858-d467764c8cc73057-01
2021-11-23T06:40:29.071Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:40:29.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3511d8e6e0ee7939a296307db7497587ebf9290-4ee444c5f7abcf18-01 outer:exit 2b-e3511d8e6e0ee7939a296307db7497587ebf9290-7e04aa281ae7a73b-01
2021-11-23T06:40:29.077Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:40:29.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-505ecb6b7df4dd28d94403c6b26843caf8ae63e4-8c0372f3807a097a-01 outer:exit 2b-505ecb6b7df4dd28d94403c6b26843caf8ae63e4-1681f28519d55ff0-01
2021-11-23T06:40:29.081Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:40:29.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ce9f3146ca3f16e2bcafac89e08a6189bb48e85-b7e79ae868dc5945-01 outer:exit 2b-3ce9f3146ca3f16e2bcafac89e08a6189bb48e85-7648a3918730425b-01
2021-11-23T06:40:29.084Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:40:29.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-66de438b687b316a08caef48cb61b4b15c159533-5b6b77b4623d46aa-01 outer:exit 2b-66de438b687b316a08caef48cb61b4b15c159533-c80b6baac2bc05a2-01
2021-11-23T06:40:29.089Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:40:29.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-f746217f6a11a6b796de668bad45504598c062d6-f44677caf916f2c4-01 outer:exit 2b-f746217f6a11a6b796de668bad45504598c062d6-10610d2f213bc37c-01
2021-11-23T06:40:29.104Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:40:29.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-989708a83ae51fa5b019e3ef035343904d88636f-4ebaaf8027f1e339-01 outer:exit 2b-989708a83ae51fa5b019e3ef035343904d88636f-2c83eeb194afc39d-01
2021-11-23T06:40:29.108Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:40:29.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0630ef9cbed28ca4f6cc5cd373ed855d297c623-235a6040aa2fe429-01 outer:exit 2b-b0630ef9cbed28ca4f6cc5cd373ed855d297c623-6e2b7be90288ca44-01
2021-11-23T06:40:29.118Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:40:29.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-de37eff430e132ec5124049ae982a6e340e4ea17-2c943fb902ba42af-01 outer:exit 2b-de37eff430e132ec5124049ae982a6e340e4ea17-563e710ecc94f030-01
2021-11-23T06:40:29.126Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:40:29.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-44b6a111959464d89c2e574ed1813dac8de9383d-081a009c63695182-01 outer:exit 2b-44b6a111959464d89c2e574ed1813dac8de9383d-df633fc80cf65f14-01
2021-11-23T06:40:29.152Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:40:29.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d8883e285332d92f6415ea2c1eb0b9e9f6ab4ed-982f6c58f6a51e34-01 outer:exit 2b-4d8883e285332d92f6415ea2c1eb0b9e9f6ab4ed-81f45309fafaa1f6-01
2021-11-23T06:40:29.196Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:40:29.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-99f441119a873d866f631f0097b58b59676d1828-12a1052d99c6b946-01 outer:exit 2b-99f441119a873d866f631f0097b58b59676d1828-bf876665359834be-01
2021-11-23T06:40:29.201Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:40:29.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e62b4171a7ac79eb8833228b5aac53c4e9d42cb-58309b5ff01e25fa-01 outer:exit 2b-2e62b4171a7ac79eb8833228b5aac53c4e9d42cb-581d56928c309eeb-01
2021-11-23T06:40:29.206Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:40:29.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-1510b404ba5c36e499a188822e831228960485bd-36603bb9490e4d50-01 outer:exit 2b-1510b404ba5c36e499a188822e831228960485bd-e54449983640ebed-01
2021-11-23T06:40:29.210Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:40:29.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-64fb5f0ae1957928945ce10ec46467ba20065b85-f0dcbea7da089318-01 outer:exit 2b-64fb5f0ae1957928945ce10ec46467ba20065b85-028b4510bb25ba8e-01
2021-11-23T06:40:29.213Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:40:29.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-39f80152aa43f46baf45b02b035e2e900c8230db-1f831fff3346b4d1-01 outer:exit 2b-39f80152aa43f46baf45b02b035e2e900c8230db-224adf130e433547-01
2021-11-23T06:40:29.216Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:40:29.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-12d2a8016c22bdd4ab32d3846fe279a27dbb3dd4-c03bc94b80decfcb-01 outer:exit 2b-12d2a8016c22bdd4ab32d3846fe279a27dbb3dd4-e08422cc185d9289-01
2021-11-23T06:40:29.219Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:40:29.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6ca4734166909d0a7b90677b51cc48c3b32b4e9-b88ca622008f996e-01 outer:exit 2b-c6ca4734166909d0a7b90677b51cc48c3b32b4e9-bb254893f4ad7e0b-01
2021-11-23T06:40:29.221Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:40:29.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-706366d6e8e2f75d3410b1bd7e0b75066f281aca-e06597d8152d0103-01 outer:exit 2b-706366d6e8e2f75d3410b1bd7e0b75066f281aca-e46e17c39d3cb317-01
2021-11-23T06:40:29.224Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:40:29.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-6310e95199fd84074965f217554e91e540ca30b2-ee81819d041557f9-01 outer:exit 2b-6310e95199fd84074965f217554e91e540ca30b2-dd4a5cd4bcd357ed-01
2021-11-23T06:40:29.228Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:40:29.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f1790470ec1a58726c9bb86cd1f43368d9cd520-06ee4014a7ebc937-01 outer:exit 2b-7f1790470ec1a58726c9bb86cd1f43368d9cd520-fbf853db018bcb03-01
2021-11-23T06:40:29.233Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:40:29.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-27daea81f44164aff59f8cf8daba565410209f99-0bbdc3d8ab8d0a77-01 outer:exit 2b-27daea81f44164aff59f8cf8daba565410209f99-dc7047d70c283c59-01
2021-11-23T06:40:29.237Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:40:29.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-444519717b3e15ef9119e857b6146552ccca672a-642a342c2a2b4afa-01 outer:exit 2b-444519717b3e15ef9119e857b6146552ccca672a-af284fda163ada20-01
2021-11-23T06:40:29.240Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:40:29.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-e19a388319626ac1c46bedf051ef7d21f97e81eb-d9cde249bde8348f-01 outer:exit 2b-e19a388319626ac1c46bedf051ef7d21f97e81eb-4ee957b40941e573-01
2021-11-23T06:40:29.248Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:40:29.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-8111922c84f2ebb76db9c166a6029fee846a66cf-d2b74a5235e64ec9-01 outer:exit 2b-8111922c84f2ebb76db9c166a6029fee846a66cf-658000b80b2fdd4f-01
2021-11-23T06:40:29.255Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:40:29.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2d8089b2bede4708ed9e3c5e9923c209130935e-a438eacdaeb6fa5b-01 outer:exit 2b-a2d8089b2bede4708ed9e3c5e9923c209130935e-afb59f55fc2f6453-01
2021-11-23T06:40:29.268Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:40:29.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-aab4d06442316f142175227387989e9ff37b7333-a7bb697feb7c7a52-01 outer:exit 2b-aab4d06442316f142175227387989e9ff37b7333-8447f59470cc3c52-01
2021-11-23T06:40:29.277Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:40:29.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-d48e48d6ceca82aa0d09b4886e9b43042c9a11ad-d0e38bf1e36d9f01-01 outer:exit 2b-d48e48d6ceca82aa0d09b4886e9b43042c9a11ad-aa46121c502d359e-01
2021-11-23T06:40:29.280Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:40:29.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0200e70bf24f286dcea911f0110fe09a6e48795-d0194b154c2939ac-01 outer:exit 2b-b0200e70bf24f286dcea911f0110fe09a6e48795-038a448dcb697c0a-01
2021-11-23T06:40:29.289Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:40:29.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-3995b3939ef25fbe5db6826a11b17052f888f338-d2e0846fe520f37f-01 outer:exit 2b-3995b3939ef25fbe5db6826a11b17052f888f338-c9a7020be7a7434d-01
2021-11-23T06:40:29.299Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:40:29.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-a92cf4917cf9e650d135b9395d4171043877c0d5-88b4d1f858856e9b-01 outer:exit 2b-a92cf4917cf9e650d135b9395d4171043877c0d5-05c4b7629c261017-01
2021-11-23T06:40:29.302Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:40:29.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3fb7220bbe13312594dbaa19695b11c52eed479-9480276a46f4e26d-01 outer:exit 2b-c3fb7220bbe13312594dbaa19695b11c52eed479-61b9a0961914a0da-01
2021-11-23T06:40:29.304Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:40:29.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-31d027f1479dbd7b67ab0836c774fc451473e895-ae0cc1a9c16516ba-01 outer:exit 2b-31d027f1479dbd7b67ab0836c774fc451473e895-2be96beb92a877d9-01
2021-11-23T06:40:29.306Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:40:29.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-eddd1e1ff4a118aec4eba7367b2521bb56d14576-03632126979dab1f-01 outer:exit 2b-eddd1e1ff4a118aec4eba7367b2521bb56d14576-7cacb55cf47268a5-01
2021-11-23T06:40:29.309Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:40:29.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea483706c781ce1adf3937862200c78b649a962b-00573c8b5c989cbd-01 outer:exit 2b-ea483706c781ce1adf3937862200c78b649a962b-3fa3386e419f0949-01
2021-11-23T06:40:29.311Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:40:29.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8b2b6f1ca4b3c878d211d8d7e891f53a9d29af0-91bbc1b348991b6f-01 outer:exit 2b-e8b2b6f1ca4b3c878d211d8d7e891f53a9d29af0-523793f27ebfc5b9-01
2021-11-23T06:40:29.324Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:40:29.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3f7852f0c0e59502c3c46b1fcc34232d96ff596-d8748cf389d5e3c7-01 outer:exit 2b-a3f7852f0c0e59502c3c46b1fcc34232d96ff596-127355e690d6f56f-01
2021-11-23T06:40:29.337Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:40:29.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-2419fed58d96e8b1327fb4b7b66e1b15368faeec-1dc593c9648849cf-01 outer:exit 2b-2419fed58d96e8b1327fb4b7b66e1b15368faeec-797a36a717e9832b-01
2021-11-23T06:40:29.341Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:40:29.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-4676418d4ec210edca7e8047eab2fbe2b371ab52-624a672d2335f292-01 outer:exit 2b-4676418d4ec210edca7e8047eab2fbe2b371ab52-1cb25d620d5b45b5-01
2021-11-23T06:40:29.344Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:40:29.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-f26ba90c74c07749c3aee9c2cabe6ff20e3d7121-0b7d4aa5dbd8ec01-01 outer:exit 2b-f26ba90c74c07749c3aee9c2cabe6ff20e3d7121-a32b53555748b60a-01
2021-11-23T06:40:29.347Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:40:29.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-a82de1e636a94e67f828553be2facce7c2796bf7-ec9e414e2303555a-01 outer:exit 2b-a82de1e636a94e67f828553be2facce7c2796bf7-97b583a768783a51-01
2021-11-23T06:40:29.381Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (476ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:36.414Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:36.415Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:36.415Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:36.416Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:36.487Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:36.654Z appoptics:patching patched crypto 
2021-11-23T06:40:36.675Z appoptics:patching patched https 
2021-11-23T06:40:36.675Z appoptics:patching patched http 
2021-11-23T06:40:36.727Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:36.728Z appoptics:patching patched fs 
2021-11-23T06:40:36.761Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v17.1.0)
2021-11-23T06:40:36.769Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2021-11-23T06:40:36.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-8069488438a028fbe248502eac2f02c8fbfaba07-d4d4f68bca897265-01 outer:exit 2b-8069488438a028fbe248502eac2f02c8fbfaba07-cea3bd58de5805c1-01
2021-11-23T06:40:36.833Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:40:36.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-187292fd22774d65894151e683fe13efa620fd37-02e1ad6fb74f396b-01 outer:exit 2b-187292fd22774d65894151e683fe13efa620fd37-2da4eb6aef38aee0-01
2021-11-23T06:40:36.902Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:40:36.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cb1b57d900ef5e645c075afa730985c7e398efb-7e3f3e6bae3e80a9-01 outer:exit 2b-9cb1b57d900ef5e645c075afa730985c7e398efb-f57299e2066a65a7-01
2021-11-23T06:40:36.906Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:40:36.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-17622357fe4cfb3760e5ea65bcfe3c90a49a5e35-87aba9da222ae48b-01 outer:exit 2b-17622357fe4cfb3760e5ea65bcfe3c90a49a5e35-c93b319eb94142fa-01
2021-11-23T06:40:36.910Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:40:36.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1e7dd7bce3866e71d1c998eeba725c0f3b6e245-aed7cb426ba06319-01 outer:exit 2b-d1e7dd7bce3866e71d1c998eeba725c0f3b6e245-edd62716897536a7-01
2021-11-23T06:40:36.915Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:40:36.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-d90cda552261ef24894ad91a544549a27a280c19-f19b9fe6ff06ac3e-01 outer:exit 2b-d90cda552261ef24894ad91a544549a27a280c19-d017fb41bcb9b5a0-01
2021-11-23T06:40:36.919Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:40:36.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9018d994287d699a61aebae6a4fe76fbeff3b01-718e2be180280b7f-01 outer:exit 2b-a9018d994287d699a61aebae6a4fe76fbeff3b01-fa365f224653295b-01
2021-11-23T06:40:36.922Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:40:36.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-b79584cf789697dcb366f08891b93961d807037a-7164744a485d19b2-01 outer:exit 2b-b79584cf789697dcb366f08891b93961d807037a-2e419bd812d09c19-01
2021-11-23T06:40:36.925Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:40:36.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-e688434bd3415d9d01950ec04dc8748cf1e18283-117b1376f19ac5fe-01 outer:exit 2b-e688434bd3415d9d01950ec04dc8748cf1e18283-6723fd5f870ef652-01
2021-11-23T06:40:36.929Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:40:36.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-5133c92f9d0f9e1fee1ac01a89b8857c53aff060-7bbdf07ec802a8e9-01 outer:exit 2b-5133c92f9d0f9e1fee1ac01a89b8857c53aff060-ee3164b539934851-01
2021-11-23T06:40:36.932Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:40:36.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-aeb2a9f25f9a59355a3b0a072cf9e2f8b34be787-07f6b2318f31f716-01 outer:exit 2b-aeb2a9f25f9a59355a3b0a072cf9e2f8b34be787-f40f8da0f022087b-01
2021-11-23T06:40:36.937Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:40:36.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-92cf8a204e254ab1b8d93499b1fb62317871a817-a1b8e3afc561f1c5-01 outer:exit 2b-92cf8a204e254ab1b8d93499b1fb62317871a817-301d533186786b57-01
2021-11-23T06:40:36.944Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:40:36.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-f879d65115d9f46ca2a03ac4ebfd9065a6fc3a1c-cede3443c25e4fd0-01 outer:exit 2b-f879d65115d9f46ca2a03ac4ebfd9065a6fc3a1c-992befdf65cd63b0-01
2021-11-23T06:40:36.962Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:40:37.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5a644a6da625d13a9891646a5e4009463ff26ce-cc9701ce89f4b8b7-01 outer:exit 2b-f5a644a6da625d13a9891646a5e4009463ff26ce-8e27a4958162064f-01
2021-11-23T06:40:37.007Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:40:37.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-6840740219f0ccd6f63375b704272d635bbdebc3-b47faf2250a0505c-01 outer:exit 2b-6840740219f0ccd6f63375b704272d635bbdebc3-e179c41423a9b4f8-01
2021-11-23T06:40:37.010Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:40:37.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bbbc016cc42352426d94eaf42b76fa5b709729f-30934973f5025181-01 outer:exit 2b-2bbbc016cc42352426d94eaf42b76fa5b709729f-8a0d8e93cf899d58-01
2021-11-23T06:40:37.013Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:40:37.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8646f8faf67cca4dd408463f001c48c37223754-dedd4712345f7212-01 outer:exit 2b-d8646f8faf67cca4dd408463f001c48c37223754-5a17b340afd2f8bf-01
2021-11-23T06:40:37.019Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:40:37.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-4441802f3aa93639cc1d4953fb5eb318f8107ee3-30e316c9e97f73c4-01 outer:exit 2b-4441802f3aa93639cc1d4953fb5eb318f8107ee3-bc25554ba709106c-01
2021-11-23T06:40:37.022Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:40:37.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e82b1ffbd375670b3579421a5fcac2d9bf65f50-ac118fd8ca292384-01 outer:exit 2b-8e82b1ffbd375670b3579421a5fcac2d9bf65f50-17448df39a85f099-01
2021-11-23T06:40:37.025Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:40:37.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-45f68edc8d3d3717f9c69e8ff1bd87466debb54a-18ccdd0c536c8b76-01 outer:exit 2b-45f68edc8d3d3717f9c69e8ff1bd87466debb54a-abe46183fbe6086c-01
2021-11-23T06:40:37.028Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:40:37.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ad182306720e2f008198ebae498d097e062a701-b6952a683a5375ca-01 outer:exit 2b-1ad182306720e2f008198ebae498d097e062a701-368319766ec5f82b-01
2021-11-23T06:40:37.031Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:40:37.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-b21369029e8608e657c18b538864d886a4e5d8d1-371e01d998143dec-01 outer:exit 2b-b21369029e8608e657c18b538864d886a4e5d8d1-6f8d880d2bdc6e74-01
2021-11-23T06:40:37.033Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:40:37.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5386689fd4d7cd705a0ba870d6f1d71937cb246-fb0cd4d6ed9254d5-01 outer:exit 2b-a5386689fd4d7cd705a0ba870d6f1d71937cb246-a910476bc441a0be-01
2021-11-23T06:40:37.036Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:40:37.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-866f59a1c0808c89343104754233ece7b1a0fc97-8007aa550095012e-01 outer:exit 2b-866f59a1c0808c89343104754233ece7b1a0fc97-34e776812fcee296-01
2021-11-23T06:40:37.040Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:40:37.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f3204cfcd599f83631ed75740cc38725bc7c045-c1034deba8a68a69-01 outer:exit 2b-8f3204cfcd599f83631ed75740cc38725bc7c045-9fffeb4f2eda1a4e-01
2021-11-23T06:40:37.043Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:40:37.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-59ce6b311eccbbe1934411b81ee64ebf24f42c94-ba31f8cdc1676e1c-01 outer:exit 2b-59ce6b311eccbbe1934411b81ee64ebf24f42c94-dfee649f9525a1cf-01
2021-11-23T06:40:37.046Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:40:37.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-bef4735c077cf309d737334dafc648b9a68c6715-5921876c58f60c89-01 outer:exit 2b-bef4735c077cf309d737334dafc648b9a68c6715-258072523ae7dcbf-01
2021-11-23T06:40:37.053Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:40:37.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-91583f680dc2ae0cab6ccee884d06f2710507560-bbc451587945a2a5-01 outer:exit 2b-91583f680dc2ae0cab6ccee884d06f2710507560-a232597e33a332c6-01
2021-11-23T06:40:37.059Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:40:37.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3a566352d276f63f393ed5c47c2187f1e18a2d3-d9c1719b61abdbc4-01 outer:exit 2b-c3a566352d276f63f393ed5c47c2187f1e18a2d3-fddd54afb5412b38-01
2021-11-23T06:40:37.070Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:40:37.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d0824b297d29089571f6d663fbea976c4dff39a-c9d4240a03d0233a-01 outer:exit 2b-9d0824b297d29089571f6d663fbea976c4dff39a-4e867246240ed94e-01
2021-11-23T06:40:37.079Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:40:37.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-9599d223396efe070f8ff746faa4afc807d195f5-5a3c554917202773-01 outer:exit 2b-9599d223396efe070f8ff746faa4afc807d195f5-da83bf35be1e2590-01
2021-11-23T06:40:37.081Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:40:37.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fe843dc4acbbac31722a8a8d96f7e7c87eb8c45-13c13376692a0702-01 outer:exit 2b-3fe843dc4acbbac31722a8a8d96f7e7c87eb8c45-d3f41e9140edc040-01
2021-11-23T06:40:37.085Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:40:37.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-d918b463e27f27ddb60327f0daf086a393744f82-d8e51d5aa1ccb5fd-01 outer:exit 2b-d918b463e27f27ddb60327f0daf086a393744f82-878131ac22ff992e-01
2021-11-23T06:40:37.093Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:40:37.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-9405d58406b8fe2a78fca6966127ddc95fec0e13-981b4cbe9e0ae720-01 outer:exit 2b-9405d58406b8fe2a78fca6966127ddc95fec0e13-e90a90d2095f28ed-01
2021-11-23T06:40:37.096Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:40:37.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d31ed998b8b8f635a6e4eaf18e2724e48b96ff1-fb857b2f714d815a-01 outer:exit 2b-6d31ed998b8b8f635a6e4eaf18e2724e48b96ff1-44fa28c2f750518d-01
2021-11-23T06:40:37.098Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:40:37.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-38ffbfd2d4d6b26cd21c06d980aa9d58c548a063-a55c781eb0269abf-01 outer:exit 2b-38ffbfd2d4d6b26cd21c06d980aa9d58c548a063-8b49e41dd7bd4a5e-01
2021-11-23T06:40:37.101Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:40:37.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaa5d8446aaff4749ea7be6b77e95ecd8c312c2d-f23c0896ab332f5e-01 outer:exit 2b-eaa5d8446aaff4749ea7be6b77e95ecd8c312c2d-b5366df082306bdc-01
2021-11-23T06:40:37.103Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:40:37.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-6aa1bc56462bc65f3bb585dc37e0dd6b079c8a24-cf1a89e780d8274d-01 outer:exit 2b-6aa1bc56462bc65f3bb585dc37e0dd6b079c8a24-0f67d3017cdbeb16-01
2021-11-23T06:40:37.105Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:40:37.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c75727e3e61bc64ced7f94d6a4494dad95f9c3e-326ca873b2d43735-01 outer:exit 2b-7c75727e3e61bc64ced7f94d6a4494dad95f9c3e-a07a2578b7d4c9f6-01
2021-11-23T06:40:37.120Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:40:37.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-58477b873b6641468ba5bcf67afd3b45e0ddd212-6ef08f7114ea1588-01 outer:exit 2b-58477b873b6641468ba5bcf67afd3b45e0ddd212-ac3819cc03767ecd-01
2021-11-23T06:40:37.130Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:40:37.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d8d1a04c53a359813cee6e1479d9e203527c3e7-f321f2db746e9aaf-01 outer:exit 2b-9d8d1a04c53a359813cee6e1479d9e203527c3e7-fdacc623d4d2ad94-01
2021-11-23T06:40:37.133Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:40:37.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddc658d638c8bc5472878738d91a8a294ab81065-6580925f20f888d3-01 outer:exit 2b-ddc658d638c8bc5472878738d91a8a294ab81065-bbd4f514ba5a4ed5-01
2021-11-23T06:40:37.136Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:40:37.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a7ce38a724d4a52852935683b9833e8e0123d9b-ff780e4b220caf5c-01 outer:exit 2b-1a7ce38a724d4a52852935683b9833e8e0123d9b-817e573890534fb2-01
2021-11-23T06:40:37.139Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:40:37.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bdc847c942ee9d61aeaaf565df00ee443df76ce-6d2711526f84c732-01 outer:exit 2b-3bdc847c942ee9d61aeaaf565df00ee443df76ce-52920e89315e1f74-01
2021-11-23T06:40:37.170Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (392ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:44.958Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:44.958Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:44.958Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:44.959Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:45.028Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:45.221Z appoptics:patching patched crypto 
2021-11-23T06:40:45.261Z appoptics:patching patched https 
2021-11-23T06:40:45.262Z appoptics:patching patched http 
2021-11-23T06:40:45.320Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:45.321Z appoptics:patching patched fs 
2021-11-23T06:40:45.359Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v17.1.0)
2021-11-23T06:40:45.368Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2021-11-23T06:40:45.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-b188916b822d75ca865b52d28b076fccbf403db7-281fae7b7d82bee6-01 outer:exit 2b-b188916b822d75ca865b52d28b076fccbf403db7-2f1f4ee23433acce-01
2021-11-23T06:40:45.435Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:40:45.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-96d90d598add86a7b75010bb2e61e7607a9a2a3d-ea8090960464ffd7-01 outer:exit 2b-96d90d598add86a7b75010bb2e61e7607a9a2a3d-eeec0cfcd96d5273-01
2021-11-23T06:40:45.520Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:40:45.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c3362f5b3e06eb5852a9d209eb074356fe2dcfd-244ba3c3ea613099-01 outer:exit 2b-6c3362f5b3e06eb5852a9d209eb074356fe2dcfd-0dc1aa51f755ac5d-01
2021-11-23T06:40:45.526Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:40:45.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dd84a95b00f14e2337709135931e19041d110ba-5345065036e5307c-01 outer:exit 2b-5dd84a95b00f14e2337709135931e19041d110ba-0f207af26b1167c1-01
2021-11-23T06:40:45.530Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:40:45.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-43afbd2e89f51f92b30b393a21ef353aa7bc8156-96610cd4502f36b2-01 outer:exit 2b-43afbd2e89f51f92b30b393a21ef353aa7bc8156-9c122cc3c94f35df-01
2021-11-23T06:40:45.535Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:40:45.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-40df0296299801fee9adfe3144a9b9e8192f1942-1be9e840d59568ec-01 outer:exit 2b-40df0296299801fee9adfe3144a9b9e8192f1942-81a291073c7fe1c1-01
2021-11-23T06:40:45.539Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:40:45.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2b24b8c4bcbb1b761f843f213a236c60d3bf856-c6bf3e7102f69e59-01 outer:exit 2b-a2b24b8c4bcbb1b761f843f213a236c60d3bf856-9cfc3ea269d9e243-01
2021-11-23T06:40:45.542Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:40:45.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-762c5c9bf372f1fadc7e43aaead6c346ee72128e-34c84c0cf3dcf878-01 outer:exit 2b-762c5c9bf372f1fadc7e43aaead6c346ee72128e-0258bf987d315b97-01
2021-11-23T06:40:45.546Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:40:45.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-010eb76e5c36cee8c6ce06fa66739e0e91387b47-5d344f90137809a7-01 outer:exit 2b-010eb76e5c36cee8c6ce06fa66739e0e91387b47-5bbbb357df95f543-01
2021-11-23T06:40:45.549Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:40:45.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-80f1641999f04c180fbf933fbf1098e0d7c65000-bef09e4e5928b7c4-01 outer:exit 2b-80f1641999f04c180fbf933fbf1098e0d7c65000-214dd01866b6e34c-01
2021-11-23T06:40:45.553Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:40:45.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b394c19498c895e10809833bd38a6afa95c8dfe-fa9d2e6b7e0e5488-01 outer:exit 2b-3b394c19498c895e10809833bd38a6afa95c8dfe-c27120a2f047f8c8-01
2021-11-23T06:40:45.558Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:40:45.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d4c9b5b1a0484e64f58e11452d1282955896fd8-eef2646b21c0be37-01 outer:exit 2b-0d4c9b5b1a0484e64f58e11452d1282955896fd8-a7dffb4e2261ddf4-01
2021-11-23T06:40:45.565Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:40:45.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-cba52afd0378b68051e5a80b2cc0e961c222c5f8-ba6cc7e6dc3c0c15-01 outer:exit 2b-cba52afd0378b68051e5a80b2cc0e961c222c5f8-9a31c8e54833acd1-01
2021-11-23T06:40:45.586Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:40:45.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b6a94f58914bbea4e234218b99c850264a74fc1-97f3af61615cc6a9-01 outer:exit 2b-5b6a94f58914bbea4e234218b99c850264a74fc1-5e4617e031a77287-01
2021-11-23T06:40:45.656Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:40:45.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0d68da18d443f820e9336f320940299aade8bc8-67006f25c35f3a92-01 outer:exit 2b-d0d68da18d443f820e9336f320940299aade8bc8-032fdbcb1b026abb-01
2021-11-23T06:40:45.660Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:40:45.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e9d404af204ae5bc99a4b3da9c61cffd7b31bd3-9f43cf3dc3cc6adb-01 outer:exit 2b-8e9d404af204ae5bc99a4b3da9c61cffd7b31bd3-708696dee4f148f3-01
2021-11-23T06:40:45.663Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:40:45.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-f93a108581a01a79bac2e6ba758f0c680f99dc1a-d894480f4e7f9a35-01 outer:exit 2b-f93a108581a01a79bac2e6ba758f0c680f99dc1a-63e6eed0e2412b18-01
2021-11-23T06:40:45.666Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:40:45.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-965acd75055e235de2da21f4a93a97e1c271fa71-06c5d7d6984e58ed-01 outer:exit 2b-965acd75055e235de2da21f4a93a97e1c271fa71-47a08908498e4b75-01
2021-11-23T06:40:45.668Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:40:45.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e7ee298fc52589b35eb86eaf1b9d537efa2a9e2-b2a14ce7e247a4e1-01 outer:exit 2b-9e7ee298fc52589b35eb86eaf1b9d537efa2a9e2-c2688dfc04cc8115-01
2021-11-23T06:40:45.672Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:40:45.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bbdff948bf271c58bce66fd6871e22a5f62a8ed-672c7ea98adb32a7-01 outer:exit 2b-9bbdff948bf271c58bce66fd6871e22a5f62a8ed-e20117820c4afb81-01
2021-11-23T06:40:45.674Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:40:45.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-21cd9ee82770d474d2cc34ecb4fbe1f27bc59b0b-08f8dd5e3943f1c5-01 outer:exit 2b-21cd9ee82770d474d2cc34ecb4fbe1f27bc59b0b-c01eb7f2224c13f6-01
2021-11-23T06:40:45.677Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:40:45.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-b13000be81b23851daa0056bd18ffff6260105d6-b70e2edf382ffcca-01 outer:exit 2b-b13000be81b23851daa0056bd18ffff6260105d6-dd27e19328114343-01
2021-11-23T06:40:45.679Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:40:45.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbfe886661b29399597fe409fbe72a0d66efcae6-842196d0efafad4a-01 outer:exit 2b-cbfe886661b29399597fe409fbe72a0d66efcae6-d5178fe58a022c8d-01
2021-11-23T06:40:45.683Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:40:45.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-e372e2574c2a8f5e59ad477d5e0450d2d06e4a0a-33a0a3aae79f64ea-01 outer:exit 2b-e372e2574c2a8f5e59ad477d5e0450d2d06e4a0a-84daa1881dc7695c-01
2021-11-23T06:40:45.686Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:40:45.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-36691ef1f1a389320eae1c0c6154983bd1cb481a-f0eba495e7b1bf40-01 outer:exit 2b-36691ef1f1a389320eae1c0c6154983bd1cb481a-99c5dd14b2a54c7d-01
2021-11-23T06:40:45.689Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:40:45.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-b24d776c495c81a69230b86895a97ccd807ef6e3-8e821e4f63dac322-01 outer:exit 2b-b24d776c495c81a69230b86895a97ccd807ef6e3-b2aef1c7e24866c9-01
2021-11-23T06:40:45.692Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:40:45.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-b872b8e649f82fea49a488677a1c7983b57bdbb7-097834dfccfc4d28-01 outer:exit 2b-b872b8e649f82fea49a488677a1c7983b57bdbb7-d37a3679de8c052e-01
2021-11-23T06:40:45.699Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:40:45.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-c244bb8fece8c74be7809f17f147454a9f3b4c55-ca47873eff77b0a6-01 outer:exit 2b-c244bb8fece8c74be7809f17f147454a9f3b4c55-b531ddf0c94f442d-01
2021-11-23T06:40:45.705Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:40:45.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fc339b94538b34717102706edf97012d80e02e6-aa289b591d9a7d01-01 outer:exit 2b-9fc339b94538b34717102706edf97012d80e02e6-814ae9cd356198fd-01
2021-11-23T06:40:45.716Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:40:45.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f3f8920482bdc37eec85380d57d51099bd9fb33-f06d6e4ea07b0c0f-01 outer:exit 2b-0f3f8920482bdc37eec85380d57d51099bd9fb33-640be13fec92b1b2-01
2021-11-23T06:40:45.724Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:40:45.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-592413c0fad54e3c289baa14dd67d7618e81ebac-e42fbd57b27dd4c6-01 outer:exit 2b-592413c0fad54e3c289baa14dd67d7618e81ebac-90fae201f3672eea-01
2021-11-23T06:40:45.727Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:40:45.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-5463b7cad74e3687ce530ba4d2a540ffad17bd53-95be8c35c19810de-01 outer:exit 2b-5463b7cad74e3687ce530ba4d2a540ffad17bd53-cdd69058a4ecf5ad-01
2021-11-23T06:40:45.730Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:40:45.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-4308958c109b602f01a5dce060756f96874c262f-6a67f3cff05743cb-01 outer:exit 2b-4308958c109b602f01a5dce060756f96874c262f-de3d9c63a72148e1-01
2021-11-23T06:40:45.739Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:40:45.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-23d4d64d21d3b4a34aa6f0c9b36c2120ebcedb19-c6749e095fd65f45-01 outer:exit 2b-23d4d64d21d3b4a34aa6f0c9b36c2120ebcedb19-dc33822eaa1bd3d1-01
2021-11-23T06:40:45.741Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:40:45.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-9041ec40ea135e0a5b3064ca15f2def8e678ee87-42b0aa6866c4283d-01 outer:exit 2b-9041ec40ea135e0a5b3064ca15f2def8e678ee87-a1fb7bbddfda3512-01
2021-11-23T06:40:45.744Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:40:45.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-6138d68ec65400903c20cfc37ba521c21e67d930-d8af39dcea9cc6d9-01 outer:exit 2b-6138d68ec65400903c20cfc37ba521c21e67d930-faa7bce2e38a99ec-01
2021-11-23T06:40:45.746Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:40:45.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cbed8afd6d3bce07711c3af23217c727b5fb366-d36b402383b2103f-01 outer:exit 2b-2cbed8afd6d3bce07711c3af23217c727b5fb366-3dd07184dc9ed133-01
2021-11-23T06:40:45.749Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:40:45.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb548ef90f735954e2a1ddef304077275147a5cd-82ead12967153d49-01 outer:exit 2b-bb548ef90f735954e2a1ddef304077275147a5cd-9c358033f0f69b4e-01
2021-11-23T06:40:45.752Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:40:45.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ddd68e57650e48d9de600e6ae12182fbd8f4316-3c9d1fc8eb306265-01 outer:exit 2b-8ddd68e57650e48d9de600e6ae12182fbd8f4316-b6f1b63a0d1d30bc-01
2021-11-23T06:40:45.766Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:40:45.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-51326b1146a3c20e70e7f1b477755d2cf2faa7a9-aa6b2a746b372be4-01 outer:exit 2b-51326b1146a3c20e70e7f1b477755d2cf2faa7a9-007b3e95d5d85de5-01
2021-11-23T06:40:45.776Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:40:45.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-2087c58a743d7a97aaa85a6e3d79642c9b1b00de-1535032e2681979c-01 outer:exit 2b-2087c58a743d7a97aaa85a6e3d79642c9b1b00de-9e04ee20079eb5c9-01
2021-11-23T06:40:45.779Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:40:45.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-9875f74e5cd3d235f11106907a25d996c8b739b5-67526138fb4be8c6-01 outer:exit 2b-9875f74e5cd3d235f11106907a25d996c8b739b5-32c03e9d464c93a0-01
2021-11-23T06:40:45.782Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:40:45.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-df774b62f5577d0f4493e1000efcd58120ca5c8a-8d088e18292b8e80-01 outer:exit 2b-df774b62f5577d0f4493e1000efcd58120ca5c8a-db492a538e869676-01
2021-11-23T06:40:45.785Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:40:45.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-817b4c7103444bf2271d88d43b17ccdffc254ae5-879f43e62a1aca6c-01 outer:exit 2b-817b4c7103444bf2271d88d43b17ccdffc254ae5-a7adc52b928ef27b-01
2021-11-23T06:40:45.818Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (440ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:40:53.515Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:53.516Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:53.516Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:53.517Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:53.650Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:53.933Z appoptics:patching patched crypto 
2021-11-23T06:40:53.958Z appoptics:patching patched https 
2021-11-23T06:40:53.959Z appoptics:patching patched http 
2021-11-23T06:40:54.011Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:54.015Z appoptics:patching patched fs 
2021-11-23T06:40:54.049Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v17.1.0)
2021-11-23T06:40:54.057Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2021-11-23T06:40:54.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-71ffefabea3c97af2976f9a463c8a155aa89019a-d4c8ec1b15a2f420-01 outer:exit 2b-71ffefabea3c97af2976f9a463c8a155aa89019a-131d192aaf21e560-01
2021-11-23T06:40:54.122Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:40:54.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-6de92fbdd63c0778a2e15a24d2f2847d8b0e6dd0-58f61087ec555520-01 outer:exit 2b-6de92fbdd63c0778a2e15a24d2f2847d8b0e6dd0-acee71f0516d5df1-01
2021-11-23T06:40:54.208Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:40:54.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd293bcd9e6325bc4905ec44d994a335d0ae3a09-65026ab34cfe503c-01 outer:exit 2b-fd293bcd9e6325bc4905ec44d994a335d0ae3a09-e3e3e7f279edcbb7-01
2021-11-23T06:40:54.213Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:40:54.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b7e41d636966e420fd5dcadf1c4d32edea48e78-c4f72bcb18d6a55f-01 outer:exit 2b-1b7e41d636966e420fd5dcadf1c4d32edea48e78-cb2a17d8084dde53-01
2021-11-23T06:40:54.217Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:40:54.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-de983a9591f4a39a9614c62dd106cf0d7dab651c-77f896c205033450-01 outer:exit 2b-de983a9591f4a39a9614c62dd106cf0d7dab651c-001fbe1cdd37880b-01
2021-11-23T06:40:54.223Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:40:54.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-913f25fd5777c7cfae58bd70ac300e858fc1fe70-864d5b5870773363-01 outer:exit 2b-913f25fd5777c7cfae58bd70ac300e858fc1fe70-0d1817e4665d539d-01
2021-11-23T06:40:54.226Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:40:54.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-fab1bf1300c29b28f4f7ed2c77186e89816cc3d3-cd4dfc2389a71b3a-01 outer:exit 2b-fab1bf1300c29b28f4f7ed2c77186e89816cc3d3-e488abd0477ed71e-01
2021-11-23T06:40:54.230Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:40:54.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-997d30dc0efdbd947f63c821ee1d2d099621b720-e7a2c1ece12cafb4-01 outer:exit 2b-997d30dc0efdbd947f63c821ee1d2d099621b720-63fa1fcaa1f9d1dc-01
2021-11-23T06:40:54.234Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:40:54.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-00a806415e01d97f8747768d61604a442bc6c35d-b4bf27ffd9d607f4-01 outer:exit 2b-00a806415e01d97f8747768d61604a442bc6c35d-970793616017bdff-01
2021-11-23T06:40:54.237Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:40:54.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-714e7a1e97a1a5e24699a00a04a955bf59322fd3-932b14503f12e690-01 outer:exit 2b-714e7a1e97a1a5e24699a00a04a955bf59322fd3-dda0ae15a38b1a23-01
2021-11-23T06:40:54.242Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:40:54.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-dae9a900de0c06c1c9190bc8a7720a363a4b61c7-65c1c2164709fb1b-01 outer:exit 2b-dae9a900de0c06c1c9190bc8a7720a363a4b61c7-866e7000e38f1476-01
2021-11-23T06:40:54.247Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:40:54.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c14d4cf651d328f8b28a26960317efa2d82aeb0-e866117f7a5cd01e-01 outer:exit 2b-1c14d4cf651d328f8b28a26960317efa2d82aeb0-18bea53ed0fa50d3-01
2021-11-23T06:40:54.255Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:40:54.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-61681e77ecacd664b7ee632f4b3ed569b52a663b-4e695e4abb827b4f-01 outer:exit 2b-61681e77ecacd664b7ee632f4b3ed569b52a663b-b0f2a9320ce95a9a-01
2021-11-23T06:40:54.275Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:40:54.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-b01cb3bf1a9b25cb2182273c9ad3849ac78afd9d-d47e5372cf82e136-01 outer:exit 2b-b01cb3bf1a9b25cb2182273c9ad3849ac78afd9d-60f031e8993f2176-01
2021-11-23T06:40:54.311Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:40:54.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-38402995a81b46f2fc01fd4d8205bdaf0b4c718c-6e0d373a9a720093-01 outer:exit 2b-38402995a81b46f2fc01fd4d8205bdaf0b4c718c-b206b0b57ba316e5-01
2021-11-23T06:40:54.315Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:40:54.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3b0c1734a6a20c3a9577cda76562e306d5403c0-ee7165d85d813271-01 outer:exit 2b-a3b0c1734a6a20c3a9577cda76562e306d5403c0-8841ebd3f960324a-01
2021-11-23T06:40:54.317Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:40:54.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d7d1cdede6dec4713da1cad7067fabd396fc6d8-fbb9d1038176ef7c-01 outer:exit 2b-6d7d1cdede6dec4713da1cad7067fabd396fc6d8-3c40c5cfedf7c00d-01
2021-11-23T06:40:54.320Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:40:54.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cc8a61b14b2e0c575f53e9bb9e9e1c64c89b784-d095b18558db535b-01 outer:exit 2b-2cc8a61b14b2e0c575f53e9bb9e9e1c64c89b784-83f6057752b34154-01
2021-11-23T06:40:54.323Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:40:54.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-e08f4813417e207eb0f4ba467ed26041380eb77e-87c7da0428a772cd-01 outer:exit 2b-e08f4813417e207eb0f4ba467ed26041380eb77e-d9a493a00024ebe3-01
2021-11-23T06:40:54.326Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:40:54.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f30fd0a3bab8c8c74021e01be02245b94e66f37-927084fb030734fe-01 outer:exit 2b-5f30fd0a3bab8c8c74021e01be02245b94e66f37-0661638ad9066876-01
2021-11-23T06:40:54.328Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:40:54.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-01c0f545de23a6ce17c725f8fdf713471a6bbdd2-72f415623698c9c7-01 outer:exit 2b-01c0f545de23a6ce17c725f8fdf713471a6bbdd2-0a7ed8937710d7e2-01
2021-11-23T06:40:54.331Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:40:54.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e84f68b18fe28522301b3a38986c6c56e2164f2-13d61349137c0aff-01 outer:exit 2b-5e84f68b18fe28522301b3a38986c6c56e2164f2-48437ce8274ebb7e-01
2021-11-23T06:40:54.334Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:40:54.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-70e49424a51940fc6e01f7d074c60e96dcf0d26a-395a43f3231ba047-01 outer:exit 2b-70e49424a51940fc6e01f7d074c60e96dcf0d26a-2fd230562c0adc61-01
2021-11-23T06:40:54.337Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:40:54.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-bef9e9816a4d736cc3191ee3b0600bd39291a7ef-7e79ca61a3e3cab5-01 outer:exit 2b-bef9e9816a4d736cc3191ee3b0600bd39291a7ef-e7ee58a27dff1eee-01
2021-11-23T06:40:54.339Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:40:54.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b11977a73ed08c1b8c71ebded3667d92ee01800-4207957da92aa05e-01 outer:exit 2b-3b11977a73ed08c1b8c71ebded3667d92ee01800-aad50cd207770a40-01
2021-11-23T06:40:54.342Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:40:54.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-5af68526f6ee426ac232f5b095c45e75203b0d84-bf83c91624fffba3-01 outer:exit 2b-5af68526f6ee426ac232f5b095c45e75203b0d84-ac42ee2d02ce53fd-01
2021-11-23T06:40:54.345Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:40:54.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-97b6d88cc738a540ecbcf6d955b6b511c3634e61-38daf0dfbfd1e9d6-01 outer:exit 2b-97b6d88cc738a540ecbcf6d955b6b511c3634e61-3b8154b1758f66c7-01
2021-11-23T06:40:54.352Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:40:54.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-117380284a9e8e1c8ef909ebe9d75e632734b1db-13d358ff35150a7e-01 outer:exit 2b-117380284a9e8e1c8ef909ebe9d75e632734b1db-574c2a7c75f8fbac-01
2021-11-23T06:40:54.359Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:40:54.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-de76f18e849c32c8a1a254a2a2816c99155696b7-f054b55b2bd9f061-01 outer:exit 2b-de76f18e849c32c8a1a254a2a2816c99155696b7-f8d363c3858c04b6-01
2021-11-23T06:40:54.369Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:40:54.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a09f35ea8435861b0aa546fc5dedc0cb3711fc8-92ac11bfd4222b42-01 outer:exit 2b-2a09f35ea8435861b0aa546fc5dedc0cb3711fc8-14e1289e2c918588-01
2021-11-23T06:40:54.377Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:40:54.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-718cda74d3f0d6d9bbfe8d9362187b7678395204-019f9224c5847aea-01 outer:exit 2b-718cda74d3f0d6d9bbfe8d9362187b7678395204-95b759f42ae2c66a-01
2021-11-23T06:40:54.379Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:40:54.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-d962d2c4dee043adbdb0de282557e387d28be3f6-2cafbe966bf9d748-01 outer:exit 2b-d962d2c4dee043adbdb0de282557e387d28be3f6-0295fbbd006440a0-01
2021-11-23T06:40:54.384Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:40:54.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bec1aa35046229556cf9799830454dae1757fc1-12484df0016ea994-01 outer:exit 2b-9bec1aa35046229556cf9799830454dae1757fc1-e41b560c947cf4c6-01
2021-11-23T06:40:54.392Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:40:54.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-23a8ad9da80500b5b093d59b2849f5d8a6a7f102-a2f5c37a0fcc0fad-01 outer:exit 2b-23a8ad9da80500b5b093d59b2849f5d8a6a7f102-a27ccfc81cd19cfd-01
2021-11-23T06:40:54.395Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:40:54.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-101ee9074e6aaa6b3974aeb3fc00de512d1d2984-05f6b0f0facdc76a-01 outer:exit 2b-101ee9074e6aaa6b3974aeb3fc00de512d1d2984-46c7c57459e23a05-01
2021-11-23T06:40:54.397Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:40:54.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7af64734c95754d7b1b4f4cd3c2530f58e24563-a851657fc2992c06-01 outer:exit 2b-d7af64734c95754d7b1b4f4cd3c2530f58e24563-e32e6c4edf1857d5-01
2021-11-23T06:40:54.399Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:40:54.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ed5aab03892dbbce4ab19a916ac165490f362b5-2f55768441804027-01 outer:exit 2b-2ed5aab03892dbbce4ab19a916ac165490f362b5-1c9916901e790509-01
2021-11-23T06:40:54.401Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:40:54.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9071996fc73953c24b154fd0ead7089e4c132d8-fb641e05df9e24e4-01 outer:exit 2b-d9071996fc73953c24b154fd0ead7089e4c132d8-b65b5a6c12878cf3-01
2021-11-23T06:40:54.404Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:40:54.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fb43ec16d6b3f877b4f56b86d44b301561e7267-18e597321c8406cb-01 outer:exit 2b-7fb43ec16d6b3f877b4f56b86d44b301561e7267-0cd0e0b5741f2bcb-01
2021-11-23T06:40:54.415Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:40:54.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-76785eb650433f03464182af2d0b96df66e4540f-df3c1fbd21bebc8e-01 outer:exit 2b-76785eb650433f03464182af2d0b96df66e4540f-1c1703251c53b0a9-01
2021-11-23T06:40:54.426Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:40:54.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c633d14e8c56cad57476f9d092d6710f2284ff9-627936939922d11a-01 outer:exit 2b-1c633d14e8c56cad57476f9d092d6710f2284ff9-a38b4f3ddd162654-01
2021-11-23T06:40:54.429Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:40:54.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ce815309071a68725a0e03d5300a696dbfeed61-948e3c8c099a8b4d-01 outer:exit 2b-3ce815309071a68725a0e03d5300a696dbfeed61-c98864d93c26002b-01
2021-11-23T06:40:54.432Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:40:54.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-5601e16bee20f7bcb6af38a405fe9bdc5b128e1a-5fdceccd4b688f3e-01 outer:exit 2b-5601e16bee20f7bcb6af38a405fe9bdc5b128e1a-ae6144b0c5f8d26d-01
2021-11-23T06:40:54.437Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:40:54.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f129d46c31c7188ce9355be16705ae5a6f0f4aa-5702035a48cba5ef-01 outer:exit 2b-2f129d46c31c7188ce9355be16705ae5a6f0f4aa-036e6770329fdc1d-01
2021-11-23T06:40:54.468Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (401ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:390:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:390:28)
      at UDP.onMessage [as onmessage] (node:dgram:939:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:01.447Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:01.448Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:01.448Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:01.448Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:01.553Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:01.725Z appoptics:patching patched crypto 
2021-11-23T06:41:01.745Z appoptics:patching patched https 
2021-11-23T06:41:01.746Z appoptics:patching patched http 
2021-11-23T06:41:01.799Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:01.799Z appoptics:patching patched fs 
2021-11-23T06:41:01.813Z appoptics:patching patched zlib 
2021-11-23T06:41:01.839Z appoptics:patching patched mongodb-core 3.0.0
2021-11-23T06:41:01.848Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (81ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (390ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:10.120Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:10.121Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:10.121Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:10.122Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:10.190Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:10.338Z appoptics:patching patched crypto 
2021-11-23T06:41:10.359Z appoptics:patching patched https 
2021-11-23T06:41:10.359Z appoptics:patching patched http 
2021-11-23T06:41:10.411Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:10.411Z appoptics:patching patched fs 
2021-11-23T06:41:10.425Z appoptics:patching patched zlib 
2021-11-23T06:41:10.454Z appoptics:patching patched mongodb-core 3.0.1
2021-11-23T06:41:10.463Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (329ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:18.492Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:18.494Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:18.494Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:18.496Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:18.606Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:18.841Z appoptics:patching patched crypto 
2021-11-23T06:41:18.870Z appoptics:patching patched https 
2021-11-23T06:41:18.871Z appoptics:patching patched http 
2021-11-23T06:41:18.945Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:18.946Z appoptics:patching patched fs 
2021-11-23T06:41:18.960Z appoptics:patching patched zlib 
2021-11-23T06:41:18.991Z appoptics:patching patched mongodb-core 3.0.2
2021-11-23T06:41:19.000Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (80ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (353ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:26.544Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:26.545Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:26.545Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:26.545Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:26.619Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:26.778Z appoptics:patching patched crypto 
2021-11-23T06:41:26.800Z appoptics:patching patched https 
2021-11-23T06:41:26.800Z appoptics:patching patched http 
2021-11-23T06:41:26.855Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:26.855Z appoptics:patching patched fs 
2021-11-23T06:41:26.868Z appoptics:patching patched zlib 
2021-11-23T06:41:26.897Z appoptics:patching patched mongodb-core 3.0.3
2021-11-23T06:41:26.904Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (72ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (358ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:34.861Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:34.862Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:34.862Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:34.862Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:34.926Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:35.072Z appoptics:patching patched crypto 
2021-11-23T06:41:35.093Z appoptics:patching patched https 
2021-11-23T06:41:35.094Z appoptics:patching patched http 
2021-11-23T06:41:35.145Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:35.146Z appoptics:patching patched fs 
2021-11-23T06:41:35.157Z appoptics:patching patched zlib 
2021-11-23T06:41:35.199Z appoptics:patching patched mongodb-core 3.0.4
2021-11-23T06:41:35.208Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (322ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:43.414Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:43.415Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:43.415Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:43.415Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:43.561Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:43.808Z appoptics:patching patched crypto 
2021-11-23T06:41:43.828Z appoptics:patching patched https 
2021-11-23T06:41:43.829Z appoptics:patching patched http 
2021-11-23T06:41:43.881Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:43.881Z appoptics:patching patched fs 
2021-11-23T06:41:43.894Z appoptics:patching patched zlib 
2021-11-23T06:41:43.923Z appoptics:patching patched mongodb-core 3.0.5
2021-11-23T06:41:43.931Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (319ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:51.265Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:51.266Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:51.266Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:51.266Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:51.334Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:41:51.488Z appoptics:patching patched crypto 
2021-11-23T06:41:51.508Z appoptics:patching patched https 
2021-11-23T06:41:51.508Z appoptics:patching patched http 
2021-11-23T06:41:51.559Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:41:51.560Z appoptics:patching patched fs 
2021-11-23T06:41:51.572Z appoptics:patching patched zlib 
2021-11-23T06:41:51.603Z appoptics:patching patched mongodb-core 3.0.6
2021-11-23T06:41:51.610Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (81ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (392ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:41:59.816Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:41:59.816Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:41:59.816Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:41:59.817Z appoptics:debug using context provider: ace-context
2021-11-23T06:41:59.888Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:00.040Z appoptics:patching patched crypto 
2021-11-23T06:42:00.063Z appoptics:patching patched https 
2021-11-23T06:42:00.064Z appoptics:patching patched http 
2021-11-23T06:42:00.119Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:00.119Z appoptics:patching patched fs 
2021-11-23T06:42:00.132Z appoptics:patching patched zlib 
2021-11-23T06:42:00.165Z appoptics:patching patched mongodb-core 3.0.7
2021-11-23T06:42:00.173Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (64ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (341ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:42:07.858Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:07.859Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:07.859Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:07.860Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:07.947Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:08.171Z appoptics:patching patched crypto 
2021-11-23T06:42:08.194Z appoptics:patching patched https 
2021-11-23T06:42:08.195Z appoptics:patching patched http 
2021-11-23T06:42:08.254Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:08.257Z appoptics:patching patched fs 
2021-11-23T06:42:08.271Z appoptics:patching patched zlib 
2021-11-23T06:42:08.312Z appoptics:patching patched mongodb-core 3.0.8
2021-11-23T06:42:08.322Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (57ms)


  33 passing (485ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:42:15.938Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:15.939Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:15.939Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:15.940Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:16.017Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:16.182Z appoptics:patching patched crypto 
2021-11-23T06:42:16.205Z appoptics:patching patched https 
2021-11-23T06:42:16.205Z appoptics:patching patched http 
2021-11-23T06:42:16.263Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:16.265Z appoptics:patching patched fs 
2021-11-23T06:42:16.281Z appoptics:patching patched zlib 
2021-11-23T06:42:16.316Z appoptics:patching patched mongodb-core 3.0.9
2021-11-23T06:42:16.323Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (54ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (352ms)


changed 1 package, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:42:24.896Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:24.897Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:24.897Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:24.898Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:24.969Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:25.139Z appoptics:patching patched crypto 
2021-11-23T06:42:25.160Z appoptics:patching patched https 
2021-11-23T06:42:25.161Z appoptics:patching patched http 
2021-11-23T06:42:25.212Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:25.213Z appoptics:patching patched fs 
2021-11-23T06:42:25.225Z appoptics:patching patched zlib 
2021-11-23T06:42:25.255Z appoptics:patching patched mongodb-core 3.0.11
2021-11-23T06:42:25.263Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (69ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (357ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:42:33.344Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:33.345Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:33.345Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:33.345Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:33.445Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:33.681Z appoptics:patching patched crypto 
2021-11-23T06:42:33.705Z appoptics:patching patched https 
2021-11-23T06:42:33.706Z appoptics:patching patched http 
2021-11-23T06:42:33.771Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:33.772Z appoptics:patching patched fs 
2021-11-23T06:42:33.785Z appoptics:patching patched zlib 
2021-11-23T06:42:33.828Z appoptics:patching patched mongodb-core 3.1.0
2021-11-23T06:42:33.837Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (86ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (413ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (20 moderate, 6 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:42:41.553Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:41.553Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:41.553Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:41.554Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:41.632Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:41.810Z appoptics:patching patched crypto 
2021-11-23T06:42:41.835Z appoptics:patching patched https 
2021-11-23T06:42:41.836Z appoptics:patching patched http 
2021-11-23T06:42:41.899Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:41.900Z appoptics:patching patched fs 
2021-11-23T06:42:41.914Z appoptics:patching patched zlib 
2021-11-23T06:42:41.959Z appoptics:patching patched mongodb-core 3.1.1
2021-11-23T06:42:41.967Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (51ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (378ms)


changed 2 packages, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:42:50.416Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:50.416Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:50.416Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:50.417Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:50.482Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:50.636Z appoptics:patching patched crypto 
2021-11-23T06:42:50.657Z appoptics:patching patched https 
2021-11-23T06:42:50.658Z appoptics:patching patched http 
2021-11-23T06:42:50.707Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:50.711Z appoptics:patching patched fs 
2021-11-23T06:42:50.723Z appoptics:patching patched zlib 
2021-11-23T06:42:50.760Z appoptics:patching patched mongodb-core 3.1.2
2021-11-23T06:42:50.768Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (75ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (336ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:42:58.579Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:42:58.580Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:42:58.580Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:42:58.581Z appoptics:debug using context provider: ace-context
2021-11-23T06:42:58.662Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:42:58.845Z appoptics:patching patched crypto 
2021-11-23T06:42:58.867Z appoptics:patching patched https 
2021-11-23T06:42:58.868Z appoptics:patching patched http 
2021-11-23T06:42:58.923Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:42:58.927Z appoptics:patching patched fs 
2021-11-23T06:42:58.942Z appoptics:patching patched zlib 
2021-11-23T06:42:58.984Z appoptics:patching patched mongodb-core 3.1.3
2021-11-23T06:42:58.993Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (402ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:43:06.636Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:06.637Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:06.637Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:06.637Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:06.705Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:06.866Z appoptics:patching patched crypto 
2021-11-23T06:43:06.885Z appoptics:patching patched https 
2021-11-23T06:43:06.886Z appoptics:patching patched http 
2021-11-23T06:43:06.934Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:06.937Z appoptics:patching patched fs 
2021-11-23T06:43:06.952Z appoptics:patching patched zlib 
2021-11-23T06:43:06.987Z appoptics:patching patched mongodb-core 3.1.4
2021-11-23T06:43:06.995Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (63ms)


  33 passing (830ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:43:15.327Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:15.327Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:15.327Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:15.328Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:15.414Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:15.597Z appoptics:patching patched crypto 
2021-11-23T06:43:15.619Z appoptics:patching patched https 
2021-11-23T06:43:15.620Z appoptics:patching patched http 
2021-11-23T06:43:15.673Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:15.677Z appoptics:patching patched fs 
2021-11-23T06:43:15.692Z appoptics:patching patched zlib 
2021-11-23T06:43:15.733Z appoptics:patching patched mongodb-core 3.1.5
2021-11-23T06:43:15.741Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (85ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (376ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:43:23.449Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:23.449Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:23.450Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:23.450Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:23.535Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:23.730Z appoptics:patching patched crypto 
2021-11-23T06:43:23.760Z appoptics:patching patched https 
2021-11-23T06:43:23.761Z appoptics:patching patched http 
2021-11-23T06:43:23.816Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:23.819Z appoptics:patching patched fs 
2021-11-23T06:43:23.834Z appoptics:patching patched zlib 
2021-11-23T06:43:23.877Z appoptics:patching patched mongodb-core 3.1.6
2021-11-23T06:43:23.885Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (87ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (43ms)


  33 passing (411ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:43:31.523Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:31.524Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:31.524Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:31.525Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:31.598Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:31.757Z appoptics:patching patched crypto 
2021-11-23T06:43:31.777Z appoptics:patching patched https 
2021-11-23T06:43:31.777Z appoptics:patching patched http 
2021-11-23T06:43:31.830Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:31.834Z appoptics:patching patched fs 
2021-11-23T06:43:31.848Z appoptics:patching patched zlib 
2021-11-23T06:43:31.888Z appoptics:patching patched mongodb-core 3.1.7
2021-11-23T06:43:31.896Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (305ms)


changed 1 package, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:43:40.268Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:40.269Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:40.269Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:40.270Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:40.340Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:40.497Z appoptics:patching patched crypto 
2021-11-23T06:43:40.517Z appoptics:patching patched https 
2021-11-23T06:43:40.518Z appoptics:patching patched http 
2021-11-23T06:43:40.573Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:40.577Z appoptics:patching patched fs 
2021-11-23T06:43:40.591Z appoptics:patching patched zlib 
2021-11-23T06:43:40.635Z appoptics:patching patched mongodb-core 3.1.8
2021-11-23T06:43:40.644Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (303ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:43:48.100Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:48.101Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:48.101Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:48.102Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:48.189Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:48.379Z appoptics:patching patched crypto 
2021-11-23T06:43:48.404Z appoptics:patching patched https 
2021-11-23T06:43:48.404Z appoptics:patching patched http 
2021-11-23T06:43:48.464Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:48.468Z appoptics:patching patched fs 
2021-11-23T06:43:48.493Z appoptics:patching patched zlib 
2021-11-23T06:43:48.599Z appoptics:patching patched mongodb-core 3.1.9
2021-11-23T06:43:48.631Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (61ms)


  33 passing (492ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:43:56.450Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:43:56.451Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:43:56.451Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:43:56.451Z appoptics:debug using context provider: ace-context
2021-11-23T06:43:56.522Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:43:56.687Z appoptics:patching patched crypto 
2021-11-23T06:43:56.711Z appoptics:patching patched https 
2021-11-23T06:43:56.711Z appoptics:patching patched http 
2021-11-23T06:43:56.765Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:43:56.769Z appoptics:patching patched fs 
2021-11-23T06:43:56.785Z appoptics:patching patched zlib 
2021-11-23T06:43:56.824Z appoptics:patching patched mongodb-core 3.1.10
2021-11-23T06:43:56.832Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (322ms)


changed 1 package, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:44:06.138Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:06.139Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:06.139Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:06.140Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:06.237Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:06.428Z appoptics:patching patched crypto 
2021-11-23T06:44:06.454Z appoptics:patching patched https 
2021-11-23T06:44:06.455Z appoptics:patching patched http 
2021-11-23T06:44:06.511Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:06.516Z appoptics:patching patched fs 
2021-11-23T06:44:06.533Z appoptics:patching patched zlib 
2021-11-23T06:44:06.576Z appoptics:patching patched mongodb-core 3.1.11
2021-11-23T06:44:06.585Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (77ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (45ms)


  33 passing (413ms)


changed 1 package, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:44:15.374Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:15.375Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:15.375Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:15.376Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:15.481Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:15.648Z appoptics:patching patched crypto 
2021-11-23T06:44:15.670Z appoptics:patching patched https 
2021-11-23T06:44:15.671Z appoptics:patching patched http 
2021-11-23T06:44:15.720Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:15.723Z appoptics:patching patched fs 
2021-11-23T06:44:15.737Z appoptics:patching patched zlib 
2021-11-23T06:44:15.784Z appoptics:patching patched mongodb-core 3.2.0
2021-11-23T06:44:15.792Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (333ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:44:23.309Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:23.310Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:23.310Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:23.310Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:23.394Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:23.596Z appoptics:patching patched crypto 
2021-11-23T06:44:23.618Z appoptics:patching patched https 
2021-11-23T06:44:23.619Z appoptics:patching patched http 
2021-11-23T06:44:23.667Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:23.671Z appoptics:patching patched fs 
2021-11-23T06:44:23.688Z appoptics:patching patched zlib 
2021-11-23T06:44:23.738Z appoptics:patching patched mongodb-core 3.2.1
2021-11-23T06:44:23.747Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (390ms)


changed 1 package, and audited 1078 packages in 13s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:44:37.664Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:37.664Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:37.665Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:37.665Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:37.788Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:38.009Z appoptics:patching patched crypto 
2021-11-23T06:44:38.031Z appoptics:patching patched https 
2021-11-23T06:44:38.032Z appoptics:patching patched http 
2021-11-23T06:44:38.092Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:38.098Z appoptics:patching patched fs 
2021-11-23T06:44:38.119Z appoptics:patching patched zlib 
2021-11-23T06:44:38.173Z appoptics:patching patched mongodb-core 3.2.2
2021-11-23T06:44:38.181Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (371ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:44:46.256Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:46.257Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:46.257Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:46.257Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:46.332Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:46.497Z appoptics:patching patched crypto 
2021-11-23T06:44:46.519Z appoptics:patching patched https 
2021-11-23T06:44:46.520Z appoptics:patching patched http 
2021-11-23T06:44:46.569Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:46.572Z appoptics:patching patched fs 
2021-11-23T06:44:46.589Z appoptics:patching patched zlib 
2021-11-23T06:44:46.638Z appoptics:patching patched mongodb-core 3.2.3
2021-11-23T06:44:46.647Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (71ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (381ms)


changed 1 package, and audited 1078 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:44:55.259Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:44:55.260Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:44:55.260Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:44:55.261Z appoptics:debug using context provider: ace-context
2021-11-23T06:44:55.335Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:44:55.505Z appoptics:patching patched crypto 
2021-11-23T06:44:55.532Z appoptics:patching patched https 
2021-11-23T06:44:55.533Z appoptics:patching patched http 
2021-11-23T06:44:55.595Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:44:55.598Z appoptics:patching patched fs 
2021-11-23T06:44:55.614Z appoptics:patching patched zlib 
2021-11-23T06:44:55.662Z appoptics:patching patched mongodb-core 3.2.4
2021-11-23T06:44:55.671Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (359ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:45:03.278Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:03.279Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:03.279Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:03.279Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:03.360Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:03.541Z appoptics:patching patched crypto 
2021-11-23T06:45:03.563Z appoptics:patching patched https 
2021-11-23T06:45:03.564Z appoptics:patching patched http 
2021-11-23T06:45:03.622Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:03.626Z appoptics:patching patched fs 
2021-11-23T06:45:03.643Z appoptics:patching patched zlib 
2021-11-23T06:45:03.693Z appoptics:patching patched mongodb-core 3.2.5
2021-11-23T06:45:03.701Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (57ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (404ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:45:11.989Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:11.990Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:11.990Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:11.990Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:12.063Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:12.230Z appoptics:patching patched crypto 
2021-11-23T06:45:12.251Z appoptics:patching patched https 
2021-11-23T06:45:12.252Z appoptics:patching patched http 
2021-11-23T06:45:12.303Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:12.306Z appoptics:patching patched fs 
2021-11-23T06:45:12.321Z appoptics:patching patched zlib 
2021-11-23T06:45:12.368Z appoptics:patching patched mongodb-core 3.2.6
2021-11-23T06:45:12.379Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (330ms)


changed 1 package, and audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:45:20.672Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:45:20.673Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:45:20.673Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:45:20.674Z appoptics:debug using context provider: ace-context
2021-11-23T06:45:20.751Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:45:20.909Z appoptics:patching patched crypto 
2021-11-23T06:45:20.931Z appoptics:patching patched https 
2021-11-23T06:45:20.931Z appoptics:patching patched http 
2021-11-23T06:45:20.986Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:45:20.990Z appoptics:patching patched fs 
2021-11-23T06:45:21.007Z appoptics:patching patched zlib 
2021-11-23T06:45:21.060Z appoptics:patching patched mongodb-core 3.2.7
2021-11-23T06:45:21.069Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (62ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (330ms)


up to date, audited 1078 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
