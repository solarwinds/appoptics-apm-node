npm WARN deprecated @hapi/pinpoint@1.0.2: Moved to 'npm install @sideway/pinpoint'
npm WARN deprecated @hapi/nigel@3.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/file@1.0.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/pez@4.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/podium@3.4.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/subtext@6.1.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/iron@5.1.4: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/teamwork@3.3.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/vise@3.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/heavy@6.2.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/shot@4.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/somever@2.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/statehood@6.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/mimos@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/content@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/formula@1.2.0: Moved to 'npm install @sideway/formula'
npm WARN deprecated @hapi/b64@4.2.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/ammo@3.1.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/bounce@1.3.2: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/boom@7.4.11: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/wreck@15.1.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@6.2.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated @hapi/accept@3.2.4: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/call@5.1.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/catbox@10.2.3: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'
npm WARN deprecated @hapi/catbox-memory@3.2.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/cryptiles@4.2.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hapi@17.9.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/joi@15.1.1: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'
npm WARN deprecated @hapi/joi@16.1.8: Switch to 'npm install joi'

added 36 packages, changed 28 packages, and audited 1114 packages in 8s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.

up to date, audited 1114 packages in 5s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:34:17.271Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:17.271Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:17.271Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:17.272Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:17.332Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:17.456Z appoptics:patching patched crypto 
2021-11-23T06:34:17.483Z appoptics:patching patched https 
2021-11-23T06:34:17.483Z appoptics:patching patched http 
2021-11-23T06:34:17.532Z appoptics:patching patched zlib 
2021-11-23T06:34:17.581Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:17.581Z appoptics:patching patched fs 
2021-11-23T06:34:18.103Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:34:18.103Z appoptics:patching patched @hapi/hapi 17.9.0
2021-11-23T06:34:18.165Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:34:18.168Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (82ms)
  10 failing

  1) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 17.9.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 17.9.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:419:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/catbox-memory@4.1.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hapi@18.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

added 1 package, removed 1 package, changed 2 packages, and audited 1114 packages in 5s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:34:24.160Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:24.161Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:24.161Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:24.162Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:24.238Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:24.401Z appoptics:patching patched crypto 
2021-11-23T06:34:24.420Z appoptics:patching patched https 
2021-11-23T06:34:24.421Z appoptics:patching patched http 
2021-11-23T06:34:24.465Z appoptics:patching patched zlib 
2021-11-23T06:34:24.505Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:24.506Z appoptics:patching patched fs 
2021-11-23T06:34:24.977Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:34:24.977Z appoptics:patching patched @hapi/hapi 18.2.0
2021-11-23T06:34:25.021Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:34:25.024Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (98ms)
  10 failing

  1) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.2.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.2.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hapi@18.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1114 packages in 5s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:34:30.603Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:30.603Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:30.603Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:30.604Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:30.658Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:30.765Z appoptics:patching patched crypto 
2021-11-23T06:34:30.781Z appoptics:patching patched https 
2021-11-23T06:34:30.782Z appoptics:patching patched http 
2021-11-23T06:34:30.824Z appoptics:patching patched zlib 
2021-11-23T06:34:30.865Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:30.866Z appoptics:patching patched fs 
2021-11-23T06:34:31.327Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:34:31.327Z appoptics:patching patched @hapi/hapi 18.3.0
2021-11-23T06:34:31.372Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:34:31.375Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (80ms)
  10 failing

  1) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.0 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.0
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hapi@18.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1114 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:34:37.691Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:37.691Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:37.691Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:37.705Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:37.769Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:37.895Z appoptics:patching patched crypto 
2021-11-23T06:34:37.911Z appoptics:patching patched https 
2021-11-23T06:34:37.912Z appoptics:patching patched http 
2021-11-23T06:34:37.950Z appoptics:patching patched zlib 
2021-11-23T06:34:37.990Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:37.990Z appoptics:patching patched fs 
2021-11-23T06:34:38.514Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:34:38.514Z appoptics:patching patched @hapi/hapi 18.3.1
2021-11-23T06:34:38.574Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:34:38.578Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (81ms)
  10 failing

  1) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from get request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should trace render span:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should skip vision when disabled:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should allow a custom TransactionName:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should handle an error in the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.1 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:

      AssertionError [ERR_ASSERTION]: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.1
      + expected - actual

      -false
      +true
      
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hapi@18.3.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 22 packages, changed 2 packages, and audited 1092 packages in 5s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:34:44.192Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:44.193Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:44.193Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:44.193Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:44.246Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:44.353Z appoptics:patching patched crypto 
2021-11-23T06:34:44.370Z appoptics:patching patched https 
2021-11-23T06:34:44.371Z appoptics:patching patched http 
2021-11-23T06:34:44.412Z appoptics:patching patched zlib 
2021-11-23T06:34:44.454Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:44.454Z appoptics:patching patched fs 
2021-11-23T06:34:44.828Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:34:44.828Z appoptics:patching patched @hapi/hapi 18.3.2
2021-11-23T06:34:44.877Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:34:44.880Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    1) should forward controller/action data from get request
    2) should forward controller/action data from post request
    3) should forward controller/action data from put request
    4) should forward controller/action data from delete request
    5) should trace render span
    6) should skip vision when disabled
    7) should allow a custom TransactionName
    8) should allow a custom TransactionName with domain prefix
    9) should handle an error in the custom name function
    10) should handle a falsey return by the custom name function


  1 passing (69ms)
  10 failing

  1) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from get request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:163:28)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should trace render span:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.renderTest (test/probes/hapi/hapi-17-and-above.js:218:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should skip vision when disabled:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at makeViewServer (test/probes/hapi/hapi-17-and-above.js:155:12)
      at Context.disabledTest (test/probes/hapi/hapi-17-and-above.js:266:26)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should allow a custom TransactionName:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:338:12)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should allow a custom TransactionName with domain prefix:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:351:44)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should handle an error in the custom name function:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:368:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.@hapi/hapi 18.3.2 @hapi/vision 6.1.0
       should handle a falsey return by the custom name function:
     Error: Plugin @hapi/vision requires hapi version >=18.4.0 but found 18.3.2
      at new module.exports (node_modules/@hapi/hoek/lib/error.js:23:19)
      at Object.module.exports [as assert] (node_modules/@hapi/hoek/lib/assert.js:20:11)
      at internals.Server.register (node_modules/@hapi/hapi/lib/server.js:425:22)
      at makeServer (test/probes/hapi/hapi-17-and-above.js:136:22)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-17-and-above.js:388:67
      at Context.<anonymous> (test/probes/hapi/hapi-17-and-above.js:375:45)
      at processImmediate (node:internal/timers:464:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated @hapi/hapi@18.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1092 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:34:50.929Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:50.929Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:50.929Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:50.930Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:50.983Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:51.092Z appoptics:patching patched crypto 
2021-11-23T06:34:51.109Z appoptics:patching patched https 
2021-11-23T06:34:51.109Z appoptics:patching patched http 
2021-11-23T06:34:51.150Z appoptics:patching patched zlib 
2021-11-23T06:34:51.190Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:51.191Z appoptics:patching patched fs 
2021-11-23T06:34:51.532Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:34:51.532Z appoptics:patching patched @hapi/hapi 18.4.0
2021-11-23T06:34:51.575Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:34:51.578Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 18.4.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@18.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1092 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:03.697Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:03.698Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:03.698Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:03.699Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:03.757Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:03.875Z appoptics:patching patched crypto 
2021-11-23T06:35:03.893Z appoptics:patching patched https 
2021-11-23T06:35:03.894Z appoptics:patching patched http 
2021-11-23T06:35:03.938Z appoptics:patching patched zlib 
2021-11-23T06:35:03.981Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:03.981Z appoptics:patching patched fs 
2021-11-23T06:35:04.411Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:35:04.411Z appoptics:patching patched @hapi/hapi 18.4.1
2021-11-23T06:35:04.456Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:35:04.458Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 18.4.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/pinpoint@2.0.0: Moved to 'npm install @sideway/pinpoint'
npm WARN deprecated @hapi/formula@2.0.0: Moved to 'npm install @sideway/formula'
npm WARN deprecated @hapi/call@7.0.1: This version has been deprecated
npm WARN deprecated @hapi/boom@8.0.1: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/teamwork@4.0.0: This version has been deprecated and is no longer supported or maintained
npm WARN deprecated @hapi/address@4.1.0: Moved to 'npm install @sideway/address'
npm WARN deprecated @hapi/hapi@19.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN deprecated @hapi/joi@17.1.1: Switch to 'npm install joi'
npm WARN deprecated @hapi/ammo@4.0.1: This version has been deprecated
npm WARN deprecated @hapi/accept@4.0.1: This version has been deprecated

added 4 packages, removed 10 packages, changed 32 packages, and audited 1086 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (20 moderate, 7 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:16.828Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:16.829Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:16.829Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:16.829Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:16.886Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:16.999Z appoptics:patching patched crypto 
2021-11-23T06:35:17.015Z appoptics:patching patched https 
2021-11-23T06:35:17.015Z appoptics:patching patched http 
2021-11-23T06:35:17.056Z appoptics:patching patched zlib 
2021-11-23T06:35:17.096Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:17.097Z appoptics:patching patched fs 
2021-11-23T06:35:17.330Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:35:17.330Z appoptics:patching patched @hapi/hapi 19.0.0
2021-11-23T06:35:17.340Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:35:17.343Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1086 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (20 moderate, 7 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:29.938Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:29.939Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:29.939Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:29.939Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:29.999Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:30.125Z appoptics:patching patched crypto 
2021-11-23T06:35:30.140Z appoptics:patching patched https 
2021-11-23T06:35:30.141Z appoptics:patching patched http 
2021-11-23T06:35:30.184Z appoptics:patching patched zlib 
2021-11-23T06:35:30.224Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:30.225Z appoptics:patching patched fs 
2021-11-23T06:35:30.462Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:35:30.463Z appoptics:patching patched @hapi/hapi 19.0.1
2021-11-23T06:35:30.472Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:35:30.475Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (55ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1086 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (20 moderate, 7 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:42.892Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:42.892Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:42.893Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:42.893Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:42.947Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:43.053Z appoptics:patching patched crypto 
2021-11-23T06:35:43.074Z appoptics:patching patched https 
2021-11-23T06:35:43.074Z appoptics:patching patched http 
2021-11-23T06:35:43.122Z appoptics:patching patched zlib 
2021-11-23T06:35:43.166Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:43.166Z appoptics:patching patched fs 
2021-11-23T06:35:43.397Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:35:43.397Z appoptics:patching patched @hapi/hapi 19.0.2
2021-11-23T06:35:43.407Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:35:43.409Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1086 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (20 moderate, 7 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:35:55.865Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:55.866Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:55.866Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:55.867Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:55.928Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:56.046Z appoptics:patching patched crypto 
2021-11-23T06:35:56.073Z appoptics:patching patched https 
2021-11-23T06:35:56.074Z appoptics:patching patched http 
2021-11-23T06:35:56.117Z appoptics:patching patched zlib 
2021-11-23T06:35:56.158Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:56.159Z appoptics:patching patched fs 
2021-11-23T06:35:56.426Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:35:56.426Z appoptics:patching patched @hapi/hapi 19.0.3
2021-11-23T06:35:56.451Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:35:56.459Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (66ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.3 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1086 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

29 vulnerabilities (20 moderate, 7 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:09.456Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:09.457Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:09.457Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:09.458Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:09.538Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:09.689Z appoptics:patching patched crypto 
2021-11-23T06:36:09.710Z appoptics:patching patched https 
2021-11-23T06:36:09.710Z appoptics:patching patched http 
2021-11-23T06:36:09.763Z appoptics:patching patched zlib 
2021-11-23T06:36:09.809Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:09.809Z appoptics:patching patched fs 
2021-11-23T06:36:10.149Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:36:10.149Z appoptics:patching patched @hapi/hapi 19.0.4
2021-11-23T06:36:10.159Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:36:10.167Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (84ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.4 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.0.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

removed 3 packages, changed 3 packages, and audited 1083 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:23.057Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:23.057Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:23.057Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:23.058Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:23.114Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:23.224Z appoptics:patching patched crypto 
2021-11-23T06:36:23.241Z appoptics:patching patched https 
2021-11-23T06:36:23.241Z appoptics:patching patched http 
2021-11-23T06:36:23.280Z appoptics:patching patched zlib 
2021-11-23T06:36:23.320Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:23.320Z appoptics:patching patched fs 
2021-11-23T06:36:23.535Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:36:23.535Z appoptics:patching patched @hapi/hapi 19.0.5
2021-11-23T06:36:23.564Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:36:23.571Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (57ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.0.5 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1083 packages in 7s

80 packages are looking for funding
  run `npm fund` for details

27 vulnerabilities (20 moderate, 5 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:36.960Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:36.961Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:36.961Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:36.961Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:37.022Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:37.132Z appoptics:patching patched crypto 
2021-11-23T06:36:37.150Z appoptics:patching patched https 
2021-11-23T06:36:37.151Z appoptics:patching patched http 
2021-11-23T06:36:37.193Z appoptics:patching patched zlib 
2021-11-23T06:36:37.234Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:37.235Z appoptics:patching patched fs 
2021-11-23T06:36:37.451Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:36:37.451Z appoptics:patching patched @hapi/hapi 19.1.0
2021-11-23T06:36:37.460Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:36:37.463Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.1.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 2 packages, and audited 1083 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:36:49.580Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:49.581Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:49.581Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:49.582Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:49.635Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:49.739Z appoptics:patching patched crypto 
2021-11-23T06:36:49.757Z appoptics:patching patched https 
2021-11-23T06:36:49.758Z appoptics:patching patched http 
2021-11-23T06:36:49.797Z appoptics:patching patched zlib 
2021-11-23T06:36:49.838Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:49.838Z appoptics:patching patched fs 
2021-11-23T06:36:50.047Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:36:50.047Z appoptics:patching patched @hapi/hapi 19.1.1
2021-11-23T06:36:50.056Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:36:50.059Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.1.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)



npm WARN deprecated @hapi/hapi@19.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)

changed 1 package, and audited 1083 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:02.442Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:02.443Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:02.443Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:02.443Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:02.505Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:02.622Z appoptics:patching patched crypto 
2021-11-23T06:37:02.640Z appoptics:patching patched https 
2021-11-23T06:37:02.641Z appoptics:patching patched http 
2021-11-23T06:37:02.680Z appoptics:patching patched zlib 
2021-11-23T06:37:02.721Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:02.721Z appoptics:patching patched fs 
2021-11-23T06:37:02.930Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:37:02.930Z appoptics:patching patched @hapi/hapi 19.2.0
2021-11-23T06:37:02.938Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:37:02.942Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 19.2.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




removed 5 packages, changed 2 packages, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:15.154Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:15.154Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:15.154Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:15.155Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:15.208Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:15.317Z appoptics:patching patched crypto 
2021-11-23T06:37:15.334Z appoptics:patching patched https 
2021-11-23T06:37:15.334Z appoptics:patching patched http 
2021-11-23T06:37:15.375Z appoptics:patching patched zlib 
2021-11-23T06:37:15.415Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:15.415Z appoptics:patching patched fs 
2021-11-23T06:37:15.592Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:37:15.592Z appoptics:patching patched @hapi/hapi 20.0.0
2021-11-23T06:37:15.599Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:37:15.602Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (47ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1078 packages in 5s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:27.404Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:27.404Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:27.404Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:27.405Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:27.466Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:27.574Z appoptics:patching patched crypto 
2021-11-23T06:37:27.591Z appoptics:patching patched https 
2021-11-23T06:37:27.592Z appoptics:patching patched http 
2021-11-23T06:37:27.631Z appoptics:patching patched zlib 
2021-11-23T06:37:27.673Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:27.673Z appoptics:patching patched fs 
2021-11-23T06:37:27.856Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:37:27.857Z appoptics:patching patched @hapi/hapi 20.0.1
2021-11-23T06:37:27.867Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:37:27.871Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (45ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1078 packages in 5s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:39.831Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:39.831Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:39.831Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:39.832Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:39.900Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:40.020Z appoptics:patching patched crypto 
2021-11-23T06:37:40.036Z appoptics:patching patched https 
2021-11-23T06:37:40.036Z appoptics:patching patched http 
2021-11-23T06:37:40.076Z appoptics:patching patched zlib 
2021-11-23T06:37:40.118Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:40.119Z appoptics:patching patched fs 
2021-11-23T06:37:40.293Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:37:40.293Z appoptics:patching patched @hapi/hapi 20.0.2
2021-11-23T06:37:40.304Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:37:40.308Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.2 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1078 packages in 5s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:37:51.795Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:51.796Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:51.796Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:51.802Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:51.871Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:51.982Z appoptics:patching patched crypto 
2021-11-23T06:37:52.000Z appoptics:patching patched https 
2021-11-23T06:37:52.001Z appoptics:patching patched http 
2021-11-23T06:37:52.042Z appoptics:patching patched zlib 
2021-11-23T06:37:52.086Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:52.087Z appoptics:patching patched fs 
2021-11-23T06:37:52.266Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:37:52.266Z appoptics:patching patched @hapi/hapi 20.0.3
2021-11-23T06:37:52.271Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:37:52.275Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (47ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.0.3 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1078 packages in 5s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:03.896Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:03.897Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:03.897Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:03.897Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:03.961Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:04.093Z appoptics:patching patched crypto 
2021-11-23T06:38:04.112Z appoptics:patching patched https 
2021-11-23T06:38:04.113Z appoptics:patching patched http 
2021-11-23T06:38:04.159Z appoptics:patching patched zlib 
2021-11-23T06:38:04.204Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:04.205Z appoptics:patching patched fs 
2021-11-23T06:38:04.431Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:38:04.431Z appoptics:patching patched @hapi/hapi 20.1.0
2021-11-23T06:38:04.443Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:38:04.447Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.1.0 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1078 packages in 21s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:32.295Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:32.296Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:32.296Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:32.297Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:32.404Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:32.574Z appoptics:patching patched crypto 
2021-11-23T06:38:32.593Z appoptics:patching patched https 
2021-11-23T06:38:32.594Z appoptics:patching patched http 
2021-11-23T06:38:32.643Z appoptics:patching patched zlib 
2021-11-23T06:38:32.689Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:32.689Z appoptics:patching patched fs 
2021-11-23T06:38:32.879Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:38:32.879Z appoptics:patching patched @hapi/hapi 20.1.1
2021-11-23T06:38:32.885Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:38:32.889Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  8 passing (6s)
  3 failing

  1) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from post request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  2) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from put request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)

  3) probes.@hapi/hapi 20.1.1 @hapi/vision 6.1.0
       should forward controller/action data from delete request:
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/@hapi-hapi.test.js)
      at listOnTimeout (node:internal/timers:557:17)
      at processTimers (node:internal/timers:500:7)




changed 1 package, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:45.781Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:45.782Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:45.782Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:45.783Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:45.846Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:45.972Z appoptics:patching patched crypto 
2021-11-23T06:38:45.991Z appoptics:patching patched https 
2021-11-23T06:38:45.991Z appoptics:patching patched http 
2021-11-23T06:38:46.036Z appoptics:patching patched zlib 
2021-11-23T06:38:46.084Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:46.084Z appoptics:patching patched fs 
2021-11-23T06:38:46.276Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:38:46.276Z appoptics:patching patched @hapi/hapi 20.1.2
2021-11-23T06:38:46.287Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:38:46.290Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.2 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (216ms)


changed 2 packages, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:53.286Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:53.287Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:53.287Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:53.288Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:53.350Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:53.468Z appoptics:patching patched crypto 
2021-11-23T06:38:53.486Z appoptics:patching patched https 
2021-11-23T06:38:53.487Z appoptics:patching patched http 
2021-11-23T06:38:53.531Z appoptics:patching patched zlib 
2021-11-23T06:38:53.574Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:53.575Z appoptics:patching patched fs 
2021-11-23T06:38:53.741Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:38:53.741Z appoptics:patching patched @hapi/hapi 20.1.3
2021-11-23T06:38:53.748Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:38:53.752Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.3 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (189ms)


changed 1 package, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:38:59.970Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:59.971Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:59.971Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:59.972Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:00.043Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:00.180Z appoptics:patching patched crypto 
2021-11-23T06:39:00.199Z appoptics:patching patched https 
2021-11-23T06:39:00.200Z appoptics:patching patched http 
2021-11-23T06:39:00.248Z appoptics:patching patched zlib 
2021-11-23T06:39:00.299Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:00.299Z appoptics:patching patched fs 
2021-11-23T06:39:00.518Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:39:00.519Z appoptics:patching patched @hapi/hapi 20.1.4
2021-11-23T06:39:00.526Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:39:00.530Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.4 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (191ms)


changed 1 package, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:07.547Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:07.547Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:07.547Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:07.548Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:07.610Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:07.733Z appoptics:patching patched crypto 
2021-11-23T06:39:07.752Z appoptics:patching patched https 
2021-11-23T06:39:07.753Z appoptics:patching patched http 
2021-11-23T06:39:07.798Z appoptics:patching patched zlib 
2021-11-23T06:39:07.845Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:07.846Z appoptics:patching patched fs 
2021-11-23T06:39:08.015Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:39:08.015Z appoptics:patching patched @hapi/hapi 20.1.5
2021-11-23T06:39:08.022Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:39:08.026Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.1.5 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (192ms)


changed 1 package, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:14.225Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:14.226Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:14.226Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:14.227Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:14.291Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:14.417Z appoptics:patching patched crypto 
2021-11-23T06:39:14.437Z appoptics:patching patched https 
2021-11-23T06:39:14.438Z appoptics:patching patched http 
2021-11-23T06:39:14.485Z appoptics:patching patched zlib 
2021-11-23T06:39:14.534Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:14.534Z appoptics:patching patched fs 
2021-11-23T06:39:14.722Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:39:14.722Z appoptics:patching patched @hapi/hapi 20.2.0
2021-11-23T06:39:14.730Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:39:14.734Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.2.0 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (54ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (204ms)


changed 1 package, and audited 1078 packages in 6s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-11-23T06:39:20.911Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:20.911Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:20.911Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:20.912Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:20.969Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:21.087Z appoptics:patching patched crypto 
2021-11-23T06:39:21.105Z appoptics:patching patched https 
2021-11-23T06:39:21.106Z appoptics:patching patched http 
2021-11-23T06:39:21.153Z appoptics:patching patched zlib 
2021-11-23T06:39:21.204Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:21.205Z appoptics:patching patched fs 
2021-11-23T06:39:21.443Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2021-11-23T06:39:21.443Z appoptics:patching patched @hapi/hapi 20.2.1
2021-11-23T06:39:21.451Z appoptics:patching patched @hapi/vision 6.1.0
2021-11-23T06:39:21.455Z appoptics:debug starting runtimeMetrics


  probes.@hapi/hapi 20.2.1 @hapi/vision 6.1.0
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (209ms)


up to date, audited 1078 packages in 5s

80 packages are looking for funding
  run `npm fund` for details

26 vulnerabilities (20 moderate, 4 high, 2 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
