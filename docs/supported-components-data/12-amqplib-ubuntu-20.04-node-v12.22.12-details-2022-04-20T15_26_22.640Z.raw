npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.2.0: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"12.22.12","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.2.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.2.0
added 1 package from 3 contributors, removed 6 packages, updated 3 packages and audited 929 packages in 5.137s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:26:28.819Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:26:28.820Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:26:28.820Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:26:28.820Z appoptics:debug using context provider: ace-context
2022-04-20T15:26:28.882Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:26:29.012Z appoptics:patching patched crypto 
2022-04-20T15:26:29.030Z appoptics:patching patched https 
2022-04-20T15:26:29.030Z appoptics:patching patched http 
2022-04-20T15:26:29.074Z appoptics:patching patched amqplib 0.2.0
2022-04-20T15:26:29.076Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:26:29.078Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.0
    ✓ UDP might lose a message
    promises
      1) "before all" hook for "should report send and consume in existing trace"
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      3) "before all" hook for "should report send and consume in existing trace"
      4) "after all" hook for "should include SourceTrace in consume external to traced publish"


  1 passing (4s)
  4 failing

  1) probes.amqplib 0.2.0
       promises
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
      at listOnTimeout (internal/timers.js:554:17)
      at processTimers (internal/timers.js:497:7)

  2) probes.amqplib 0.2.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read property 'close' of undefined
      at Context.<anonymous> (test/probes/amqplib.test.js:181:23)
      at processImmediate (internal/timers.js:461:21)
      at process.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.amqplib 0.2.0
       callbacks
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
      at listOnTimeout (internal/timers.js:554:17)
      at processTimers (internal/timers.js:497:7)

  4) probes.amqplib 0.2.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read property 'close' of undefined
      at Context.<anonymous> (test/probes/amqplib.test.js:211:23)
      at processImmediate (internal/timers.js:461:21)
      at process.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.2.1: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"12.22.12","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.2.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.2.1
updated 2 packages and audited 929 packages in 4.091s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:26:38.226Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:26:38.227Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:26:38.227Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:26:38.228Z appoptics:debug using context provider: ace-context
2022-04-20T15:26:38.289Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:26:38.414Z appoptics:patching patched crypto 
2022-04-20T15:26:38.430Z appoptics:patching patched https 
2022-04-20T15:26:38.431Z appoptics:patching patched http 
2022-04-20T15:26:38.483Z appoptics:patching patched amqplib 0.2.1
2022-04-20T15:26:38.484Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:26:38.487Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.1
    ✓ UDP might lose a message
    promises
(node:487) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (49ms)
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (155ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.3.0: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"12.22.12","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.0
updated 1 package and audited 929 packages in 4.151s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:26:43.691Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:26:43.692Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:26:43.692Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:26:43.692Z appoptics:debug using context provider: ace-context
2022-04-20T15:26:43.772Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:26:43.907Z appoptics:patching patched crypto 
2022-04-20T15:26:43.924Z appoptics:patching patched https 
2022-04-20T15:26:43.924Z appoptics:patching patched http 
2022-04-20T15:26:44.011Z appoptics:patching patched amqplib 0.3.0
2022-04-20T15:26:44.013Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:26:44.015Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.0
    ✓ UDP might lose a message
    promises
(node:509) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (51ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (49ms)


  7 passing (228ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.3.1: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11 || 0.12 || 1.0 || 1.1"} (current: {"node":"12.22.12","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.1
updated 2 packages and audited 929 packages in 4.843s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:26:50.035Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:26:50.036Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:26:50.036Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:26:50.036Z appoptics:debug using context provider: ace-context
2022-04-20T15:26:50.098Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:26:50.223Z appoptics:patching patched crypto 
2022-04-20T15:26:50.239Z appoptics:patching patched https 
2022-04-20T15:26:50.240Z appoptics:patching patched http 
2022-04-20T15:26:50.296Z appoptics:patching patched amqplib 0.3.1
2022-04-20T15:26:50.298Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:26:50.300Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.1
    ✓ UDP might lose a message
    promises
(node:531) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (50ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (53ms)


  7 passing (191ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.3.2: wanted: {"node":">=0.8 <0.13 || ^1"} (current: {"node":"12.22.12","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.2
updated 1 package and audited 929 packages in 3.922s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:26:55.395Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:26:55.396Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:26:55.396Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:26:55.396Z appoptics:debug using context provider: ace-context
2022-04-20T15:26:55.465Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:26:55.611Z appoptics:patching patched crypto 
2022-04-20T15:26:55.628Z appoptics:patching patched https 
2022-04-20T15:26:55.628Z appoptics:patching patched http 
2022-04-20T15:26:55.702Z appoptics:patching patched amqplib 0.3.2
2022-04-20T15:26:55.703Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:26:55.706Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.2
    ✓ UDP might lose a message
    promises
(node:553) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (53ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (48ms)


  7 passing (221ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.4.0: wanted: {"node":">=0.8 <4 || ^4"} (current: {"node":"12.22.12","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.0
updated 1 package and audited 929 packages in 5.771s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:03.090Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:03.091Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:03.091Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:03.092Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:03.154Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:03.277Z appoptics:patching patched crypto 
2022-04-20T15:27:03.295Z appoptics:patching patched https 
2022-04-20T15:27:03.296Z appoptics:patching patched http 
2022-04-20T15:27:03.344Z appoptics:patching patched amqplib 0.4.0
2022-04-20T15:27:03.346Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:27:03.348Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.0
    ✓ UDP might lose a message
    promises
(node:575) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (55ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
      1) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (46ms)
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"


  7 passing (214ms)
  2 failing

  1) probes.amqplib 0.4.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at emitReadable_ (_stream_readable.js:557:12)
      at processTicksAndRejections (internal/process/task_queues.js:83:21)

  2) probes.amqplib 0.4.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at emitReadable_ (_stream_readable.js:557:12)
      at processTicksAndRejections (internal/process/task_queues.js:83:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.4.1: wanted: {"node":">=0.8 <5 || ^5"} (current: {"node":"12.22.12","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.1
updated 1 package and audited 929 packages in 3.704s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:08.183Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:08.183Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:08.183Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:08.184Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:08.246Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:08.371Z appoptics:patching patched crypto 
2022-04-20T15:27:08.387Z appoptics:patching patched https 
2022-04-20T15:27:08.387Z appoptics:patching patched http 
2022-04-20T15:27:08.442Z appoptics:patching patched amqplib 0.4.1
2022-04-20T15:27:08.443Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:27:08.446Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.1
    ✓ UDP might lose a message
    promises
(node:597) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (45ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (50ms)


  7 passing (225ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.4.2: wanted: {"node":">=0.8 <6 || ^6"} (current: {"node":"12.22.12","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.2
updated 1 package and audited 929 packages in 4.853s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:14.490Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:14.491Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:14.491Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:14.491Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:14.553Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:14.682Z appoptics:patching patched crypto 
2022-04-20T15:27:14.699Z appoptics:patching patched https 
2022-04-20T15:27:14.699Z appoptics:patching patched http 
2022-04-20T15:27:14.748Z appoptics:patching patched amqplib 0.4.2
2022-04-20T15:27:14.750Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:27:14.752Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.2
    ✓ UDP might lose a message
    promises
(node:619) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (47ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (221ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.1: wanted: {"node":">=0.8 <6 || ^6"} (current: {"node":"12.22.12","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.1
removed 1 package, updated 1 package and audited 929 packages in 3.982s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:19.902Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:19.903Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:19.903Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:19.904Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:19.966Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:20.097Z appoptics:patching patched crypto 
2022-04-20T15:27:20.115Z appoptics:patching patched https 
2022-04-20T15:27:20.115Z appoptics:patching patched http 
2022-04-20T15:27:20.176Z appoptics:patching patched bluebird 3.7.2
2022-04-20T15:27:20.178Z appoptics:patching patched amqplib 0.5.1
2022-04-20T15:27:20.180Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:27:20.182Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.1
    ✓ UDP might lose a message
    promises
(node:641) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (49ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (48ms)


  7 passing (221ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.2: wanted: {"node":">=0.8 <=9"} (current: {"node":"12.22.12","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.2
updated 1 package and audited 929 packages in 5.037s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:26.415Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:26.416Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:26.416Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:26.416Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:26.482Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:26.607Z appoptics:patching patched crypto 
2022-04-20T15:27:26.625Z appoptics:patching patched https 
2022-04-20T15:27:26.625Z appoptics:patching patched http 
2022-04-20T15:27:26.686Z appoptics:patching patched bluebird 3.7.2
2022-04-20T15:27:26.688Z appoptics:patching patched amqplib 0.5.2
2022-04-20T15:27:26.690Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:27:26.692Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.2
    ✓ UDP might lose a message
    promises
(node:663) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace (57ms)
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (48ms)


  7 passing (242ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.3: wanted: {"node":">=0.8 <=9"} (current: {"node":"12.22.12","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.3
added 7 packages from 5 contributors, updated 3 packages and audited 936 packages in 4.885s

86 packages are looking for funding
  run `npm fund` for details

found 13 vulnerabilities (6 moderate, 6 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:32.715Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:32.715Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:32.716Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:32.716Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:32.786Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:32.947Z appoptics:patching patched crypto 
2022-04-20T15:27:32.964Z appoptics:patching patched https 
2022-04-20T15:27:32.964Z appoptics:patching patched http 
2022-04-20T15:27:33.059Z appoptics:patching patched bluebird 3.7.2
2022-04-20T15:27:33.061Z appoptics:patching patched amqplib 0.5.3
2022-04-20T15:27:33.063Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:27:33.065Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.3
    ✓ UDP might lose a message
    promises
(node:685) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (49ms)
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (48ms)


  7 passing (185ms)

npm WARN deprecated amqplib@0.5.4: See github.com/squaremo/amqp.node/issues/534
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.4
updated 1 package and audited 936 packages in 6.145s

86 packages are looking for funding
  run `npm fund` for details

found 13 vulnerabilities (6 moderate, 6 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:40.476Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:40.476Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:40.476Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:40.477Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:40.540Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:40.667Z appoptics:patching patched crypto 
2022-04-20T15:27:40.683Z appoptics:patching patched https 
2022-04-20T15:27:40.684Z appoptics:patching patched http 

Error: Cannot find module './defs'
Require stack:
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js
- /__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/esm-utils.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/mocha.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/one-and-dones.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/lib/cli/options.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/mocha/bin/mocha
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:815:15)
    at Function.Module._load (internal/modules/cjs/loader.js:667:27)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js:7:12)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js:11:18)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js:1:19)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.5
updated 1 package and audited 936 packages in 3.814s

86 packages are looking for funding
  run `npm fund` for details

found 13 vulnerabilities (6 moderate, 6 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:45.432Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:45.432Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:45.432Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:45.433Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:45.500Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:45.651Z appoptics:patching patched crypto 
2022-04-20T15:27:45.668Z appoptics:patching patched https 
2022-04-20T15:27:45.669Z appoptics:patching patched http 
2022-04-20T15:27:45.754Z appoptics:patching patched bluebird 3.7.2
2022-04-20T15:27:45.756Z appoptics:patching patched amqplib 0.5.5
2022-04-20T15:27:45.758Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:27:45.760Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.5
    ✓ UDP might lose a message
    promises
(node:725) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (49ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (53ms)


  7 passing (279ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.6
updated 1 package and audited 936 packages in 4.297s

86 packages are looking for funding
  run `npm fund` for details

found 13 vulnerabilities (6 moderate, 6 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:51.325Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:51.326Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:51.326Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:51.326Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:51.389Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:51.519Z appoptics:patching patched crypto 
2022-04-20T15:27:51.538Z appoptics:patching patched https 
2022-04-20T15:27:51.539Z appoptics:patching patched http 
2022-04-20T15:27:51.598Z appoptics:patching patched bluebird 3.7.2
2022-04-20T15:27:51.600Z appoptics:patching patched amqplib 0.5.6
2022-04-20T15:27:51.602Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:27:51.604Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.6
    ✓ UDP might lose a message
    promises
(node:747) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (46ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (212ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.6.0
updated 1 package and audited 936 packages in 3.694s

86 packages are looking for funding
  run `npm fund` for details

found 13 vulnerabilities (6 moderate, 6 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:56.421Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:56.421Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:56.422Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:56.422Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:56.484Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:56.608Z appoptics:patching patched crypto 
2022-04-20T15:27:56.626Z appoptics:patching patched https 
2022-04-20T15:27:56.626Z appoptics:patching patched http 
2022-04-20T15:27:56.687Z appoptics:patching patched bluebird 3.7.2
2022-04-20T15:27:56.689Z appoptics:patching patched amqplib 0.6.0
2022-04-20T15:27:56.690Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:27:56.697Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.6.0
    ✓ UDP might lose a message
    promises
(node:769) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (50ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (49ms)


  7 passing (228ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.7.0
updated 1 package and audited 936 packages in 4.671s

86 packages are looking for funding
  run `npm fund` for details

found 13 vulnerabilities (6 moderate, 6 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:02.495Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:02.496Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:02.496Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:02.497Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:02.561Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:02.688Z appoptics:patching patched crypto 
2022-04-20T15:28:02.707Z appoptics:patching patched https 
2022-04-20T15:28:02.707Z appoptics:patching patched http 
2022-04-20T15:28:02.773Z appoptics:patching patched bluebird 3.7.2
2022-04-20T15:28:02.775Z appoptics:patching patched amqplib 0.7.0
2022-04-20T15:28:02.777Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:28:02.779Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.0
    ✓ UDP might lose a message
    promises
(node:791) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (46ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (145ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.7.1
removed 1 package, updated 2 packages and audited 935 packages in 3.93s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:07.742Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:07.743Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:07.743Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:07.744Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:07.807Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:07.932Z appoptics:patching patched crypto 
2022-04-20T15:28:07.950Z appoptics:patching patched https 
2022-04-20T15:28:07.950Z appoptics:patching patched http 
2022-04-20T15:28:08.012Z appoptics:patching patched bluebird 3.7.2
2022-04-20T15:28:08.014Z appoptics:patching patched amqplib 0.7.1
2022-04-20T15:28:08.015Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:28:08.018Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.1
    ✓ UDP might lose a message
    promises
(node:813) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (45ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish


  7 passing (211ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.8.0
updated 1 package and audited 935 packages in 4.284s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:13.387Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:13.387Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:13.388Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:13.388Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:13.446Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:13.574Z appoptics:patching patched crypto 
2022-04-20T15:28:13.593Z appoptics:patching patched https 
2022-04-20T15:28:13.593Z appoptics:patching patched http 
2022-04-20T15:28:13.655Z appoptics:patching patched bluebird 3.7.2
2022-04-20T15:28:13.657Z appoptics:patching patched amqplib 0.8.0
2022-04-20T15:28:13.658Z appoptics:patching patched amqplib/callback_api 
2022-04-20T15:28:13.660Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.8.0
    ✓ UDP might lose a message
    promises
(node:835) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume (51ms)
      ✓ should include SourceTrace in consume external to traced publish
    callbacks
      ✓ should report send and consume in existing trace
      ✓ should start new trace for consume
      ✓ should include SourceTrace in consume external to traced publish (48ms)


  7 passing (222ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.8.0
updated 1 package and audited 935 packages in 3.94s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
